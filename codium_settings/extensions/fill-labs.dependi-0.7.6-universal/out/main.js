"use strict";var $i=Object.create;var ot=Object.defineProperty;var ki=Object.getOwnPropertyDescriptor;var Vi=Object.getOwnPropertyNames;var Ui=Object.getPrototypeOf,qi=Object.prototype.hasOwnProperty;var R=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Mi=(t,e)=>{for(var r in e)ot(t,r,{get:e[r],enumerable:!0})},Ar=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Vi(e))!qi.call(t,s)&&s!==r&&ot(t,s,{get:()=>e[s],enumerable:!(n=ki(e,s))||n.enumerable});return t};var w=(t,e,r)=>(r=t!=null?$i(Ui(t)):{},Ar(e||!t||!t.__esModule?ot(r,"default",{value:t,enumerable:!0}):r,t)),Fi=t=>Ar(ot({},"__esModule",{value:!0}),t);var je=R((su,Ur)=>{var Gi=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Ur.exports=Gi});var We=R((iu,qr)=>{var Hi="2.0.0",Bi=Number.MAX_SAFE_INTEGER||9007199254740991,ji=16,Wi=250,Xi=["major","premajor","minor","preminor","patch","prepatch","prerelease"];qr.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:ji,MAX_SAFE_BUILD_LENGTH:Wi,MAX_SAFE_INTEGER:Bi,RELEASE_TYPES:Xi,SEMVER_SPEC_VERSION:Hi,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ie=R((re,Mr)=>{var{MAX_SAFE_COMPONENT_LENGTH:Ht,MAX_SAFE_BUILD_LENGTH:Yi,MAX_LENGTH:Ki}=We(),zi=je();re=Mr.exports={};var Ji=re.re=[],Qi=re.safeRe=[],d=re.src=[],g=re.t={},Zi=0,Bt="[a-zA-Z0-9-]",eo=[["\\s",1],["\\d",Ki],[Bt,Yi]],to=t=>{for(let[e,r]of eo)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},y=(t,e,r)=>{let n=to(e),s=Zi++;zi(t,s,e),g[t]=s,d[s]=e,Ji[s]=new RegExp(e,r?"g":void 0),Qi[s]=new RegExp(n,r?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*");y("NUMERICIDENTIFIERLOOSE","\\d+");y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Bt}*`);y("MAINVERSION",`(${d[g.NUMERICIDENTIFIER]})\\.(${d[g.NUMERICIDENTIFIER]})\\.(${d[g.NUMERICIDENTIFIER]})`);y("MAINVERSIONLOOSE",`(${d[g.NUMERICIDENTIFIERLOOSE]})\\.(${d[g.NUMERICIDENTIFIERLOOSE]})\\.(${d[g.NUMERICIDENTIFIERLOOSE]})`);y("PRERELEASEIDENTIFIER",`(?:${d[g.NUMERICIDENTIFIER]}|${d[g.NONNUMERICIDENTIFIER]})`);y("PRERELEASEIDENTIFIERLOOSE",`(?:${d[g.NUMERICIDENTIFIERLOOSE]}|${d[g.NONNUMERICIDENTIFIER]})`);y("PRERELEASE",`(?:-(${d[g.PRERELEASEIDENTIFIER]}(?:\\.${d[g.PRERELEASEIDENTIFIER]})*))`);y("PRERELEASELOOSE",`(?:-?(${d[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[g.PRERELEASEIDENTIFIERLOOSE]})*))`);y("BUILDIDENTIFIER",`${Bt}+`);y("BUILD",`(?:\\+(${d[g.BUILDIDENTIFIER]}(?:\\.${d[g.BUILDIDENTIFIER]})*))`);y("FULLPLAIN",`v?${d[g.MAINVERSION]}${d[g.PRERELEASE]}?${d[g.BUILD]}?`);y("FULL",`^${d[g.FULLPLAIN]}$`);y("LOOSEPLAIN",`[v=\\s]*${d[g.MAINVERSIONLOOSE]}${d[g.PRERELEASELOOSE]}?${d[g.BUILD]}?`);y("LOOSE",`^${d[g.LOOSEPLAIN]}$`);y("GTLT","((?:<|>)?=?)");y("XRANGEIDENTIFIERLOOSE",`${d[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);y("XRANGEIDENTIFIER",`${d[g.NUMERICIDENTIFIER]}|x|X|\\*`);y("XRANGEPLAIN",`[v=\\s]*(${d[g.XRANGEIDENTIFIER]})(?:\\.(${d[g.XRANGEIDENTIFIER]})(?:\\.(${d[g.XRANGEIDENTIFIER]})(?:${d[g.PRERELEASE]})?${d[g.BUILD]}?)?)?`);y("XRANGEPLAINLOOSE",`[v=\\s]*(${d[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[g.XRANGEIDENTIFIERLOOSE]})(?:${d[g.PRERELEASELOOSE]})?${d[g.BUILD]}?)?)?`);y("XRANGE",`^${d[g.GTLT]}\\s*${d[g.XRANGEPLAIN]}$`);y("XRANGELOOSE",`^${d[g.GTLT]}\\s*${d[g.XRANGEPLAINLOOSE]}$`);y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Ht}})(?:\\.(\\d{1,${Ht}}))?(?:\\.(\\d{1,${Ht}}))?`);y("COERCE",`${d[g.COERCEPLAIN]}(?:$|[^\\d])`);y("COERCEFULL",d[g.COERCEPLAIN]+`(?:${d[g.PRERELEASE]})?(?:${d[g.BUILD]})?(?:$|[^\\d])`);y("COERCERTL",d[g.COERCE],!0);y("COERCERTLFULL",d[g.COERCEFULL],!0);y("LONETILDE","(?:~>?)");y("TILDETRIM",`(\\s*)${d[g.LONETILDE]}\\s+`,!0);re.tildeTrimReplace="$1~";y("TILDE",`^${d[g.LONETILDE]}${d[g.XRANGEPLAIN]}$`);y("TILDELOOSE",`^${d[g.LONETILDE]}${d[g.XRANGEPLAINLOOSE]}$`);y("LONECARET","(?:\\^)");y("CARETTRIM",`(\\s*)${d[g.LONECARET]}\\s+`,!0);re.caretTrimReplace="$1^";y("CARET",`^${d[g.LONECARET]}${d[g.XRANGEPLAIN]}$`);y("CARETLOOSE",`^${d[g.LONECARET]}${d[g.XRANGEPLAINLOOSE]}$`);y("COMPARATORLOOSE",`^${d[g.GTLT]}\\s*(${d[g.LOOSEPLAIN]})$|^$`);y("COMPARATOR",`^${d[g.GTLT]}\\s*(${d[g.FULLPLAIN]})$|^$`);y("COMPARATORTRIM",`(\\s*)${d[g.GTLT]}\\s*(${d[g.LOOSEPLAIN]}|${d[g.XRANGEPLAIN]})`,!0);re.comparatorTrimReplace="$1$2$3";y("HYPHENRANGE",`^\\s*(${d[g.XRANGEPLAIN]})\\s+-\\s+(${d[g.XRANGEPLAIN]})\\s*$`);y("HYPHENRANGELOOSE",`^\\s*(${d[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[g.XRANGEPLAINLOOSE]})\\s*$`);y("STAR","(<|>)?=?\\s*\\*");y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var at=R((ou,Fr)=>{var ro=Object.freeze({loose:!0}),no=Object.freeze({}),so=t=>t?typeof t!="object"?ro:t:no;Fr.exports=so});var jt=R((au,Br)=>{var Gr=/^[0-9]+$/,Hr=(t,e)=>{let r=Gr.test(t),n=Gr.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},io=(t,e)=>Hr(e,t);Br.exports={compareIdentifiers:Hr,rcompareIdentifiers:io}});var C=R((cu,Yr)=>{var ct=je(),{MAX_LENGTH:jr,MAX_SAFE_INTEGER:lt}=We(),{safeRe:Wr,t:Xr}=Ie(),oo=at(),{compareIdentifiers:xe}=jt(),Wt=class t{constructor(e,r){if(r=oo(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>jr)throw new TypeError(`version is longer than ${jr} characters`);ct("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Wr[Xr.LOOSE]:Wr[Xr.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>lt||this.major<0)throw new TypeError("Invalid major version");if(this.minor>lt||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>lt||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<lt)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ct("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),xe(this.major,e.major)||xe(this.minor,e.minor)||xe(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=e.prerelease[r];if(ct("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return xe(n,s)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],s=e.build[r];if(ct("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return xe(n,s)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),xe(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Yr.exports=Wt});var Xt=R((lu,Kr)=>{var ao=C(),co=(t,e)=>new ao(t,e).major;Kr.exports=co});var pn=R((_p,gt)=>{var Co=function(){"use strict";function t(u,p){return p!=null&&u instanceof p}var e;try{e=Map}catch{e=function(){}}var r;try{r=Set}catch{r=function(){}}var n;try{n=Promise}catch{n=function(){}}function s(u,p,f,h,I){typeof p=="object"&&(f=p.depth,h=p.prototype,I=p.includeNonEnumerable,p=p.circular);var D=[],O=[],X=typeof Buffer<"u";typeof p>"u"&&(p=!0),typeof f>"u"&&(f=1/0);function U(v,q){if(v===null)return null;if(q===0)return v;var b,te;if(typeof v!="object")return v;if(t(v,e))b=new e;else if(t(v,r))b=new r;else if(t(v,n))b=new n(function(Ge,He){v.then(function(Be){Ge(U(Be,q-1))},function(Be){He(U(Be,q-1))})});else if(s.__isArray(v))b=[];else if(s.__isRegExp(v))b=new RegExp(v.source,c(v)),v.lastIndex&&(b.lastIndex=v.lastIndex);else if(s.__isDate(v))b=new Date(v.getTime());else{if(X&&Buffer.isBuffer(v))return Buffer.allocUnsafe?b=Buffer.allocUnsafe(v.length):b=new Buffer(v.length),v.copy(b),b;t(v,Error)?b=Object.create(v):typeof h>"u"?(te=Object.getPrototypeOf(v),b=Object.create(te)):(b=Object.create(h),te=h)}if(p){var Nr=D.indexOf(v);if(Nr!=-1)return O[Nr];D.push(v),O.push(b)}t(v,e)&&v.forEach(function(Ge,He){var Be=U(He,q-1),Ai=U(Ge,q-1);b.set(Be,Ai)}),t(v,r)&&v.forEach(function(Ge){var He=U(Ge,q-1);b.add(He)});for(var Y in v){var Gt;te&&(Gt=Object.getOwnPropertyDescriptor(te,Y)),!(Gt&&Gt.set==null)&&(b[Y]=U(v[Y],q-1))}if(Object.getOwnPropertySymbols)for(var _r=Object.getOwnPropertySymbols(v),Y=0;Y<_r.length;Y++){var st=_r[Y],Re=Object.getOwnPropertyDescriptor(v,st);Re&&!Re.enumerable&&!I||(b[st]=U(v[st],q-1),Re.enumerable||Object.defineProperty(b,st,{enumerable:!1}))}if(I)for(var Cr=Object.getOwnPropertyNames(v),Y=0;Y<Cr.length;Y++){var it=Cr[Y],Re=Object.getOwnPropertyDescriptor(v,it);Re&&Re.enumerable||(b[it]=U(v[it],q-1),Object.defineProperty(b,it,{enumerable:!1}))}return b}return U(u,f)}s.clonePrototype=function(p){if(p===null)return null;var f=function(){};return f.prototype=p,new f};function i(u){return Object.prototype.toString.call(u)}s.__objToStr=i;function a(u){return typeof u=="object"&&i(u)==="[object Date]"}s.__isDate=a;function l(u){return typeof u=="object"&&i(u)==="[object Array]"}s.__isArray=l;function o(u){return typeof u=="object"&&i(u)==="[object RegExp]"}s.__isRegExp=o;function c(u){var p="";return u.global&&(p+="g"),u.ignoreCase&&(p+="i"),u.multiline&&(p+="m"),p}return s.__getRegExpFlags=c,s}();typeof gt=="object"&&gt.exports&&(gt.exports=Co)});var hn=R((fn,mn)=>{(function(){var t,e,r,n=[].splice,s=function(a,l){if(!(a instanceof l))throw new Error("Bound instance method accessed before binding")},i=[].indexOf;r=pn(),t=require("events").EventEmitter,mn.exports=e=function(){class a extends t{constructor(o={}){super(),this.get=this.get.bind(this),this.mget=this.mget.bind(this),this.set=this.set.bind(this),this.mset=this.mset.bind(this),this.del=this.del.bind(this),this.take=this.take.bind(this),this.ttl=this.ttl.bind(this),this.getTtl=this.getTtl.bind(this),this.keys=this.keys.bind(this),this.has=this.has.bind(this),this.getStats=this.getStats.bind(this),this.flushAll=this.flushAll.bind(this),this.flushStats=this.flushStats.bind(this),this.close=this.close.bind(this),this._checkData=this._checkData.bind(this),this._check=this._check.bind(this),this._isInvalidKey=this._isInvalidKey.bind(this),this._wrap=this._wrap.bind(this),this._getValLength=this._getValLength.bind(this),this._error=this._error.bind(this),this._initErrors=this._initErrors.bind(this),this.options=o,this._initErrors(),this.data={},this.options=Object.assign({forceString:!1,objectValueSize:80,promiseValueSize:80,arrayValueSize:40,stdTTL:0,checkperiod:600,useClones:!0,deleteOnExpire:!0,enableLegacyCallbacks:!1,maxKeys:-1},this.options),this.options.enableLegacyCallbacks&&(console.warn("WARNING! node-cache legacy callback support will drop in v6.x"),["get","mget","set","del","ttl","getTtl","keys","has"].forEach(c=>{var u;u=this[c],this[c]=function(...p){var f,h,I,D;if(I=p,[...p]=I,[f]=n.call(p,-1),typeof f=="function")try{D=u(...p),f(null,D)}catch(O){h=O,f(h)}else return u(...p,f)}})),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.validKeyTypes=["string","number"],this._checkData()}get(o){var c,u;if(s(this,a),(u=this._isInvalidKey(o))!=null)throw u;if(this.data[o]!=null&&this._check(o,this.data[o]))return this.stats.hits++,c=this._unwrap(this.data[o]),c;this.stats.misses++}mget(o){var c,u,p,f,h,I;if(s(this,a),!Array.isArray(o))throw c=this._error("EKEYSTYPE"),c;for(I={},p=0,h=o.length;p<h;p++){if(f=o[p],(u=this._isInvalidKey(f))!=null)throw u;this.data[f]!=null&&this._check(f,this.data[f])?(this.stats.hits++,I[f]=this._unwrap(this.data[f])):this.stats.misses++}return I}set(o,c,u){var p,f,h;if(s(this,a),this.options.maxKeys>-1&&this.stats.keys>=this.options.maxKeys)throw p=this._error("ECACHEFULL"),p;if(this.options.forceString&&!1==="string"&&(c=JSON.stringify(c)),u==null&&(u=this.options.stdTTL),(f=this._isInvalidKey(o))!=null)throw f;return h=!1,this.data[o]&&(h=!0,this.stats.vsize-=this._getValLength(this._unwrap(this.data[o],!1))),this.data[o]=this._wrap(c,u),this.stats.vsize+=this._getValLength(c),h||(this.stats.ksize+=this._getKeyLength(o),this.stats.keys++),this.emit("set",o,c),!0}mset(o){var c,u,p,f,h,I,D,O,X,U;if(s(this,a),this.options.maxKeys>-1&&this.stats.keys+o.length>=this.options.maxKeys)throw c=this._error("ECACHEFULL"),c;for(p=0,D=o.length;p<D;p++){if(I=o[p],{key:h,val:U,ttl:X}=I,X&&typeof X!="number")throw c=this._error("ETTLTYPE"),c;if((u=this._isInvalidKey(h))!=null)throw u}for(f=0,O=o.length;f<O;f++)I=o[f],{key:h,val:U,ttl:X}=I,this.set(h,U,X);return!0}del(o){var c,u,p,f,h,I;for(s(this,a),Array.isArray(o)||(o=[o]),c=0,p=0,h=o.length;p<h;p++){if(f=o[p],(u=this._isInvalidKey(f))!=null)throw u;this.data[f]!=null&&(this.stats.vsize-=this._getValLength(this._unwrap(this.data[f],!1)),this.stats.ksize-=this._getKeyLength(f),this.stats.keys--,c++,I=this.data[f],delete this.data[f],this.emit("del",f,I.v))}return c}take(o){var c;return s(this,a),c=this.get(o),c!=null&&this.del(o),c}ttl(o,c){var u;if(s(this,a),c||(c=this.options.stdTTL),!o)return!1;if((u=this._isInvalidKey(o))!=null)throw u;return this.data[o]!=null&&this._check(o,this.data[o])?(c>=0?this.data[o]=this._wrap(this.data[o].v,c,!1):this.del(o),!0):!1}getTtl(o){var c,u;if(s(this,a),!!o){if((u=this._isInvalidKey(o))!=null)throw u;if(this.data[o]!=null&&this._check(o,this.data[o]))return c=this.data[o].t,c}}keys(){var o;return s(this,a),o=Object.keys(this.data),o}has(o){var c;return s(this,a),c=this.data[o]!=null&&this._check(o,this.data[o]),c}getStats(){return s(this,a),this.stats}flushAll(o=!0){s(this,a),this.data={},this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this._killCheckPeriod(),this._checkData(o),this.emit("flush")}flushStats(){s(this,a),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.emit("flush_stats")}close(){s(this,a),this._killCheckPeriod()}_checkData(o=!0){var c,u,p;s(this,a),u=this.data;for(c in u)p=u[c],this._check(c,p);o&&this.options.checkperiod>0&&(this.checkTimeout=setTimeout(this._checkData,this.options.checkperiod*1e3,o),this.checkTimeout!=null&&this.checkTimeout.unref!=null&&this.checkTimeout.unref())}_killCheckPeriod(){if(this.checkTimeout!=null)return clearTimeout(this.checkTimeout)}_check(o,c){var u;return s(this,a),u=!0,c.t!==0&&c.t<Date.now()&&(this.options.deleteOnExpire&&(u=!1,this.del(o)),this.emit("expired",o,this._unwrap(c))),u}_isInvalidKey(o){var c;if(s(this,a),c=typeof o,i.call(this.validKeyTypes,c)<0)return this._error("EKEYTYPE",{type:typeof o})}_wrap(o,c,u=!0){var p,f,h,I;return s(this,a),this.options.useClones||(u=!1),f=Date.now(),p=0,I=1e3,c===0?p=0:c?p=f+c*I:this.options.stdTTL===0?p=this.options.stdTTL:p=f+this.options.stdTTL*I,h={t:p,v:u?r(o):o}}_unwrap(o,c=!0){return this.options.useClones||(c=!1),o.v!=null?c?r(o.v):o.v:null}_getKeyLength(o){return o.toString().length}_getValLength(o){return s(this,a),typeof o=="string"?o.length:this.options.forceString?JSON.stringify(o).length:Array.isArray(o)?this.options.arrayValueSize*o.length:typeof o=="number"?8:typeof o?.then=="function"?this.options.promiseValueSize:typeof Buffer<"u"&&Buffer!==null&&Buffer.isBuffer(o)?o.length:o!=null&&typeof o=="object"?this.options.objectValueSize*Object.keys(o).length:typeof o=="boolean"?8:0}_error(o,c={}){var u;return s(this,a),u=new Error,u.name=o,u.errorcode=o,u.message=this.ERRORS[o]!=null?this.ERRORS[o](c):"-",u.data=c,u}_initErrors(){var o,c,u;s(this,a),this.ERRORS={},u=this._ERRORS;for(c in u)o=u[c],this.ERRORS[c]=this.createErrorMessage(o)}createErrorMessage(o){return function(c){return o.replace("__key",c.type)}}}return a.prototype._ERRORS={ENOTFOUND:"Key `__key` not found",ECACHEFULL:"Cache max keys amount exceeded",EKEYTYPE:"The key argument has to be of type `string` or `number`. Found: `__key`",EKEYSTYPE:"The keys argument has to be an array.",ETTLTYPE:"The ttl argument has to be a number."},a}.call(this)}).call(fn)});var me=R((dn,gn)=>{(function(){var t;t=gn.exports=hn(),t.version="5.1.2"}).call(dn)});var he=R((Vf,jn)=>{var Bn=C(),zo=(t,e,r=!1)=>{if(t instanceof Bn)return t;try{return new Bn(t,e)}catch(n){if(!r)return null;throw n}};jn.exports=zo});var Xn=R((Uf,Wn)=>{var Jo=he(),Qo=(t,e)=>{let r=Jo(t,e);return r?r.version:null};Wn.exports=Qo});var Kn=R((qf,Yn)=>{var Zo=he(),ea=(t,e)=>{let r=Zo(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Yn.exports=ea});var Qn=R((Mf,Jn)=>{var zn=C(),ta=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new zn(t instanceof zn?t.version:t,r).inc(e,n,s).version}catch{return null}};Jn.exports=ta});var ts=R((Ff,es)=>{var Zn=he(),ra=(t,e)=>{let r=Zn(t,null,!0),n=Zn(e,null,!0),s=r.compare(n);if(s===0)return null;let i=s>0,a=i?r:n,l=i?n:r,o=!!a.prerelease.length;if(!!l.prerelease.length&&!o)return!l.patch&&!l.minor?"major":a.patch?"patch":a.minor?"minor":"major";let u=o?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};es.exports=ra});var ns=R((Gf,rs)=>{var na=C(),sa=(t,e)=>new na(t,e).minor;rs.exports=sa});var is=R((Hf,ss)=>{var ia=C(),oa=(t,e)=>new ia(t,e).patch;ss.exports=oa});var as=R((Bf,os)=>{var aa=he(),ca=(t,e)=>{let r=aa(t,e);return r&&r.prerelease.length?r.prerelease:null};os.exports=ca});var j=R((jf,ls)=>{var cs=C(),la=(t,e,r)=>new cs(t,r).compare(new cs(e,r));ls.exports=la});var ps=R((Wf,us)=>{var ua=j(),pa=(t,e,r)=>ua(e,t,r);us.exports=pa});var ms=R((Xf,fs)=>{var fa=j(),ma=(t,e)=>fa(t,e,!0);fs.exports=ma});var Pt=R((Yf,ds)=>{var hs=C(),ha=(t,e,r)=>{let n=new hs(t,r),s=new hs(e,r);return n.compare(s)||n.compareBuild(s)};ds.exports=ha});var Es=R((Kf,gs)=>{var da=Pt(),ga=(t,e)=>t.sort((r,n)=>da(r,n,e));gs.exports=ga});var ys=R((zf,Rs)=>{var Ea=Pt(),Ra=(t,e)=>t.sort((r,n)=>Ea(n,r,e));Rs.exports=Ra});var Ye=R((Jf,vs)=>{var ya=j(),va=(t,e,r)=>ya(t,e,r)>0;vs.exports=va});var Tt=R((Qf,Is)=>{var Ia=j(),xa=(t,e,r)=>Ia(t,e,r)<0;Is.exports=xa});var lr=R((Zf,xs)=>{var ba=j(),Pa=(t,e,r)=>ba(t,e,r)===0;xs.exports=Pa});var ur=R((em,bs)=>{var Ta=j(),wa=(t,e,r)=>Ta(t,e,r)!==0;bs.exports=wa});var wt=R((tm,Ps)=>{var Da=j(),Oa=(t,e,r)=>Da(t,e,r)>=0;Ps.exports=Oa});var Dt=R((rm,Ts)=>{var Sa=j(),La=(t,e,r)=>Sa(t,e,r)<=0;Ts.exports=La});var pr=R((nm,ws)=>{var Na=lr(),_a=ur(),Ca=Ye(),Aa=wt(),$a=Tt(),ka=Dt(),Va=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Na(t,r,n);case"!=":return _a(t,r,n);case">":return Ca(t,r,n);case">=":return Aa(t,r,n);case"<":return $a(t,r,n);case"<=":return ka(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};ws.exports=Va});var Os=R((sm,Ds)=>{var Ua=C(),qa=he(),{safeRe:Ot,t:St}=Ie(),Ma=(t,e)=>{if(t instanceof Ua)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Ot[St.COERCEFULL]:Ot[St.COERCE]);else{let o=e.includePrerelease?Ot[St.COERCERTLFULL]:Ot[St.COERCERTL],c;for(;(c=o.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),o.lastIndex=c.index+c[1].length+c[2].length;o.lastIndex=-1}if(r===null)return null;let n=r[2],s=r[3]||"0",i=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",l=e.includePrerelease&&r[6]?`+${r[6]}`:"";return qa(`${n}.${s}.${i}${a}${l}`,e)};Ds.exports=Ma});var Ls=R((im,Ss)=>{var fr=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,r)}return this}};Ss.exports=fr});var W=R((om,As)=>{var mr=class t{constructor(e,r){if(r=Ga(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof hr)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!_s(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Ka(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&Xa)|(this.options.loose&&Ya))+":"+e,s=Ns.get(n);if(s)return s;let i=this.options.loose,a=i?F[$.HYPHENRANGELOOSE]:F[$.HYPHENRANGE];e=e.replace(a,ic(this.options.includePrerelease)),P("hyphen replace",e),e=e.replace(F[$.COMPARATORTRIM],Ba),P("comparator trim",e),e=e.replace(F[$.TILDETRIM],ja),P("tilde trim",e),e=e.replace(F[$.CARETTRIM],Wa),P("caret trim",e);let l=e.split(" ").map(p=>za(p,this.options)).join(" ").split(/\s+/).map(p=>sc(p,this.options));i&&(l=l.filter(p=>(P("loose invalid filter",p,this.options),!!p.match(F[$.COMPARATORLOOSE])))),P("range list",l);let o=new Map,c=l.map(p=>new hr(p,this.options));for(let p of c){if(_s(p))return[p];o.set(p.value,p)}o.size>1&&o.has("")&&o.delete("");let u=[...o.values()];return Ns.set(n,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>Cs(n,r)&&e.set.some(s=>Cs(s,r)&&n.every(i=>s.every(a=>i.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Ha(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(oc(this.set[r],e,this.options))return!0;return!1}};As.exports=mr;var Fa=Ls(),Ns=new Fa,Ga=at(),hr=Ke(),P=je(),Ha=C(),{safeRe:F,t:$,comparatorTrimReplace:Ba,tildeTrimReplace:ja,caretTrimReplace:Wa}=Ie(),{FLAG_INCLUDE_PRERELEASE:Xa,FLAG_LOOSE:Ya}=We(),_s=t=>t.value==="<0.0.0-0",Ka=t=>t.value==="",Cs=(t,e)=>{let r=!0,n=t.slice(),s=n.pop();for(;r&&n.length;)r=n.every(i=>s.intersects(i,e)),s=n.pop();return r},za=(t,e)=>(P("comp",t,e),t=Za(t,e),P("caret",t),t=Ja(t,e),P("tildes",t),t=tc(t,e),P("xrange",t),t=nc(t,e),P("stars",t),t),k=t=>!t||t.toLowerCase()==="x"||t==="*",Ja=(t,e)=>t.trim().split(/\s+/).map(r=>Qa(r,e)).join(" "),Qa=(t,e)=>{let r=e.loose?F[$.TILDELOOSE]:F[$.TILDE];return t.replace(r,(n,s,i,a,l)=>{P("tilde",t,n,s,i,a,l);let o;return k(s)?o="":k(i)?o=`>=${s}.0.0 <${+s+1}.0.0-0`:k(a)?o=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:l?(P("replaceTilde pr",l),o=`>=${s}.${i}.${a}-${l} <${s}.${+i+1}.0-0`):o=`>=${s}.${i}.${a} <${s}.${+i+1}.0-0`,P("tilde return",o),o})},Za=(t,e)=>t.trim().split(/\s+/).map(r=>ec(r,e)).join(" "),ec=(t,e)=>{P("caret",t,e);let r=e.loose?F[$.CARETLOOSE]:F[$.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(s,i,a,l,o)=>{P("caret",t,s,i,a,l,o);let c;return k(i)?c="":k(a)?c=`>=${i}.0.0${n} <${+i+1}.0.0-0`:k(l)?i==="0"?c=`>=${i}.${a}.0${n} <${i}.${+a+1}.0-0`:c=`>=${i}.${a}.0${n} <${+i+1}.0.0-0`:o?(P("replaceCaret pr",o),i==="0"?a==="0"?c=`>=${i}.${a}.${l}-${o} <${i}.${a}.${+l+1}-0`:c=`>=${i}.${a}.${l}-${o} <${i}.${+a+1}.0-0`:c=`>=${i}.${a}.${l}-${o} <${+i+1}.0.0-0`):(P("no pr"),i==="0"?a==="0"?c=`>=${i}.${a}.${l}${n} <${i}.${a}.${+l+1}-0`:c=`>=${i}.${a}.${l}${n} <${i}.${+a+1}.0-0`:c=`>=${i}.${a}.${l} <${+i+1}.0.0-0`),P("caret return",c),c})},tc=(t,e)=>(P("replaceXRanges",t,e),t.split(/\s+/).map(r=>rc(r,e)).join(" ")),rc=(t,e)=>{t=t.trim();let r=e.loose?F[$.XRANGELOOSE]:F[$.XRANGE];return t.replace(r,(n,s,i,a,l,o)=>{P("xRange",t,n,s,i,a,l,o);let c=k(i),u=c||k(a),p=u||k(l),f=p;return s==="="&&f&&(s=""),o=e.includePrerelease?"-0":"",c?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&f?(u&&(a=0),l=0,s===">"?(s=">=",u?(i=+i+1,a=0,l=0):(a=+a+1,l=0)):s==="<="&&(s="<",u?i=+i+1:a=+a+1),s==="<"&&(o="-0"),n=`${s+i}.${a}.${l}${o}`):u?n=`>=${i}.0.0${o} <${+i+1}.0.0-0`:p&&(n=`>=${i}.${a}.0${o} <${i}.${+a+1}.0-0`),P("xRange return",n),n})},nc=(t,e)=>(P("replaceStars",t,e),t.trim().replace(F[$.STAR],"")),sc=(t,e)=>(P("replaceGTE0",t,e),t.trim().replace(F[e.includePrerelease?$.GTE0PRE:$.GTE0],"")),ic=t=>(e,r,n,s,i,a,l,o,c,u,p,f)=>(k(n)?r="":k(s)?r=`>=${n}.0.0${t?"-0":""}`:k(i)?r=`>=${n}.${s}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,k(c)?o="":k(u)?o=`<${+c+1}.0.0-0`:k(p)?o=`<${c}.${+u+1}.0-0`:f?o=`<=${c}.${u}.${p}-${f}`:t?o=`<${c}.${u}.${+p+1}-0`:o=`<=${o}`,`${r} ${o}`.trim()),oc=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(P(t[n].semver),t[n].semver!==hr.ANY&&t[n].semver.prerelease.length>0){let s=t[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Ke=R((am,Ms)=>{var ze=Symbol("SemVer ANY"),Er=class t{static get ANY(){return ze}constructor(e,r){if(r=$s(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),gr("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ze?this.value="":this.value=this.operator+this.semver.version,gr("comp",this)}parse(e){let r=this.options.loose?ks[Vs.COMPARATORLOOSE]:ks[Vs.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Us(n[2],this.options.loose):this.semver=ze}toString(){return this.value}test(e){if(gr("Comparator.test",e,this.options.loose),this.semver===ze||e===ze)return!0;if(typeof e=="string")try{e=new Us(e,this.options)}catch{return!1}return dr(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new qs(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new qs(this.value,r).test(e.semver):(r=$s(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||dr(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||dr(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Ms.exports=Er;var $s=at(),{safeRe:ks,t:Vs}=Ie(),dr=pr(),gr=je(),Us=C(),qs=W()});var Je=R((cm,Fs)=>{var ac=W(),cc=(t,e,r)=>{try{e=new ac(e,r)}catch{return!1}return e.test(t)};Fs.exports=cc});var Hs=R((lm,Gs)=>{var lc=W(),uc=(t,e)=>new lc(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Gs.exports=uc});var js=R((um,Bs)=>{var pc=C(),fc=W(),mc=(t,e,r)=>{let n=null,s=null,i=null;try{i=new fc(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===-1)&&(n=a,s=new pc(n,r))}),n};Bs.exports=mc});var Xs=R((pm,Ws)=>{var hc=C(),dc=W(),gc=(t,e,r)=>{let n=null,s=null,i=null;try{i=new dc(e,r)}catch{return null}return t.forEach(a=>{i.test(a)&&(!n||s.compare(a)===1)&&(n=a,s=new hc(n,r))}),n};Ws.exports=gc});var zs=R((fm,Ks)=>{var Rr=C(),Ec=W(),Ys=Ye(),Rc=(t,e)=>{t=new Ec(t,e);let r=new Rr("0.0.0");if(t.test(r)||(r=new Rr("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let s=t.set[n],i=null;s.forEach(a=>{let l=new Rr(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!i||Ys(l,i))&&(i=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!r||Ys(r,i))&&(r=i)}return r&&t.test(r)?r:null};Ks.exports=Rc});var Qs=R((mm,Js)=>{var yc=W(),vc=(t,e)=>{try{return new yc(t,e).range||"*"}catch{return null}};Js.exports=vc});var Lt=R((hm,ri)=>{var Ic=C(),ti=Ke(),{ANY:xc}=ti,bc=W(),Pc=Je(),Zs=Ye(),ei=Tt(),Tc=Dt(),wc=wt(),Dc=(t,e,r,n)=>{t=new Ic(t,n),e=new bc(e,n);let s,i,a,l,o;switch(r){case">":s=Zs,i=Tc,a=ei,l=">",o=">=";break;case"<":s=ei,i=wc,a=Zs,l="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Pc(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],p=null,f=null;if(u.forEach(h=>{h.semver===xc&&(h=new ti(">=0.0.0")),p=p||h,f=f||h,s(h.semver,p.semver,n)?p=h:a(h.semver,f.semver,n)&&(f=h)}),p.operator===l||p.operator===o||(!f.operator||f.operator===l)&&i(t,f.semver))return!1;if(f.operator===o&&a(t,f.semver))return!1}return!0};ri.exports=Dc});var si=R((dm,ni)=>{var Oc=Lt(),Sc=(t,e,r)=>Oc(t,e,">",r);ni.exports=Sc});var oi=R((gm,ii)=>{var Lc=Lt(),Nc=(t,e,r)=>Lc(t,e,"<",r);ii.exports=Nc});var li=R((Em,ci)=>{var ai=W(),_c=(t,e,r)=>(t=new ai(t,r),e=new ai(e,r),t.intersects(e,r));ci.exports=_c});var pi=R((Rm,ui)=>{var Cc=Je(),Ac=j();ui.exports=(t,e,r)=>{let n=[],s=null,i=null,a=t.sort((u,p)=>Ac(u,p,r));for(let u of a)Cc(u,e,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let l=[];for(let[u,p]of n)u===p?l.push(u):!p&&u===a[0]?l.push("*"):p?u===a[0]?l.push(`<=${p}`):l.push(`${u} - ${p}`):l.push(`>=${u}`);let o=l.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return o.length<c.length?o:e}});var Ei=R((ym,gi)=>{var fi=W(),vr=Ke(),{ANY:yr}=vr,Qe=Je(),Ir=j(),$c=(t,e,r={})=>{if(t===e)return!0;t=new fi(t,r),e=new fi(e,r);let n=!1;e:for(let s of t.set){for(let i of e.set){let a=Vc(s,i,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},kc=[new vr(">=0.0.0-0")],mi=[new vr(">=0.0.0")],Vc=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===yr){if(e.length===1&&e[0].semver===yr)return!0;r.includePrerelease?t=kc:t=mi}if(e.length===1&&e[0].semver===yr){if(r.includePrerelease)return!0;e=mi}let n=new Set,s,i;for(let h of t)h.operator===">"||h.operator===">="?s=hi(s,h,r):h.operator==="<"||h.operator==="<="?i=di(i,h,r):n.add(h.semver);if(n.size>1)return null;let a;if(s&&i){if(a=Ir(s.semver,i.semver,r),a>0)return null;if(a===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let h of n){if(s&&!Qe(h,String(s),r)||i&&!Qe(h,String(i),r))return null;for(let I of e)if(!Qe(h,String(I),r))return!1;return!0}let l,o,c,u,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;p&&p.prerelease.length===1&&i.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let h of e){if(u=u||h.operator===">"||h.operator===">=",c=c||h.operator==="<"||h.operator==="<=",s){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(l=hi(s,h,r),l===h&&l!==s)return!1}else if(s.operator===">="&&!Qe(s.semver,String(h),r))return!1}if(i){if(p&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===p.major&&h.semver.minor===p.minor&&h.semver.patch===p.patch&&(p=!1),h.operator==="<"||h.operator==="<="){if(o=di(i,h,r),o===h&&o!==i)return!1}else if(i.operator==="<="&&!Qe(i.semver,String(h),r))return!1}if(!h.operator&&(i||s)&&a!==0)return!1}return!(s&&c&&!i&&a!==0||i&&u&&!s&&a!==0||f||p)},hi=(t,e,r)=>{if(!t)return e;let n=Ir(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},di=(t,e,r)=>{if(!t)return e;let n=Ir(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};gi.exports=$c});var Nt=R((vm,vi)=>{var xr=Ie(),Ri=We(),Uc=C(),yi=jt(),qc=he(),Mc=Xn(),Fc=Kn(),Gc=Qn(),Hc=ts(),Bc=Xt(),jc=ns(),Wc=is(),Xc=as(),Yc=j(),Kc=ps(),zc=ms(),Jc=Pt(),Qc=Es(),Zc=ys(),el=Ye(),tl=Tt(),rl=lr(),nl=ur(),sl=wt(),il=Dt(),ol=pr(),al=Os(),cl=Ke(),ll=W(),ul=Je(),pl=Hs(),fl=js(),ml=Xs(),hl=zs(),dl=Qs(),gl=Lt(),El=si(),Rl=oi(),yl=li(),vl=pi(),Il=Ei();vi.exports={parse:qc,valid:Mc,clean:Fc,inc:Gc,diff:Hc,major:Bc,minor:jc,patch:Wc,prerelease:Xc,compare:Yc,rcompare:Kc,compareLoose:zc,compareBuild:Jc,sort:Qc,rsort:Zc,gt:el,lt:tl,eq:rl,neq:nl,gte:sl,lte:il,cmp:ol,coerce:al,Comparator:cl,Range:ll,satisfies:ul,toComparators:pl,maxSatisfying:fl,minSatisfying:ml,minVersion:hl,validRange:dl,outside:gl,gtr:El,ltr:Rl,intersects:yl,simplifyRange:vl,subset:Il,SemVer:Uc,re:xr.re,src:xr.src,tokens:xr.t,SEMVER_SPEC_VERSION:Ri.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ri.RELEASE_TYPES,compareIdentifiers:yi.compareIdentifiers,rcompareIdentifiers:yi.rcompareIdentifiers}});var Fl={};Mi(Fl,{activate:()=>Ul,deactivate:()=>ql});module.exports=Fi(Fl);var H=require("vscode");var ye=require("vscode");var N={inProgress:!1,replaceItems:[]};var $r=require("vscode"),z="dependi.";var T=(E=>(E.RUST_ENABLED="rust.enabled",E.RUST_INDEX_SERVER_URL="rust.indexServerURL",E.RUST_IGNORE_UNSTABLES="rust.excludeUnstableVersions",E.RUST_IGNORE_LINE_PATTERN="rust.ignoreLinePattern",E.RUST_INFORM_PATCH_UPDATES="rust.informPatchUpdates",E.NPM_ENABLED="npm.enabled",E.NPM_INDEX_SERVER_URL="npm.indexServerURL",E.NPM_IGNORE_UNSTABLES="npm.excludeUnstableVersions",E.NPM_IGNORE_LINE_PATTERN="npm.ignoreLinePattern",E.NPM_INFORM_PATCH_UPDATES="npm.informPatchUpdates",E.PHP_ENABLED="php.enabled",E.PHP_INDEX_SERVER_URL="php.indexServerURL",E.PHP_IGNORE_UNSTABLES="php.excludeUnstableVersions",E.PHP_IGNORE_LINE_PATTERN="php.ignoreLinePattern",E.PHP_INFORM_PATCH_UPDATES="php.informPatchUpdates",E.GO_ENABLED="go.enabled",E.GO_INDEX_SERVER_URL="go.indexServerURL",E.GO_IGNORE_UNSTABLES="go.excludeUnstableVersions",E.GO_IGNORE_LINE_PATTERN="go.ignoreLinePattern",E.GO_INFORM_PATCH_UPDATES="go.informPatchUpdates",E.PYTHON_ENABLED="python.enabled",E.PYTHON_INDEX_SERVER_URL="python.indexServerURL",E.PYTHON_IGNORE_UNSTABLES="python.excludeUnstableVersions",E.PYTHON_IGNORE_LINE_PATTERN="python.ignoreLinePattern",E.PYTHON_INFORM_PATCH_UPDATES="python.informPatchUpdates",E.VULS_ENABLED="vulnerability.enabled",E.VULS_GHSA_ENABLED="vulnerability.ghsa.enabled",E.VULS_OSV_BATCH_URL="vulnerability.osvQueryURL.batch",E.VULS_OSV_URL="vulnerability.osvQueryURL.single",E.INDEX_SERVER_API_KEY="apiKey",E.INDEX_SERVER_URL="apiURL",E.DECORATOR_POSITION="decoration.position",E.ERROR_DECORATOR="decoration.error.template",E.ERROR_DECORATOR_CSS="decoration.error.style",E.INCOMPATIBLE_DECORATOR="decoration.incompatible.template",E.INCOMPATIBLE_DECORATOR_CSS="decoration.incompatible.style",E.PATCH_UPDATE_DECORATOR="decoration.patchUpdate.template",E.PATCH_UPDATE_DECORATOR_CSS="decoration.patchUpdate.style",E.COMPATIBLE_DECORATOR="decoration.compatible.template",E.COMPATIBLE_DECORATOR_CSS="decoration.compatible.style",E.VULNERABILITY_DECORATOR="decoration.vulnerability.template",E.REPLACE_VERSIONS=`${z}commands.replaceVersion`,E.GENERATE_VULNERABILITY_REPORT=`${z}commands.vulnerability.report`,E.GENERATE_VULNERABILITY_CURRENT_REPORT=`${z}commands.vulnerability.currentReport`,E.UPDATE_ALL=`${z}commands.updateAll`,E.RETRY=`${z}commands.retry`,E.DEVICE_ID=`${z}deviceID`,E.SHOWN_VERSION=`${z}shownVersion`,E))(T||{}),m={version:"0.0.1",rust:{enabled:!0,index:"",ignoreUnstable:!1,ignoreLinePattern:"",informPatchUpdates:!1},npm:{enabled:!0,index:"",ignoreUnstable:!1,ignoreLinePattern:"",informPatchUpdates:!1},php:{enabled:!0,index:"",ignoreUnstable:!1,ignoreLinePattern:"",informPatchUpdates:!1},go:{enabled:!0,index:"",ignoreUnstable:!1,ignoreLinePattern:"",informPatchUpdates:!1},python:{enabled:!0,index:"",ignoreUnstable:!1,ignoreLinePattern:"",informPatchUpdates:!1},vulnerability:{enabled:!1,ghsa:!1,osvBatch:"",osvSingle:""},api:{key:"",url:"",proPanelURL:"https://www.dependi.io/pro",deviceID:""},decorator:{position:"",error:{template:"",css:{}},incompatible:{template:"",css:{}},patchUpdate:{template:"",css:{}},compatible:{template:"",css:{}},vulnerability:{template:""}},load:function(){let t=$r.workspace.getConfiguration("dependi");this.rust.enabled=t.get("rust.enabled")??!0,this.rust.index=t.get("rust.indexServerURL")||"https://index.crates.io",this.rust.ignoreUnstable=t.get("rust.excludeUnstableVersions")??!0,this.rust.ignoreLinePattern=t.get("rust.ignoreLinePattern")||"",this.rust.informPatchUpdates=t.get("rust.informPatchUpdates")??!1,this.npm.enabled=t.get("npm.enabled")??!0,this.npm.index=t.get("npm.indexServerURL")||"https://registry.npmjs.org",this.npm.ignoreUnstable=t.get("npm.excludeUnstableVersions")??!0,this.npm.ignoreLinePattern=t.get("npm.ignoreLinePattern")||"",this.npm.informPatchUpdates=t.get("npm.informPatchUpdates")??!1,this.php.enabled=t.get("php.enabled")??!0,this.php.index=t.get("php.indexServerURL")||"https://repo.packagist.org",this.php.ignoreUnstable=t.get("php.excludeUnstableVersions")??!0,this.php.ignoreLinePattern=t.get("php.ignoreLinePattern")||"",this.php.informPatchUpdates=t.get("php.informPatchUpdates")??!1,this.go.enabled=t.get("go.enabled")??!0,this.go.index=t.get("go.indexServerURL")||"https://proxy.golang.org",this.go.ignoreUnstable=t.get("go.excludeUnstableVersions")??!0,this.go.ignoreLinePattern=t.get("go.ignoreLinePattern")||"",this.go.informPatchUpdates=t.get("go.informPatchUpdates")??!1,this.python.enabled=t.get("python.enabled")??!0,this.python.index=t.get("python.indexServerURL")||"https://pypi.org/pypi",this.python.ignoreUnstable=t.get("python.excludeUnstableVersions")??!0,this.python.ignoreLinePattern=t.get("python.ignoreLinePattern")||"",this.python.informPatchUpdates=t.get("python.informPatchUpdates")??!1,this.vulnerability.enabled=t.get("vulnerability.enabled")??!0,this.vulnerability.ghsa=t.get("vulnerability.ghsa.enabled")??!1,this.vulnerability.osvBatch=t.get("vulnerability.osvQueryURL.batch")||"https://api.osv.dev/v1/querybatch",this.vulnerability.osvSingle=t.get("vulnerability.osvQueryURL.single")||"https://api.osv.dev/v1/query",this.api.key=t.get("apiKey")||"",this.api.url=t.get("apiURL")||"https://index.dependi.io",this.decorator.position=t.get("decoration.position")||"after",this.decorator.error.template=t.get("decoration.error.template")||"\u2757\uFE0F\u2757\uFE0F\u2757\uFE0F",this.decorator.error.css=t.get("decoration.error.style")||{},this.decorator.incompatible.template=t.get("decoration.incompatible.template")||"\u274C ${version}",this.decorator.incompatible.css=t.get("decoration.incompatible.style")||{},this.decorator.patchUpdate.template=t.get("decoration.patchUpdate.template")||"\u26A0\uFE0F ${version}",this.decorator.patchUpdate.css=t.get("decoration.patchUpdate.style")||{},this.decorator.compatible.template=t.get("decoration.compatible.template")||"\u2705",this.decorator.compatible.css=t.get("decoration.compatible.style")||{},this.decorator.vulnerability.template=t.get("decoration.vulnerability.template")||"\u{1F6A8} ${count}",console.debug("Settings loaded",this)},onChange:function(t){t.affectsConfiguration("dependi")&&(console.debug("Config changed"),this.load())}};var kr=ye.commands.registerTextEditorCommand(T.REPLACE_VERSIONS,(t,e,r)=>{if(t&&r&&!N.inProgress){N.inProgress=!0,console.debug("Replacing",r.value,"at",r.range);let n=new ye.Range(r.range.start.line,r.range.start.character,r.range.end.line,r.range.end.character);e.replace(n,r.value),N.inProgress=!1}ye.workspace.save(t.document.uri).then(n=>{n?console.debug("Saved",n):console.error("Failed to save",n)})});var ve=require("vscode");var Vr=ve.commands.registerTextEditorCommand(T.UPDATE_ALL,(t,e)=>{if(t&&!N.inProgress&&N.replaceItems&&N.replaceItems.length>0){N.inProgress=!0,console.debug("Replacing All");for(let r=N.replaceItems.length-1;r>-1;r--){let n=N.replaceItems[r];e.replace(new ve.Range(n.range.start.line,n.range.start.character,n.range.end.line,n.range.end.character),n.value)}N.inProgress=!1,ve.workspace.save(t.document.uri).then(r=>{r?console.debug("Saved",r):console.error("Failed to save",r)})}});var fe=require("vscode");var dt=require("vscode");var Yt=w(require("os"));var pu=Xt();function lo(){let t=Yt.default.platform(),e=Yt.default.release(),r="Unknown OS";switch(t){case"win32":r="Windows",e.startsWith("10")?r+=" 10":e.startsWith("6.3")?r+=" 8.1":e.startsWith("6.2")?r+=" 8":e.startsWith("6.1")&&(r+=" 7");break;case"darwin":r="Mac OS X";let n=e.split(".").slice(0,2).join(".");r+=` ${n}`;break;case"linux":r="Linux";break;default:r=t}return r}function uo(){return`Dependi (https://www.dependi.io) (${m.version}) - ${lo()}`}var Kt=uo();function J(t){let e=new URL(t);return{protocol:e.protocol,hostname:e.hostname,port:e.port,path:e.pathname+e.search,headers:{"User-Agent":Kt}}}async function be(t,e){try{let r=await fetch(`${m.api.url}/${t}`,{method:"GET",credentials:"include",cache:"default",...e,headers:{Accept:"application/json","Content-Type":"application/json","User-Agent":Kt,...e?.headers}}),n,s,i=r.headers.get("Content-Type");if(r.status>0&&r.status<300)if(r.status!==204)try{i&&i.includes("application/json")?s=await r.json():i&&i.includes("text/html")?s=await r.text():i&&i.includes("application/pdf")?s=await r.blob():s=await r.text()}catch{n=await r.text()}else console.info(t,e?.method||"GET",r.status,r.statusText);else{if(n=await r.text(),n)try{n=JSON.parse(n),n=n.message||n.error||n}catch(a){console.error(t,e?.method||"GET",a,r.status,r.statusText)}console.error(t,e?.method||"GET",n,r.status,r.statusText)}return{status:r.status,statusText:r.statusText,body:s,headers:r.headers,error:n,isLoading:!1}}catch(r){return console.error(t,e?.method||"GET",r),{status:0,statusText:"",body:void 0,headers:void 0,error:r.message||r+"",isLoading:!1}}}var po=[{ID:1,Name:"Cargo.toml"},{ID:2,Name:"go.mod"},{ID:3,Name:"package.json"},{ID:5,Name:"composer.json"},{ID:4,Name:"requirements.txt"}],zt=t=>po.find(e=>e.Name===t)?.ID??0;async function zr(t,e){return await be("v1/reports/vulnerability",{method:"POST",headers:{Authorization:m.api.key,"X-Device-ID":m.api.deviceID,"Content-Type":"application/json"},body:JSON.stringify(t),...e})}async function Jr(t,e){return await be("v1/reports/vulnerability/current",{method:"POST",headers:{Authorization:m.api.key,"X-Device-ID":m.api.deviceID,"Content-Type":"application/json"},body:JSON.stringify(t),...e})}async function Qr(t,e){return await be("v1/reports/pdf",{method:"POST",body:JSON.stringify(t),headers:{Authorization:m.api.key,"X-Device-ID":m.api.deviceID,"Content-Type":"application/json"},...e})}var K=require("vscode");var ut=(o=>(o.NULL="Null",o.UNDEFINED="Undefined",o.DLR="Device Limit reached. You can edit your api key or visit dependi.io dashboard to manage devices.",o.IVDID="Invalid device ID",o.PAYRQ="Payment required. Please visit dependi.io dashboard to update your payment method.",o.UNAUTH="Unauthorized, please check your api key.",o.IVAK="Invalid api key or api key not found. Please check your api key.",o.UINA="User is not active. Please check emails from us or visit dependi.io dashboard.",o))(ut||{});function Pe(t){if(!t)return"Null";let e=t.split(" - ")[0];return ut[e]||t}var Xe=require("vscode"),_=class{constructor(e){this.key="";this.values=[];this.value="";this.start=-1;this.end=-1;this.line=-1;this.endOfLine=-1;this.range=new Xe.Range(0,0,0,0);this.decoRange=new Xe.Range(0,0,0,0);e&&(this.key=e.key,this.values=e.values,this.value=e.value,this.start=e.start,this.end=e.end,this.line=e.line,this.decoRange=e.decoRange)}copyFrom(e,r,n,s,i,a){e&&(this.key=e),r&&(this.value=r),n&&(this.start=n),s&&(this.end=s),i&&(this.line=i),a&&(this.endOfLine=a)}createRange(){this.range=new Xe.Range(this.line,this.start,this.line,this.end)}createDecoRange(){this.decoRange=new Xe.Range(this.line,this.start,this.line,this.endOfLine)}isValid(){return this.key.length>0&&this.value?.length&&this.start>-1&&this.end>-1}};function fo(t){switch(t[0]){case"<":return t.startsWith("<<<<<<<");case"=":return t.startsWith("=======");case">":return t.startsWith(">>>>>>>");default:return!1}}function L(t){return t==='"'||t==="'"}function mo(t){return t.includes("dependi:")&&t.includes("disable-check")}function se(t,e,r){if(t.isEmptyOrWhitespace)return!0;let n=t.firstNonWhitespaceCharacterIndex,s=t.text[n];return!!(r&&r.includes(s)||mo(t.text)||fo(t.text)||ho(t.text,e))}function ho(t,e){if(t=t.trim(),e.startsWith("*")&&e.endsWith("*")){let r=e.slice(1,-1);return t.includes(r)}else if(e.startsWith("*")){let r=e.slice(1);return t.endsWith(r)}else if(e.endsWith("*")){let r=e.slice(0,-1);return t.startsWith(r)}return!1}var Jt=class{constructor(){this.inInlineTable=!1,this.inArray=!1,this.isMultipleDepTable=!1,this.isSingle=!1,this.items=[],this.currentItem=new _,this.bypass=!1}},Te=class{constructor(e){this.pattern=e}parse(e){let r=[],n=new Jt;for(let s=0;s<e.lineCount;s++){let i=e.lineAt(s);if(!se(i,this.pattern,["#"])){if(vo(i)){n.bypass=!1,n.isSingle&&this.addItem(n,r),Ro(i.text)?(n.isMultipleDepTable=!0,n.isSingle=!1):yo(i.text)?(n.isMultipleDepTable=!1,n.isSingle=!0,n.currentItem=new _,n.currentItem.key=i.text.substring(i.text.lastIndexOf(".")+1,i.text.indexOf("]"))):(n.isMultipleDepTable=!1,n.isSingle=!1,n.bypass=!0);continue}if(!n.bypass)if(n.isMultipleDepTable){let a=this.parsePair(i.text,s);if(!a)continue;n.currentItem.copyFrom(a.key,a.value,a.start,a.end,s,i.range.end.character),this.addItem(n,r);continue}else{let a=this.parsePair(i.text,s);if(!a)continue;switch(a.key){case"version":n.currentItem.copyFrom(void 0,a.value,a.start,a.end,s,i.range.end.character);continue;case"package":n.currentItem.copyFrom(a.value);continue;case"features":case"default-features":case"path":case"workspace":continue;default:}}}}return this.addItem(n,r),r}addItem(e,r){e.currentItem.isValid()&&(e.currentItem.createRange(),e.currentItem.createDecoRange(),r.push(e.currentItem),e.currentItem=new _)}parsePair(e,r){let n=new _,s=e.indexOf("=");if(s===-1)return;r=s+1;let i=e.indexOf("#");if(n.key=we(e.substring(0,s)),n.key=n.key.replace(".version",""),n.value=we(e.substring(s+1,i>-1?i:e.length)),!(pt(n.value)||n.value.includes("path")))return e.indexOf("{")>-1?(Zt(e,n),Qt(e,n),n.start>-1?n:void 0):(n.start=e.indexOf(n.value),n.end=n.start+n.value.length,n.start>-1?n:void 0)}};function Qt(t,e){let r=e.start,n=t.indexOf("version");if(n!==-1)for(r=n+7;r<t.length;){if(t[r]==="="){e.start=r,go(t,e);return}r++}}function go(t,e){let r=e.start,n=-1,s=0;for(;r++<t.length;){let a=t[r];if(L(a)){if(s++,s===2){r++;break}continue}if(Zr(a)){if(n>-1)break;continue}else if(n>-1)continue;n=r}r--;let i=t.substring(n,r);pt(i)||(e.value=we(i),e.start=n,e.end=e.start+e.value.length)}function Zt(t,e){let r=e.start,n=t.indexOf("package");if(n!=-1)for(r=n+7;r<t.length;){if(t[r]==="="){Eo(t,e,r);return}r++}}function Eo(t,e,r){let n=r,s=-1;for(;n++<t.length;){let i=t[n];if(Zr(i)||L(i)){if(s>-1)break;continue}else if(s>-1)continue;s=n}e.key=t.substring(s,n)}function Zr(t){return t===" "||t==="	"}function Ro(t){return t.includes("dependencies]")}function yo(t){return t.includes("dependencies.")}function pt(t){return t==="true"||t==="false"}function we(t){return t.replace(/[^a-zA-Z0-9-_.*]/g,"").trim()}function vo(t){let e=t.firstNonWhitespaceCharacterIndex;return t.text[e]==="["}var De=class extends Te{constructor(){super(m.rust.ignoreLinePattern)}};var er=class{constructor(){this.inRequire=!1,this.items=[],this.bypass=!1}},Oe=class{parse(e){let r=new er;for(let n=0;n<e.lineCount;n++){let s=e.lineAt(n);if(!se(s,m.go.ignoreLinePattern,["/"])&&!r.bypass){if(Io(s)){r.inRequire=!0;continue}if(r.inRequire){if(xo(s)){r.inRequire=!1;continue}let i=bo(s);i.createRange(),i.createDecoRange(),r.items.push(i)}}}return r.items}};function Io(t){let e=t.firstNonWhitespaceCharacterIndex;return t.text.substring(e,e+9)==="require ("}function xo(t){return t.text[t.firstNonWhitespaceCharacterIndex]===")"}function bo(t){let e=t.text.indexOf(" ",t.firstNonWhitespaceCharacterIndex),r=e+1,n=t.text.indexOf(" ",r);n===-1&&(n=t.text.length);let s=t.text.substring(t.firstNonWhitespaceCharacterIndex,e),i=t.text.substring(r,n);L(s[0])&&L(s[s.length-1])&&(s=s.substring(1,s.length-1)),L(i[0])&&L(i[i.length-1])&&(i=i.substring(1,i.length-1),r++,n--);let a=new _;return a.copyFrom(s,i,r,n,t.lineNumber,t.range.end.character),a}var en=w(require("path"));var S=0,ie="";function ft(t){if(!t){S=0;return}switch(en.default.basename(t).toLowerCase()){case"cargo.toml":return S=1,ie="rust",1;case"go.mod":return S=2,ie="go",2;case"package.json":return S=3,ie="npm",3;case"requirements.txt":return S=4,ie="python",4;case"composer.json":return S=5,ie="php",5;case"pyproject.toml":return S=4,ie="python",4}}var tr=class{constructor(){this.inDependencies=!1,this.items=[],this.bypass=!1}},Se=class{constructor(e,r){this.depsKey=e;this.devDepsKey=r;this.state=new tr}parse(e){let r=ie==="npm"?m.npm.ignoreLinePattern:m.php.ignoreLinePattern;for(let n=0;n<e.lineCount;n++){let s=e.lineAt(n);if(!se(s,r)&&!this.state.bypass){if(this.isDependencies(s)){this.state.inDependencies=!0;continue}if(this.state.inDependencies){if(Po(s)){this.state.inDependencies=!1;continue}let i=To(s);this.addDependency(i)}}}return this.state.items}addDependency(e){e.createRange(),e.createDecoRange(),this.state.items.push(e)}isDependencies(e){let r=e.firstNonWhitespaceCharacterIndex;return e.text.substring(r,r+this.depsKey.length+3)===`"${this.depsKey}":`||e.text.substring(r,r+this.devDepsKey.length+3)===`"${this.devDepsKey}":`}};function Po(t){return t.text[t.firstNonWhitespaceCharacterIndex]==="}"}function To(t){let e=t.text.indexOf(":",t.firstNonWhitespaceCharacterIndex),r=e+3,n=t.text.indexOf('"',r);n===-1&&(n=t.text.length);let s=t.text.substring(t.firstNonWhitespaceCharacterIndex,e),i=t.text.substring(r,n);L(s[0])&&L(s[s.length-1])&&(s=s.substring(1,s.length-1)),L(i[0])&&L(i[i.length-1])&&(i=i.substring(1,i.length-1),r++,n--);let a=new _;return a.copyFrom(s,i,r,n,t.lineNumber,t.range.end.character),a}var Le=class extends Se{constructor(){super("dependencies","devDependencies")}addDependency(e){e.value?.startsWith("link:")||(e.createRange(),e.createDecoRange(),this.state.items.push(e))}};var Ne=class extends Se{constructor(){super("require","require-dev")}addDependency(e){e.key!=="php"&&(e.createRange(),e.createDecoRange(),this.state.items.push(e))}};var rr=class{constructor(){this.items=[],this.bypass=!1}},_e=class{parse(e){let r=new rr;for(let n=0;n<e.lineCount;n++){let s=e.lineAt(n);if(se(s,m.python.ignoreLinePattern,["#","-","."])||r.bypass)continue;let i=Do(s);i.line=s.lineNumber,i.createRange(),i.createDecoRange(),r.items.push(i)}return r.items}};function wo(t){let e=[">","<","~","!","="];for(let r=0;r<t.text.length;r++)if(e.includes(t.text[r]))return r;return-1}function Do(t){let e=wo(t),r=e,n=t.text.length,s=t.text.substring(t.firstNonWhitespaceCharacterIndex,e),i=t.text.substring(r,n);(i.startsWith("==")||i.startsWith(">=")||i.startsWith("<="))&&(r+=2),(i.startsWith(">")||i.startsWith("<")||i.startsWith("!"))&&(r+=1),L(s[0])&&L(s[s.length-1])&&(s=s.substring(1,s.length-1)),L(i[0])&&L(i[i.length-1])&&(i=i.substring(1,i.length-1),r++,n--);let a=new _;return a.copyFrom(s,i,r,n,t.lineNumber,t.range.end.character),a}function Oo(t,e){return e.startsWith("==")?t===e.slice(2):e.startsWith("!")?t!==e.slice(1):e.startsWith(">=")?le(t,e.slice(2))>=0:e.startsWith("<=")?le(t,e.slice(2))<=0:e.startsWith(">")?le(t,e.slice(1))>0:e.startsWith("<")?le(t,e.slice(1))<0:!1}function le(t,e){let[r,n]=t.split(/[^\d.]/,2),[s,i]=e.split(/[^\d.]/,2),a=r.split(".").map(Number),l=s.split(".").map(Number);for(let o=0;o<Math.max(a.length,l.length);o++){let c=a[o]||0,u=l[o]||0;if(c<u)return-1;if(c>u)return 1}return n&&i?n.localeCompare(i):n?1:i?-1:0}function Ce(t){let e;return t.includes(";")?e=t.split(";")[0].split(",").map(r=>r.trim()):e=t.split(",").map(r=>r.trim()),e}function Ae(t,e){let r=t.find(n=>n.startsWith("=="));if(r){if(t.some(n=>n.includes("*"))){let n=t.find(i=>i.startsWith("=="))?.slice(2).split(".")[0],s=e.filter(i=>i.startsWith(n||""));return s.length>0?s.reduce((i,a)=>le(i,a)>=0?i:a):null}return r.slice(2)}else if(t.some(n=>n.includes("*"))){let n=t.find(i=>i.startsWith("=="))?.slice(2).split(".")[0],s=e.filter(i=>i.startsWith(n||""));return s.length>0?s.reduce((i,a)=>le(i,a)>=0?i:a):null}else{let n=e.filter(s=>t.every(i=>Oo(s,i)));return n.length>0?n.reduce((s,i)=>le(s,i)>=0?s:i):null}}var tn=w(require("os"));var ue=require("vscode");var nr={settings:"Open settings",dashboard:"Go to Dashboard"};async function sr(t,e){return ue.window.showErrorMessage(t,...Object.keys(e)).then(async r=>{await e[r??""]?.()})}function mt(){sr("Device Limit reached. You can edit your api key or visit dependi.io dashboard to manage devices.",{[nr.settings]:()=>ue.commands.executeCommand("workbench.action.openSettingsJson",{revealSetting:{key:z+"apiKey",edit:!0}}),[nr.dashboard]:()=>ue.commands.executeCommand("vscode.open",`${m.api.proPanelURL}/api-key-management`)})}function ht(){sr("Payment required. Please visit dependi.io dashboard to update your payment method.",{[nr.dashboard]:()=>ue.commands.executeCommand("vscode.open",`${m.api.proPanelURL}/payments`)})}function Q(t,e){sr(e,{"Open settings":()=>ue.commands.executeCommand("workbench.action.openSettingsJson",{revealSetting:{key:z+t,edit:!0}})})}var rn=require("vscode");var $e=class extends Te{constructor(){super(m.python.ignoreLinePattern)}addItem(e,r){e.currentItem.isValid()&&e.currentItem.key!=="python"&&(e.currentItem.createRange(),e.currentItem.createDecoRange(),r.push(e.currentItem),e.currentItem=new _)}parsePair(e,r){let n=new _,s=e.indexOf("=");if(s===-1)return;let i=e.substring(0,s).indexOf("[");r=s+1;let a=e.indexOf("#");if(n.key=we(e.substring(0,i>-1?i:s)),n.key=n.key.replace(".version",""),n.value=we(e.substring(s+1,a>-1?a:e.length)),!(pt(n.value)||n.value.includes("path"))){if(e.indexOf("{")>-1)return Zt(e,n),Qt(e,n),n.start>-1?n:void 0;if(n.start=e.indexOf(n.value),n.end=n.start+n.value.length,e[s-1]==="~"||e[s-1]===">"){let l=n.value.lastIndexOf("."),o=n.value.substring(l+1);isNaN(parseInt(o[0]))&&(l=n.value.substring(0,l).lastIndexOf(".")),l>-1&&(n.value=n.value.substring(0,l)+".*")}return n.start>-1?n:void 0}}};var ir=t=>{switch(t){case"Cargo.toml":return new De;case"go.mod":return new Oe;case"package.json":return new Le;case"composer.json":return new Ne;case"requirements.txt":return new _e;case"pyproject.toml":return new $e;default:throw Error("Language not supported")}},ke=t=>{if(tn.default.platform()!=="win32")return t;let e=t.slice(1);return e=e.replace(/\\/g,"/")};function or(t){if(t.status!==200)switch(Pe(t.error)){case"Device Limit reached. You can edit your api key or visit dependi.io dashboard to manage devices.":mt();break;case"Payment required. Please visit dependi.io dashboard to update your payment method.":ht();break;case"Unauthorized, please check your api key.":Q("apiKey","Unauthorized, please check your api key.");break;case"Invalid api key or api key not found. Please check your api key.":Q("apiKey","Invalid api key or api key not found. Please check your api key.");break;case"User is not active. Please check emails from us or visit dependi.io dashboard.":Q("apiKey","User is not active. Please check emails from us or visit dependi.io dashboard.");break;default:rn.window.showErrorMessage(Pe(t.error))}}async function ar(){let t=K.extensions.getExtension("vscode.git").exports;if(!t)throw new Error("Git extension not found");let r=t.getAPI(1).repositories;if(!r||r.length===0)throw new Error("No repository found");let n=K.window.activeTextEditor;if(!n)throw new Error("Active editor not found");let s=n.document.uri.fsPath;return{repo:r.find(a=>s.includes(a.rootUri.fsPath))}}async function nn(){let{repo:t}=await ar(),e=t.rootUri,r,n=ke(e.path);return e&&(r=n.split("/").pop()),{repoName:r,repoRootUri:e}}async function sn(t){let e=K.window.activeTextEditor;if(!e)throw new Error("Active editor not found");let r=e.document.uri,n=ke(r.path),s=await t.log({path:n});if(!s||s.length===0)throw new Error("There is no commit history on the active file");return{commits:s}}async function on(t,e,r,n){let s=ke(K.window.activeTextEditor.document.uri.path),i=await e.show(r,s),a=await K.workspace.openTextDocument({language:n,content:i});return K.window.showTextDocument(a).then(()=>K.commands.executeCommand("workbench.action.revertAndCloseActiveEditor")),t.parse(a)}var So={fetchingRepository:{label:"Fetching current repository",percentage:5},parsingFile:{label:"Parsing current file",percentage:10},comparingFiles:{label:"Comparing files",percentage:25},generatingReport:{label:"Generating vulnerability report",percentage:55},creatingUI:{label:"Creating Report",percentage:80}};async function Lo(){let{repo:t}=await ar(),{commits:e}=await sn(t),{repoName:r,repoRootUri:n}=await nn(),s=e[0]?.hash;if(!s)throw new Error("No commits found in the repository.");return{repo:t,commits:e,repoName:r,repoRootUri:n,commitId:s}}async function an(){let t=dt.window.activeTextEditor;if(!t)throw new Error("Active editor not found");let e=t.document.fileName||"";if(e==="")throw new Error("File name has not been found.");let r=e.split(/[/\\]/).pop();if(!r)throw new Error("Failed to extract file name with extension.");return{editor:t,fileName:r}}function pe(t,e,r){let{percentage:n,label:s}=So[e];return t.report({increment:n,message:`Progress: ${r+n}% ${s}`}),r+n}async function No(t,e,r,n){let s=dt.window.activeTextEditor;if(!s)throw new Error("Active editor not found");let i=t.parse(s.document),a=await on(t,e,r,n),l=i.map(c=>({Key:c.key,Value:c.value||""})),o=a.map(c=>({Key:c.key,Value:c.value||""}));return{currentReportItems:l,previousReportItems:o}}async function cn(t){let e=0;try{e=pe(t,"fetchingRepository",e);let{repo:r,commits:n,repoName:s,repoRootUri:i,commitId:a}=await Lo(),{fileName:l}=await an();e=pe(t,"parsingFile",e);let o=ir(l),{currentReportItems:c,previousReportItems:u}=await No(o,r,a,l);if(!i)throw new Error("Repository root URI not found");e=pe(t,"generatingReport",e);let p={RepoName:s||"",Commits:n||[],PreviousItems:u,CurrentItems:c,Language:zt(l),GHSACheck:m.vulnerability.ghsa},f=await zr(p);if(!f)throw new Error("Failed to generate report");or(f);let h=f.body||"";return e=pe(t,"creatingUI",e),h}catch(r){throw new Error(`Error during report generation: ${r}`)}}async function ln(t){let e=0;try{let{fileName:r}=await an();e=pe(t,"parsingFile",e);let n=ir(r),{reportItems:s}=await _o(n);e=pe(t,"generatingReport",e);let i={RepoName:"",Commits:[],PreviousItems:[],CurrentItems:s,Language:zt(r),GHSACheck:m.vulnerability.ghsa},a=await Jr(i);or(a);let l=a.body||"";return e=pe(t,"creatingUI",e),l}catch(r){throw new Error(`Error during report generation: ${r}`)}}async function _o(t){let e=dt.window.activeTextEditor;if(!e)throw new Error("Active editor not found");return{reportItems:t.parse(e.document).map(s=>({Key:s.key,Value:s.value?.replace(/[=><]/g,"")||""}))}}var A=w(require("vscode"));var Ve=class{constructor(e,r){this._disposables=[];this._panel=e,this._extensionUri=r,this._panel.onDidDispose(()=>this.dispose(),null,this._disposables)}dispose(){for(this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_getWebviewContent(){return""}};var Ue=class t extends Ve{constructor(e,r,n){super(e,r),this.fetchedHTML=n,this._panel.webview.html=this.getWebviewContent(n),this._setWebviewMessageListener(this._panel.webview)}static render(e,r){let n=A.window.createWebviewPanel("vulnerabilityReport","Vulnerability Report",{viewColumn:A.ViewColumn.One,preserveFocus:!0},{enableScripts:!0,retainContextWhenHidden:!0});return new t(n,e,r)}_getVulnerabilityReportHtml(e){return e}getWebviewContent(e){return this._getVulnerabilityReportHtml(e)}async handleExportReport(){let e=this.getSaveText(),r={saveLabel:"Save PDF",filters:{"PDF Files":["pdf"]},defaultUri:A.Uri.file(e)},n=await A.window.showSaveDialog(r);if(n){let s=this._getVulnerabilityReportHtml(this.fetchedHTML);s=this.addHideClassToExportButton(s);let i=await Qr(s);if(!i||!i.body||i.body.size===0){A.window.showErrorMessage("Error exporting PDF.");return}let a=await this.blobToUint8Array(i.body),l=n.path,o=ke(l),c=A.Uri.file(o);await A.workspace.fs.writeFile(c,a),A.window.showInformationMessage(`Report saved to ${n.fsPath}`,"Open File").then(async u=>{if(u==="Open File"){let p=A.Uri.file(n.fsPath);await A.env.openExternal(p)}})}}_setWebviewMessageListener(e){e.onDidReceiveMessage(async r=>{if(r.command==="exportReport")try{await this.handleExportReport()}catch(n){console.error("Failed to save PDF: ",n),A.window.showErrorMessage("Error exporting PDF.")}},void 0,this._disposables)}getSaveText(){let e=new Date,r=e.getHours(),n=e.getMinutes(),s=r<10?"0"+r:r,i=n<10?"0"+n:n;return`Vulnerability_Report-${e.toISOString().split("T")[0]}-${s}_${i}.pdf`}addHideClassToExportButton(e){return e.replace('<button id="pdf-export-button">','<button id="pdf-export-button" class="hide-in-pdf">')}async blobToUint8Array(e){let r=await e.arrayBuffer();return new Uint8Array(r)}};var un=t=>fe.commands.registerCommand(T.GENERATE_VULNERABILITY_REPORT,async()=>{let e={location:fe.ProgressLocation.Notification,title:"Loading Report",cancellable:!1};fe.window.withProgress(e,cn).then(r=>{r&&Ue.render(t.extensionUri,r)},r=>{fe.window.showErrorMessage(`Report generation failed: ${r}`)})});var Oi=require("vscode");var qe=require("vscode");var x=qe.window.createStatusBarItem(qe.StatusBarAlignment.Right,-1e3);x.setText=(t,e,r=!1)=>{switch(t){case"Error":if(x.color="statusBarItem.errorForeground",x.text="$(error) Dependi",r){x.tooltip=e||"Error";return}else{x.tooltip="",qe.window.showErrorMessage(e||"Error");return}case"Warning":x.text="$(warning) Dependi",x.color="statusBarItem.warningForeground";break;case"Info":x.color="statusBarItem.foreground",x.text="$(check-all) Dependi";break;case"Loading":x.color="statusBarItem.activeForeground",x.text="$(sync~spin) Dependi"}e&&qe.window.setStatusBarMessage(`Dependi: ${e}`,2e3),x.tooltip=e,x.command=T.RETRY};x.fetching=t=>{x.color="statusBarItem.activeForeground",x.text="$(sync~spin) Dependi",x.tooltip="\u{1F440} Fetching "+t.replace(/^https?:\/\//,""),x.command=T.RETRY};var Rn=w(require("https")),yn=w(me());var En=new yn.default({stdTTL:60*10}),vn=(t,e)=>(t=t.replace(/"/g,""),new Promise(function(r,n){let s=En.get(t);if(s){r(s);return}let i,a=t.toLowerCase();a.length<=2?i=a.length.toFixed(0):a.length==3?i="3/"+a.substring(0,1):i=a.substring(0,2)+"/"+a.substring(2,4);let l=`${e}/${i}/${a}`,o=J(l);var c=Rn.get(o,function(u){if(!u.statusCode){n(new Error(`statusCode=${u.statusCode}: ${l}`));return}if(u.statusCode<200||u.statusCode>=300)return n(new Error(`statusCode=${u.statusCode}: ${l}`));var p,f=[];u.on("data",function(h){f.push(h)}),u.on("end",function(){try{var h=Buffer.concat(f).toString().split(`
`).filter(O=>O),I=[];for(var D of h)I.push(JSON.parse(D));p={name:t,versions:I.filter(O=>O.yanked===!1).map(O=>O.vers),features:Object.keys(I.at(-1).features).filter(O=>O!=="default")},En.set(t,p)}catch(O){n(O)}r(p)})});c.on("error",function(u){n(u)}),c.end()}));var In=w(me()),xn=w(require("https"));var cr=new In.default({stdTTL:60*10});function $o(t){let e={method:"POST",headers:{"Content-Type":"application/json"}};return new Promise((r,n)=>{let s=xn.request(m.vulnerability.osvBatch,e,i=>{let a="";i.on("data",l=>{a+=l}),i.on("end",()=>{try{let l=JSON.parse(a);for(let o=0;o<l.results?.length;o++)l.results[o].packageName=t.queries[o].package.name,l.results[o].version=t.queries[o].version,l.results[o].vulns&&(l.results[o].vulns=l.results[o].vulns.filter(c=>m.vulnerability.ghsa?!0:!c.id.startsWith("GHSA")));r(l)}catch(l){n(l)}})});s.on("error",i=>{n(i)}),s.write(JSON.stringify(t)),s.end()})}var ko=async t=>{try{let e=JSON.stringify({request:t,ghsaCheck:m.vulnerability.ghsa});if(cr.has(e)){let r=cr.get(e);if(r===void 0)throw new Error("Cached response is undefined");return r}else{let r=await $o(t);return cr.set(e,r),r}}catch(e){throw console.error("Error fetching data from OSV API:",e),e}},Z=async(t,e)=>{try{let r={queries:[]};for(let i=0;i<t.length;i++){let a=t[i].item.key,l=t[i].versions?.findIndex(o=>o===t[i]?.item?.value)??(t[i].versions?.length??0)-1;for(let o=0;o<=l;o++)!t[i].versions||!t[i]?.versions?.[o]||r.queries.push({version:t[i].versions?.[o],package:{name:a,ecosystem:e}})}x.setText("Info","Fetching vulnerabilities from OSV");let n=await ko(r),s=Vo(n,t);return x.setText("Info","Vulnerabilities fetched from OSV"),s}catch(r){return console.error("Error querying multiple package vulnerabilities:",r),[]}};function Vo(t,e){let r=new Map;for(let n=0;n<t.results?.length;n++){let s=t.results[n].packageName;if(r.has(s)){let i=r.get(s);i?.versionVulnerabilities.push({version:t.results[n].version,vulnerabilities:t.results[n].vulns}),r.set(s,i)}else r.set(s,{packageName:s,versionVulnerabilities:[{version:t.results[n].version,vulnerabilities:t.results[n].vulns}]})}for(let n=0;n<e?.length;n++){let s=r.get(e[n].item.key),i=new Map;if(s?.versionVulnerabilities)for(let a=0;a<s?.versionVulnerabilities.length;a++){let l=s?.versionVulnerabilities[a],o=[];l?.vulnerabilities&&l?.vulnerabilities.forEach(c=>{o.push(c.id)}),i.set(l.version,o)}e[n].vulns=i}return e}var Tn=/^(?:\^|~)?v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function Uo(t,e){return t.indexOf(e)===-1?t.length:t.indexOf(e)}function qo(t,e){return t.lastIndexOf(e)===-1?t.length:t.lastIndexOf(e)}function bn(t){let e=t.replace(/^v/,"").replace(/\+.*$/,""),r=S===4?qo(e,"."):Uo(e,"-"),n=e.substring(0,r).split(".");return n.push(e.substring(r+1)),n}function Mo(t){if(!Tn.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function Et(t,e){S!==4&&[t,e].forEach(Mo);let r=bn(t),n=bn(e),s=Math.max(r.length-1,n.length-1);for(let c=0;c<s;c++){var i=parseInt(r[c]||"0",10),a=parseInt(n[c]||"0",10);if(i>a)return 1;if(a>i)return-1}var l=r[r.length-1],o=n[n.length-1];if(l&&o){let c=l.split(".").map(f=>/^\d+$/.test(f)?parseInt(f,10):f),u=o.split(".").map(f=>/^\d+$/.test(f)?parseInt(f,10):f),p=Math.max(c.length,u.length);for(let f=0;f<p;f++){if(c[f]===void 0||typeof c[f]=="string"&&typeof u[f]=="number")return-1;if(u[f]===void 0||typeof u[f]=="string"&&typeof c[f]=="number"||c[f]>u[f])return 1;if(u[f]>c[f])return-1}}else if(l||o)return l?-1:1;return 0}var Pn=[">",">=","=","<","<="],Fo={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function Go(t){if(typeof t!="string")throw new TypeError("Invalid operator type, expected string but got "+typeof t);if(Pn.indexOf(t)===-1)throw new TypeError("Invalid operator, expected one of "+Pn.join("|"))}Et.validate=function(t){return typeof t=="string"&&Tn.test(t)};Et.compare=function(t,e,r){Go(r);var n=Et(t,e);return Fo[r].indexOf(n)>-1};var B=Et;var M=class{constructor(e,r,n){this.URL="";this.ignoreUnstable=!0;if(!URL){Q(n,"Please set the URL for the fetcher");return}let s=e.replace("///","");s.endsWith("/")&&(s=s.slice(0,-1)),this.URL=s,this.ignoreUnstable=this.ignoreUnstable}};var Rt=class extends M{async versions(e){let r=this.transformServerResponse(vn,this.URL),n=e.map(r);return Promise.all(n)}transformServerResponse(e,r){let n=this;return function(s){return e(s.key,r).then(i=>{let a=i.versions.filter(l=>l!==""&&l!==void 0&&!n.checkPreRelease(l)).sort(B).reverse();return{item:s,versions:a}}).catch(i=>(console.error(i),{item:s,error:s.key+": "+i}))}}async vulns(e){return x.setText("Loading","\u{1F440} Fetching vulnerabilities"),await Z(e,"crates.io")}checkPreRelease(e){return m.rust.ignoreUnstable?e.indexOf("-alpha")!==-1||e.indexOf("-beta")!==-1||e.indexOf("-rc")!==-1||e.indexOf("-SNAPSHOT")!==-1||e.indexOf("-dev")!==-1||e.indexOf("-preview")!==-1||e.indexOf("-experimental")!==-1||e.indexOf("-canary")!==-1||e.indexOf("-pre")!==-1:!1}};var wn=require("vscode");async function Ho(t,e){let r={Language:t.Language,Packages:t.Packages,IgnoreUnstables:t.IgnoreUnstables,VulnerabilityCheck:t.VulnerabilityCheck,GhsaCheck:t.GhsaCheck};return await be("v1/indexes",{method:"POST",body:JSON.stringify(r),...e}).then(n=>{if(n.status!==200)switch(Pe(n.error)){case"Device Limit reached. You can edit your api key or visit dependi.io dashboard to manage devices.":return mt(),[];case"Payment required. Please visit dependi.io dashboard to update your payment method.":return ht(),[];case"Unauthorized, please check your api key.":return Q("apiKey","Unauthorized, please check your api key."),[];case"Invalid api key or api key not found. Please check your api key.":return Q("apiKey","Invalid api key or api key not found. Please check your api key."),[];case"User is not active. Please check emails from us or visit dependi.io dashboard.":Q("apiKey","User is not active. Please check emails from us or visit dependi.io dashboard.");default:return wn.window.showErrorMessage(Pe(n.error)),[]}let s=n.body?.filter(l=>l?.Name),i=new Map(s?.map(l=>[l.Name,l]));return t.Dependencies.map(l=>{let o=i.get(l.item.key);if(o&&o.Versions&&(l.versions=o.Versions,o.Vulns)){let c=Object.entries(o.Vulns);l.vulns=new Map(c)}return l})}).catch(n=>(console.error("Catch get versions",n),[]))}var Dn={getVersions:Ho};var yt=class extends M{async versions(e){let r={Language:S,Packages:e.map(s=>s.key),Dependencies:e.map(s=>({item:s,versions:[s.value]})),IgnoreUnstables:this.ignoreUnstable,VulnerabilityCheck:m.vulnerability.enabled,GhsaCheck:m.vulnerability.ghsa};m.api.deviceID===""&&console.error("DeviceID is empty");let n=await Dn.getVersions(r,{headers:{Authorization:m.api.key,"X-Device-ID":m.api.deviceID,"Content-Type":"application/json"}});return S===4&&(n=n.map(i=>this.mapVersions(i))),Promise.all(n)}async vulns(e){throw new Error("Method not implemented.")}checkPreRelease(e){throw new Error("Method not implemented.")}mapVersions(e,r){let n=e.versions.filter(a=>a!==""&&a!==void 0).sort(B).reverse();if(r){let a=Ce(r.value??""),l=Ae(a,n);return r.value=l||r.value,{item:r,versions:n}}let s=Ce(e.item.value??""),i=Ae(s,n);return e.item.value=i||e.item.value,e.versions=n,e}};var Sn=w(require("https")),Ln=w(me());var On=new Ln.default({stdTTL:60*10}),Nn=(t,e)=>new Promise(function(r,n){let s=On.get(t);if(s){r(s);return}let i=t.toLowerCase(),a=`${e}/${i}/@v/list`,l=J(a);var o=Sn.get(l,function(c){if(!c.statusCode){n(new Error(`statusCode=${c.statusCode}: ${l.host}`));return}if(c.statusCode<200||c.statusCode>=300)return n(new Error(`statusCode=${c.statusCode}: ${a}`));var u;let p=[];c.on("data",function(f){p=f.toString("utf8").split(`
`)}),c.on("end",function(){try{u={name:t,versions:p,features:[]},On.set(t,u)}catch(f){n(f)}r(u)})});o.on("error",function(c){n(c)}),o.end()});var vt=class extends M{async versions(e){let r=this.transformServerResponse(Nn,this.URL),n=e.map(r);return Promise.all(n)}transformServerResponse(e,r){let n=this;return async function(s){return e(s.key,r).then(i=>{let a=i.versions.filter(l=>l!==""&&l!==void 0&&!n.checkPreRelease(l)).sort(B).reverse();return{item:s,versions:a}}).catch(i=>(console.error(i),{item:s,error:s.key+": "+i}))}}async vulns(e){return x.setText("Loading","\u{1F440} Fetching vulnerabilities"),await Z(e,"Go")}checkPreRelease(e){return m.go.ignoreUnstable?e.indexOf("-alpha")!==-1||e.indexOf("-beta")!==-1||e.indexOf("-rc")!==-1||e.indexOf("-SNAPSHOT")!==-1||e.indexOf("-dev")!==-1||e.indexOf("-preview")!==-1||e.indexOf("-experimental")!==-1||e.indexOf("-canary")!==-1||e.indexOf("-pre")!==-1:!1}};var Cn=w(require("https")),An=w(me());var _n=new An.default({stdTTL:60*10}),$n=(t,e,r)=>new Promise(function(n,s){let i=r?t+"-latest":t,a=_n.get(i);if(a){n(a);return}let l=`${e}/${r?`-/package/${t}/dist-tags`:`${t}`}`,o=J(l);r||(o.headers={Accept:"application/vnd.npm.install-v1+json"});var c=Cn.get(o,function(u){if(!u.statusCode){s(new Error(`statusCode=${u.statusCode}: ${o.hostname}${o.path}`));return}if(u.statusCode<200||u.statusCode>=300)return s(new Error(`statusCode=${u.statusCode}: ${o.hostname}${o.path}`));var p;let f="";u.on("data",h=>{f+=h}),u.on("end",()=>{try{let h=JSON.parse(f),I=[];I=r?Wo(h,r):jo(h,I),p={name:t,versions:I,features:[]},_n.set(i,p)}catch(h){console.error("Error parsing response:",h),s(h)}n(p)})});c.on("error",function(u){s(u)}),c.end()}),jo=(t,e)=>{if(t.versions){let r=Object.entries(t.versions);r.length&&r.forEach(([n,s])=>{!s.deprecated&&(!m.npm.ignoreUnstable||!n.includes("-"))&&e.push(n)})}return e},Wo=(t,e)=>e===t.latest?[e]:[e,t.latest];var It=class extends M{async versions(e){let r=e[0].values.length>0,n=this.transformServerResponse($n,this.URL,r),s=e.map(n);return Promise.all(s)}transformServerResponse(e,r,n){let s=this;return async function(i){return(n?e(i.key,r,i.value):e(i.key,r)).then(l=>{let o=l.versions.filter(c=>c!==""&&c!==void 0&&!s.checkPreRelease(c)).sort(B).reverse();return{item:i,versions:o}}).catch(l=>(console.error(l),{item:i,error:i.key+": "+l}))}}async vulns(e){return x.setText("Loading","\u{1F440} Fetching vulnerabilities"),await Z(e,"npm")}checkPreRelease(e){return m.npm.ignoreUnstable?e.indexOf("-alpha")!==-1||e.indexOf("-beta")!==-1||e.indexOf("-rc")!==-1||e.indexOf("-SNAPSHOT")!==-1||e.indexOf("-dev")!==-1||e.indexOf("-preview")!==-1||e.indexOf("-experimental")!==-1||e.indexOf("-canary")!==-1||e.indexOf("-pre")!==-1:!1}};var Vn=w(require("https")),Un=w(me());var kn=new Un.default({stdTTL:60*10}),qn=(t,e)=>new Promise(function(r,n){let s=kn.get(t);if(s){r(s);return}let i=`${e}/p2/${t}.json`,a=J(i);var l=Vn.get(a,function(o){if(!o.statusCode){n(new Error(`statusCode=${o.statusCode}: ${a.hostname}${a.path}`));return}if(o.statusCode<200||o.statusCode>=300)return n(new Error(`statusCode=${o.statusCode}: ${a.hostname}${a.path}`));var c;let u="";o.on("data",p=>{u+=p}),o.on("end",function(){let p=JSON.parse(u);try{c={name:t,versions:p.packages[t].map(f=>f.version.replace(/^v/,"")),features:[]},kn.set(t,c)}catch(f){n(f)}r(c)})});l.on("error",function(o){n(o)}),l.end()});var xt=class extends M{async versions(e){let r=e[0].values.length>0,n=this.transformServerResponse(qn,this.URL,r),s=e.map(n);return Promise.all(s)}transformServerResponse(e,r,n){let s=this;return async function(i){return e(i.key,r).then(l=>{let o=l.versions.filter(c=>c!==""&&c!==void 0&&!s.checkPreRelease(c)).sort(B).reverse();return{item:i,versions:o}}).catch(l=>(console.error(l),{item:i,error:i.key+": "+l}))}}async vulns(e){return x.setText("Loading","\u{1F440} Fetching vulnerabilities"),await Z(e,"Packagist")}checkPreRelease(e){return m.php.ignoreUnstable?e.indexOf("-alpha")!==-1||e.indexOf("-beta")!==-1||e.indexOf("-rc")!==-1||e.indexOf("-SNAPSHOT")!==-1||e.indexOf("-dev")!==-1||e.indexOf("dev-")!==-1||e.indexOf("-preview")!==-1||e.indexOf("-experimental")!==-1||e.indexOf("-canary")!==-1||e.indexOf("-pre")!==-1:!1}};var Fn=w(require("https")),Gn=w(me());var Mn=new Gn.default({stdTTL:60*10}),Hn=(t,e)=>new Promise(function(r,n){let s=Mn.get(t);if(s){r(s);return}let i=`${e}/${t}/json`,a=J(i);var l=Fn.get(a,function(o){if(!o.statusCode){n(new Error(`statusCode=${o.statusCode}: ${i}`));return}if(o.statusCode<200||o.statusCode>=300)return n(new Error(`statusCode=${o.statusCode}: ${i}`));var c;let u="";o.on("data",function(p){u+=p}),o.on("end",function(){try{let p=JSON.parse(u),f=Object.keys(p.releases);c={name:t,versions:f,features:[]},Mn.set(t,c)}catch(p){n(p)}r(c)})});l.on("error",function(o){n(o)}),l.end()});var bt=class extends M{async versions(e){let r=this.transformServerResponse(Hn,this.URL),n=e.map(r);return Promise.all(n)}transformServerResponse(e,r){let n=this;return async function(s){return e(s.key,r).then(i=>n.mapVersions(i,s)).catch(i=>(console.error(i),{item:s,error:s.key+": "+i}))}}async vulns(e){return x.setText("Loading","\u{1F440} Fetching vulnerabilities"),await Z(e,"PyPI")}checkPreRelease(e){if(!m.python.ignoreUnstable)return!1;let r=/\..*a|b.*/;return e.indexOf(".alpha")!==-1||e.indexOf(".beta")!==-1||e.indexOf(".rc")!==-1||e.indexOf(".SNAPSHOT")!==-1||e.indexOf(".dev")!==-1||e.indexOf(".preview")!==-1||e.indexOf(".experimental")!==-1||e.indexOf(".canary")!==-1||e.indexOf(".pre")!==-1||r.test(e)}mapVersions(e,r){let n=e.versions.filter(a=>a!==""&&a!==void 0&&!this.checkPreRelease(a)).sort(B).reverse();if(r){let a=Ce(r.value??""),l=Ae(a,n);return r.value=l||r.value,{item:r,versions:n}}let s=Ce(e.item.value??""),i=Ae(s,n);return e.item.value=i||e.item.value,e.versions=n,e}};var Ze=require("vscode"),bi=w(Nt());var G=w(Nt());function xi(t="0.0.0",e){let r=t;e=e.map(Ii);let n=r.charCodeAt(0);n>47&&n<58&&(r="^"+r);let s=e[0];if((0,G.maxSatisfying)(e,r)===null){if((0,G.valid)(Ii(t))===null)return[!1,!1,null];let l=(0,G.minVersion)(r)?.toString()??"0.0.0";if((0,G.gt)(l,s))return[!0,!1,r]}let i=!1;switch(S){case 1:i=m.rust.informPatchUpdates;break;case 3:i=m.npm.informPatchUpdates;break;case 5:i=m.php.informPatchUpdates;break;case 2:i=m.go.informPatchUpdates;break;case 4:i=m.python.informPatchUpdates;break}let a=i?(0,G.compare)(s,(0,G.minVersion)(r)??"0.0.0")===1:!1;return[(0,G.satisfies)(s,r),a,(0,G.maxSatisfying)(e,r)]}function Ii(t){if(t.includes(".")){if(t.split(".").length===2)return`${t}.0`}else return`${t}.0.0`;return t}function br(t,e,r,n,s,i,a){let l=e.value?.replace(",",""),[o,c,u]=xi(l,r),p=v=>{let q=v.split(`
`),b=new Ze.MarkdownString("#### Errors ");return b.appendMarkdown(`
`),q.filter(te=>te).forEach(te=>{b.appendMarkdown("* "),b.appendText(te.trim()),b.appendMarkdown(`
`)}),b},f=new Ze.MarkdownString,h=n.position,I={[h]:{contentText:""}},D="COMP";if(a)f=p(a),D="ERROR";else{if(wl(f,i,l),f.appendMarkdown("#### Versions"),f.appendMarkdown(Pl(s,e.key)),f.isTrusted=!0,Dl(f,r,e,u??"",i,n,s),l=="?"){let q={value:r[0],range:e.range};t.edit(b=>{b.replace(e.range,q.value.substr(1,q.value.length-2))}),t.document.save()}(0,bi.validRange)(l)?r[0]!==u&&(D=o?"COMP":"INCOMP"):D="ERROR",c&&D==="COMP"&&(D="PATCH")}let O=bl(n,D);I[h].contentText=O.replace("${version}",r[0]);let X=i?.get(l);if(X&&X.length>0){let v=n.vulnText.replace("${count}",`${X?.length}`);I[h].contentText=I[h].contentText+"	"+v}return xl(l)&&(I[h].contentText=""),[{range:h=="after"?e.decoRange:new Ze.Range(e.line,0,e.line,e.endOfLine),hoverMessage:f,renderOptions:I},D]}function xl(t){return t?t.startsWith("file:")||t.startsWith("path:")||t.startsWith("link:")||t.startsWith("git:")||t.startsWith("git+")||t.startsWith("github:")||t.startsWith("workspace:")||t.startsWith("ssh:")||t.startsWith("http:")||t.startsWith("https:"):!1}function bl(t,e){let r=t.compatibleText;switch(e){case"PATCH":r=t.patchUpdateText;break;case"INCOMP":r=t.incompatibleText;break;case"ERROR":r=t.errorText;break}return r}function Pl(t,e){let r=e.replace(/"/g,"");switch(t){case 1:return` _([View crate](https://crates.io/crates/${r}) | [Check reviews](https://web.crev.dev/rust-reviews/crate/${r}))_`;case 2:return` _([View module](https://pkg.go.dev/${r}) | [Check docs](https://pkg.go.dev/${r}#section-documentation))_`;case 3:return` _([View package](https://npmjs.com/package/${r}))_`;case 5:return` _([View package](https://packagist.org/packages/${r}))_`;case 4:return` _([View package](https://pypi.org/project/${r}))_`;default:return""}}function Tl(t,e,r){switch(t){case 1:return`[(docs)](https://docs.rs/crate/${e}/${r})`;case 2:return`[(docs)](https://pkg.go.dev/${e}@${r}#section-documentation)`;case 3:return`[(docs)](https://npmjs.com/package/${e}/v/${r})`;case 5:return`[(docs)](https://packagist.org/packages/${e}#${r})`;case 4:return`[(docs)](https://pypi.org/project/${e}/${r})`;default:return""}}function wl(t,e,r){let n=e?.get(r);if(n?.length){t.appendMarkdown("#### Vulnerabilities (Current)");let s=[];n?.forEach(i=>{let a=` - [${i}](https://osv.dev/vulnerability/${i}) 
`;s.push(a)}),t.appendMarkdown(`
`+s.join(""))}}function Dl(t,e,r,n,s,i,a){for(let l=0;l<e.length;l++){let o=e[l],c=s?.get(o),u={value:o,range:{start:{line:r.range.start.line,character:r.range.start.character},end:{line:r.range.end.line,character:r.range.end.character}}},p=o===n,f=encodeURI(JSON.stringify(u)),h=l===0||p?" "+Tl(a,r.key,o):"",I=c?.length?i.vulnText.replace("${count}",`${c?.length}`):"",D=`${p?"**":""}[${o}](command:${T.REPLACE_VERSIONS}?${f})${h}${p?"**":""}  ${I}`;t.appendMarkdown(`
 * `),t.appendMarkdown(D)}}var Pi=require("vscode");function Ti(){let t=m.decorator.compatible.template,e={...m.decorator.compatible.css},r=m.decorator.patchUpdate.template,n={...m.decorator.patchUpdate.css},s=m.decorator.incompatible.template,i={...m.decorator.incompatible.css},a=m.decorator.error.template,l={...m.decorator.error.css},o=m.decorator.vulnerability.template,c=m.decorator.position;return Pr(e,c,t),Pr(i,c,s),Pr(l,c,a),{compatibleType:_t(e),patchUpdateType:_t(n),incompatibleType:_t(i),errorType:_t(l),compatibleText:t,patchUpdateText:r,incompatibleText:s,errorText:a,vulnText:o,position:c}}function Pr(t,e,r){(t[e]==null||t[e]==null)&&(t[e]={margin:"0.5em"}),t[e].contentText=r}function _t(t){return Pi.window.createTextEditorDecorationType(t)}var et;function V(t,e,r){let n=Ti(),s=[],i=e.filter(c=>(c&&!c.error&&c.versions&&c.versions.length||(c.error||(c.error=c.item.key+": No versions found"),s.push(`${c.error}`)),c)),a=[],l=[],o=[];for(let c=i.length-1;c>-1;c--){let u=i[c],p=e[c];try{let f=br(t,u.item,u.versions||[],JSON.parse(JSON.stringify(n)),r,u.vulns,u.error);if(f)switch(f[1]){case"COMP":a.push(f[0]);break;case"PATCH":a.push(f[0]);break;case"INCOMP":l.push(f[0]);break;case"ERROR":o.push(f[0]);break}}catch(f){console.error(f),s.push(`Failed to build build decorator (${u.item.value})`)}}et&&(et.compatibleType.dispose(),et.incompatibleType.dispose(),et.errorType.dispose()),t.setDecorations(n.compatibleType,a),t.setDecorations(n.incompatibleType,l),t.setDecorations(n.errorType,o),et=n,s.length?x.setText("Error",`Completed with errors ${s.join(`
`)}`,!0):x.setText("Info")}var Ct=class{constructor(e,r){this.fetcher=e,this.parser=r}async parseAndDecorate(e){try{if(Tr=this.parser.parse(e.document),!oe||!Sl){oe=Tr.map(l=>({item:l,versions:[l.value]}));let r=[],n=this.fetcher.versions(Tr);r.push(n);let s;m.vulnerability.enabled&&(s=this.fetcher.vulns(oe),r.push(s));let[i,a]=await Promise.all(r);if(oe=i,a&&oe.forEach((l,o)=>{l.vulns=a[o].vulns}),ee(oe),V(e,oe,1),m.vulnerability.enabled){let l=await this.fetcher.vulns(oe);Ol=await l,V(e,l,1)}}}catch(r){console.error(r)}}},Tr,oe,Ol,Sl;var At=class{constructor(e,r){this.fetcher=e,this.parser=r}async parseAndDecorate(e){try{wr=this.parser.parse(e.document),(!tt||!Ll)&&(tt=wr.map(n=>({item:n,versions:[n.value]})),tt=await this.fetcher.versions(wr),ee(tt),V(e,tt,S))}catch(r){console.error(r)}}},wr,tt;var Ll;var $t=class{constructor(e,r){this.fetcher=e,this.parser=r}async parseAndDecorate(e){try{if(Dr=this.parser.parse(e.document),!ae||!_l){ae=Dr.map(a=>({item:a,versions:[a.value]}));let r=this.fetcher.versions(Dr),n;m.vulnerability.enabled&&(n=this.fetcher.vulns(ae));let[s,i]=await Promise.all([r,n]);if(ae=s,i&&ae.forEach((a,l)=>{a.vulns=i[l].vulns}),ee(ae),V(e,ae,2),m.vulnerability.enabled){let a=await this.fetcher.vulns(ae);Nl=await a,V(e,a,2)}}}catch(r){console.error(r)}}},Dr,ae,Nl,_l;var Fe=class{constructor(e,r,n){this.fetcher=e;this.parser=r;this.lang=n}async parseAndDecorate(e){try{if(Or=this.parser.parse(e.document),(!rt||!$l)&&(rt=await this.fetcher.versions(Or),m.vulnerability.enabled&&(rt=await this.fetcher.vulns(rt)),V(e,rt,this.lang)),!Me||!Al){if(Me=await this.fetcher.versions(Or),m.vulnerability.enabled){let s=Cl(Me,1e3).map(async a=>this.fetcher.vulns(a));Me=(await Promise.all(s)).reduce((a,l)=>a.concat(l),[])}ee(Me),V(e,Me,this.lang)}}catch(r){console.error(r)}}};function Cl(t,e){let r=[],n=[],s=0;return t.forEach(i=>{let a=i.versions?.length??0;s+a<=e?(n.push(i),s+=a):(r.push(n),i.versions&&i.versions.length>e&&(i.versions=i.versions.slice(0,1e3)),n=[i],s=a)}),n.length>0&&r.push(n),r}var Or,Me,Al,rt,$l;var kt=class extends Fe{constructor(r,n){super(r,n,3);this.fetcher=r;this.parser=n}};var Vt=class extends Fe{constructor(r,n){super(r,n,5);this.fetcher=r;this.parser=n}};var Ut=class{constructor(e,r){this.fetcher=e,this.parser=r}async parseAndDecorate(e){try{if(Sr=this.parser.parse(e.document),!ce||!kl){ce=Sr.map(a=>({item:a,versions:[a.value]}));let r=this.fetcher.versions(Sr),n;m.vulnerability.enabled&&(n=this.fetcher.vulns(ce));let[s,i]=await Promise.all([r,n]);ce=s,i&&ce.forEach((a,l)=>{a.vulns=i[l].vulns}),ee(ce),V(e,ce,4),m.vulnerability.enabled&&(wi=await await this.fetcher.vulns(ce),V(e,wi,4))}}catch(r){console.error(r)}}},Sr,ce,wi,kl;var Di=w(require("path"));async function de(t){if(t){let e,r="";switch(S){case 1:if(!m.rust.enabled)return;r="rust.excludeUnstableVersions",e=new Ct(new Rt(m.rust.index,r,"rust.indexServerURL"),new De);break;case 2:if(!m.go.enabled)return;r="go.excludeUnstableVersions",e=new $t(new vt(m.go.index,r,"go.indexServerURL"),new Oe);break;case 3:if(!m.npm.enabled)return;r="npm.excludeUnstableVersions",e=new kt(new It(m.npm.index,r,"npm.indexServerURL"),new Le);break;case 5:if(!m.php.enabled)return;r="php.excludeUnstableVersions",e=new Vt(new xt(m.php.index,r,"php.indexServerURL"),new Ne);break;case 4:if(!m.python.enabled)return;r="python.excludeUnstableVersions";let n=Di.default.basename(t.document.fileName)==="pyproject.toml"?new $e:new _e;e=new Ut(new bt(m.python.index,r,"python.indexServerURL"),n)}if(e!==void 0&&(m.api.key!==""&&m.api.url!==""&&(e=new At(new yt(m.api.url,r,"apiURL"),e.parser)),!N.inProgress))return N.inProgress=!0,x.fetching(""),x.show(),e?.parseAndDecorate(t).finally(()=>{N.inProgress=!1})}return Promise.resolve()}function ee(t){N.replaceItems=t.filter(e=>e.versions&&e.versions.length>1&&e.versions[0]!==e.item.value).map(e=>({range:e.item.range,value:e.versions?.[0]}))}var Si=Oi.commands.registerTextEditorCommand(T.RETRY,(t,e,r)=>{t&&de(t)});var Mt=w(require("vscode"));var Lr=require("fs"),nt=require("vscode");function Li(t,e,r){let n=nt.Uri.joinPath(e,"icon.png"),s=t.asWebviewUri(n),i=nt.Uri.joinPath(e,"CHANGELOG.md"),a=(0,Lr.readFileSync)(i.fsPath,"utf8"),l=Vl(a,"0.5.3"),o=nt.Uri.joinPath(e,"templates","welcome-page","style.css"),c=nt.Uri.joinPath(e,"templates","welcome-page","features.html"),u=t.asWebviewUri(o),p=(0,Lr.readFileSync)(c.fsPath,"utf8");return`<!DOCTYPE html>
  <html lang="en">
  
  <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <link rel="stylesheet" type="text/css" href="${u}">
          <title>Welcome to Dependi</title>
        </head>
          
          <body>
          <div class="header">
          <div class="logo">
          <img src="${s}" alt="logo" width="128" height="128">
          </div>
          <div class="logo-header">
          <h1>Dependi <em>v${r}</em> </h1>
         
          <p>Welcome to <b>Dependi</b>. Empowers developers to efficiently manage dependencies and address vulnerabilities in Rust, Go, JavaScript, TypeScript, Python and PHP projects.</p>
          </div>
    </div>
    <div class="split">
      <div class="features">
          <h1>Features</h1>   
          ${p}
      </div>
      <div class="changelog" >
          ${l}
      </div>
    </div>
  
  </body>
  </html>`}function Vl(t,e){let r=t.split(`## ${e}`)[0];return r=r.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>'),r=r.replace(/^#\s(.*)$/gm,"<h1>$1</h1>"),r=r.replace(/^##\s(.*)$/gm,"<h2>$1</h2>"),r=r.replace(/^###\s(.*)$/gm,"<h4>$1</h4>"),r}var qt=class t extends Ve{constructor(e,r,n,s){super(e,r),this.context=n,this._panel.webview.html=this.getWebviewContent(s)}getWebviewContent(e){return this._getWelcomePageHtml(e)}static render(e){let r=Mt.window.createWebviewPanel("welcomeDependi","Welcome to Dependi",Mt.ViewColumn.One,{}),n=new t(r,e.extensionUri,e,m.version)}_getWelcomePageHtml(e){return Li(this._panel.webview,this._extensionUri,e)}};var Ni=require("crypto"),_i=w(Nt());var ge={deviceID:T.DEVICE_ID,shownVersion:T.SHOWN_VERSION},Ft=class{constructor(e){this.context=e,this.context.globalState.setKeysForSync([ge.shownVersion])}initDeviceID(){let e=this.getDeviceID();if(!e||e.length!==36){let r=(0,Ni.randomUUID)();return this.setDeviceID(r).then(()=>r)}return Promise.resolve(e)}setDeviceID(e){return console.debug("setDeviceID",e),this.context.globalState.update(ge.deviceID,e)}getDeviceID(){return console.debug("getDeviceID",this.context.globalState.get(ge.deviceID)),this.context.globalState.get(ge.deviceID)}setShownVersion(e){return console.debug("setShownVersion",e),this.context.globalState.update(ge.shownVersion,e)}getShownVersion(){return console.debug("getShownVersion",this.context.globalState.get(ge.shownVersion)),this.context.globalState.get(ge.shownVersion)}shouldShowWelcomePage(e){return(0,_i.gt)(e,this.getShownVersion()??"0.0.0")}isFirstInstall(){return!this.getShownVersion()}};var Ee=require("vscode");var Ci=t=>Ee.commands.registerCommand(T.GENERATE_VULNERABILITY_CURRENT_REPORT,async()=>{let e={location:Ee.ProgressLocation.Notification,title:"Loading Report",cancellable:!1};Ee.window.withProgress(e,ln).then(r=>{r&&Ue.render(t.extensionUri,r)},r=>{Ee.window.showErrorMessage(`Report generation failed: ${r}`)})});function Ul(t){console.debug('Congratulations, your extension "dependi" is now active!'),m.load(),H.workspace.onDidChangeConfiguration(e=>{m.onChange(e)}),ft(H.window.activeTextEditor?.document.fileName),Ml(t).finally(()=>de(H.window.activeTextEditor)),t.subscriptions.push(H.window.onDidChangeActiveTextEditor(e=>(console.debug("Active text editor changed"),ft(H.window.activeTextEditor?.document.fileName),de(e))),H.workspace.onDidChangeTextDocument(e=>{e.document.fileName===H.window.activeTextEditor?.document.fileName&&(console.debug("Text document changed"),ft(H.window.activeTextEditor?.document.fileName),e.document.isDirty||de(H.window.activeTextEditor))})),console.debug("Adding commands"),t.subscriptions.push(Si),t.subscriptions.push(kr),t.subscriptions.push(Vr),t.subscriptions.push(un(t)),t.subscriptions.push(Ci(t))}function ql(){}async function Ml(t){let e=new Ft(t),r=await e.initDeviceID();m.api.deviceID=r,m.version=t.extension.packageJSON.version,e.isFirstInstall()?(console.debug("First install"),qt.render(t),await e.setShownVersion(m.version)):e.shouldShowWelcomePage(t.extension.packageJSON.version)&&(console.debug("Updated version"),H.window.withProgress({title:"Dependi has been updated to a new version. See the [CHANGELOG!](https://github.com/filllabs/dependi/blob/main/vscode/CHANGELOG.md)",cancellable:!0,location:H.ProgressLocation.Notification},async()=>{await new Promise(async(n,s)=>{setTimeout(()=>{n()},3e3)})}),await e.setShownVersion(t.extension.packageJSON.version))}0&&(module.exports={activate,deactivate});
