!function(){"use strict";
/**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   */var e=(e=>(e.RAW="RAW",e.PROXY="PROXY",e.THROW="THROW",e.HANDLER="HANDLER",e))(e||{}),t=(e=>(e.GET="GET",e.SET="SET",e.APPLY="APPLY",e.CONSTRUCT="CONSTRUCT",e.ENDPOINT="ENDPOINT",e.RELEASE="RELEASE",e))(t||{});
/**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   */
const r=Symbol("Comlink.proxy"),n=Symbol("Comlink.endpoint"),i=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.finalizer"),s=Symbol("Comlink.thrown"),a=e=>"object"==typeof e&&null!==e||"function"==typeof e,l={canHandle:e=>a(e)&&e[r],serialize(e){const{port1:t,port2:r}=new MessageChannel;return f(e,t),[r,[r]]},deserialize(e){return e.start(),y(e,[],t);var t}},c=new WeakMap,u=new Map([["proxy",l],["throw",{canHandle:e=>a(e)&&s in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function f(e,n=globalThis,i=["*"]){n.addEventListener("message",(async function a(l){if(!l||!l.data)return;if(!function(e,t){for(const r of e){if(t===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}return!1}(i,l.origin))return void console.warn(`Invalid origin '${l.origin}' for comlink proxy`);l.data.path||=[];const{id:c,type:u,path:d}=l.data,h=(l.data.argumentList||[]).map(x);let _;try{const n=d.slice(0,-1).reduce(((e,t)=>e[t]),e),i=d.reduce(((e,t)=>e[t]),e);switch(u){case t.GET:_=i;break;case t.SET:n[d.slice(-1)[0]]=x(l.data.value),_=!0;break;case t.APPLY:_=i.apply(n,h);break;case t.CONSTRUCT:_=function(e){const t=e;return t[r]=!0,t}(new i(...h));break;case t.ENDPOINT:{const{port1:t,port2:r}=new MessageChannel;f(e,r),_=E(t,[t])}break;case t.RELEASE:_=void 0,"dispose"in Symbol&&Symbol.dispose in e&&e[Symbol.dispose](),"asyncDispose"in Symbol&&Symbol.asyncDispose in e&&await e[Symbol.asyncDispose](),o in e&&"function"==typeof e[o]&&e[o]();break;default:return}}catch(m){_={value:m,[s]:0}}try{_=await _}catch(m){_={value:m,[s]:0}}try{const[e,t]=S(_);e.id=c,n.postMessage(e,t)}catch{const[e,t]=S({value:new TypeError("Unserializable return value"),[s]:0});e.id=c,n.postMessage(e,t)}finally{u===t.RELEASE&&(n.removeEventListener("message",a),p(n))}})),n.start?.()}function p(e){(function(e){return e instanceof MessagePort||"MessagePort"===e.constructor.name})(e)&&e.close()}function d(e){if(e)throw new Error("Proxy has been released and is not useable")}async function h(e){if(c.has(e)){const{resolversMap:r,messageHandler:n}=c.get(e),i=k(e,{type:t.RELEASE});c.delete(e),await i,r.forEach((({reject:e})=>e(new DOMException("Cancelled by proxy release","AbortError")))),r.clear(),e.removeEventListener("message",n),p(e)}}const _=new WeakMap,m="FinalizationRegistry"in globalThis?new FinalizationRegistry((async function(e){const t=(_.get(e)||0)-1;_.set(e,t),0===t&&await h(e)})):void 0;function g(e){m?.unregister(e)}function y(e,r=[],o=function(){}){let s=!1;const a=new Proxy(o,{get(n,o){if(d(s),o===Symbol.dispose||o===i)return()=>{s=!0,g(a),h(e)};if(o===Symbol.asyncDispose)return async()=>{s=!0,g(a),await h(e)};if("then"===o){if(0===r.length)return{then:()=>a};const n=k(e,{type:t.GET,path:r.map((e=>e.toString()))}).then(x);return n.then.bind(n)}return y(e,[...r,o])},set(n,i,o){d(s);const[a,l]=S(o);return k(e,{type:t.SET,path:[...r,i].map((e=>e.toString())),value:a},l).then(x)},apply(i,o,a){d(s);const l=r[r.length-1];if(l===n)return k(e,{type:t.ENDPOINT}).then(x);if("bind"===l)return y(e,r.slice(0,-1));const[c,u]=w(a);return k(e,{type:t.APPLY,path:r.map((e=>e.toString())),argumentList:c},u).then(x)},construct(n,i){d(s);const[o,a]=w(i);return k(e,{type:t.CONSTRUCT,path:r.map((e=>e.toString())),argumentList:o},a).then(x)}});return function(e,t){const r=(_.get(t)||0)+1;_.set(t,r),m?.register(e,t,e)}(a,e),a}const b="flat"in Array.prototype?e=>e.flat():e=>Array.prototype.concat.apply([],e);function w(e){const t=e.map(S);return[t.map((e=>e[0])),b(t.map((e=>e[1])))]}const q=new WeakMap;function E(e,t){return q.set(e,t),e}function S(t){for(const[r,n]of u)if(n.canHandle(t)){const[i,o]=n.serialize(t);return[{type:e.HANDLER,name:r,value:i},o]}return[{type:e.RAW,value:t},q.get(t)||[]]}function x(t){switch(t.type){case e.HANDLER:return u.get(t.name).deserialize(t.value);case e.RAW:return t.value}}const A=e=>t=>{const{data:r}=t;if(!r?.id)return;const n=e.get(r.id);n&&(e.delete(r.id),n.resolve(r))};function k(e,t,r){return new Promise(((n,i)=>{let o=c.get(e)?.resolversMap;if(!o){o=new Map;const t=A(o);c.set(e,{resolversMap:o,messageHandler:t}),e.addEventListener("message",t)}const s=Math.random()*2**32>>>0;t.id=s,o.set(s,{resolve:n,reject:i}),e.start?.(),e.postMessage(t,r)}))}const I="FinalizationRegistry"in globalThis?new FinalizationRegistry((async e=>{e.postMessage(null),e.close()})):void 0;u.set("abortsignal",{canHandle:e=>e instanceof AbortSignal||"AbortSignal"===e?.constructor?.name,serialize(e){if(e.aborted)return[{aborted:!0},[]];const{port1:t,port2:r}=new MessageChannel;return e.addEventListener("abort",(()=>t.postMessage({reason:e.reason})),{once:!0}),I?.register(e,t),[{aborted:!1,port:r},[r]]},deserialize({aborted:e,port:t}){if(e||!t)return AbortSignal.abort();const r=new AbortController;return t.addEventListener("message",(e=>{e.data&&"reason"in e.data&&r.abort(e.data.reason),t.close()}),{once:!0}),t.start(),r.signal}}),"throwIfAborted"in AbortSignal.prototype||(AbortSignal.prototype.throwIfAborted=function(e){if(this.aborted)throw new DOMException(e,"AbortError")});var T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function O(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function L(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}function P(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F,R,j={exports:{}},C=j.exports={};function N(){throw new Error("setTimeout has not been defined")}function D(){throw new Error("clearTimeout has not been defined")}function B(e){if(F===setTimeout)return setTimeout(e,0);if((F===N||!F)&&setTimeout)return F=setTimeout,setTimeout(e,0);try{return F(e,0)}catch(t){try{return F.call(null,e,0)}catch(r){return F.call(this,e,0)}}}!function(){try{F="function"==typeof setTimeout?setTimeout:N}catch(e){F=N}try{R="function"==typeof clearTimeout?clearTimeout:D}catch(e){R=D}}();var M,U=[],z=!1,W=-1;function H(){z&&M&&(z=!1,M.length?U=M.concat(U):W=-1,U.length&&Q())}function Q(){if(!z){var e=B(H);z=!0;for(var t=U.length;t;){for(M=U,U=[];++W<t;)M&&M[W].run();W=-1,t=U.length}M=null,z=!1,function(e){if(R===clearTimeout)return clearTimeout(e);if((R===D||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(e);try{return R(e)}catch(t){try{return R.call(null,e)}catch(r){return R.call(this,e)}}}(e)}}function $(e,t){this.fun=e,this.array=t}function V(){}C.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];U.push(new $(e,t)),1!==U.length||z||B(Q)},$.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=V,C.addListener=V,C.once=V,C.off=V,C.removeListener=V,C.removeAllListeners=V,C.emit=V,C.prependListener=V,C.prependOnceListener=V,C.listeners=function(e){return[]},C.binding=function(e){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(e){throw new Error("process.chdir is not supported")},C.umask=function(){return 0};const G=P(j.exports);var K,J={exports:{}},Y="object"==typeof Reflect?Reflect:null,X=Y&&"function"==typeof Y.apply?Y.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};K=Y&&"function"==typeof Y.ownKeys?Y.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Z=Number.isNaN||function(e){return e!=e};function ee(){ee.init.call(this)}J.exports=ee,J.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}ue(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&ue(e,"error",t,r)}(e,i,{once:!0})}))},ee.EventEmitter=ee,ee.prototype._events=void 0,ee.prototype._eventsCount=0,ee.prototype._maxListeners=void 0;var te=10;function re(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function ne(e){return void 0===e._maxListeners?ee.defaultMaxListeners:e._maxListeners}function ie(e,t,r,n){var i,o,s,a;if(re(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=ne(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function oe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function se(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=oe.bind(n);return i.listener=r,n.wrapFn=i,i}function ae(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):ce(i,i.length)}function le(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function ce(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function ue(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(ee,"defaultMaxListeners",{enumerable:!0,get:function(){return te},set:function(e){if("number"!=typeof e||e<0||Z(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");te=e}}),ee.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ee.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Z(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},ee.prototype.getMaxListeners=function(){return ne(this)},ee.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)X(a,this,t);else{var l=a.length,c=ce(a,l);for(r=0;r<l;++r)X(c[r],this,t)}return!0},ee.prototype.addListener=function(e,t){return ie(this,e,t,!1)},ee.prototype.on=ee.prototype.addListener,ee.prototype.prependListener=function(e,t){return ie(this,e,t,!0)},ee.prototype.once=function(e,t){return re(t),this.on(e,se(this,e,t)),this},ee.prototype.prependOnceListener=function(e,t){return re(t),this.prependListener(e,se(this,e,t)),this},ee.prototype.removeListener=function(e,t){var r,n,i,o,s;if(re(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},ee.prototype.off=ee.prototype.removeListener,ee.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},ee.prototype.listeners=function(e){return ae(this,e,!0)},ee.prototype.rawListeners=function(e){return ae(this,e,!1)},ee.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):le.call(e,t)},ee.prototype.listenerCount=le,ee.prototype.eventNames=function(){return this._eventsCount>0?K(this._events):[]};for(var fe=J.exports,pe=fe.EventEmitter,de={},he={byteLength:function(e){var t=we(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=we(e),i=n[0],o=n[1],s=new ge(function(e,t,r){return 3*(t+r)/4-r}(0,i,o)),a=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=me[e.charCodeAt(r)]<<18|me[e.charCodeAt(r+1)]<<12|me[e.charCodeAt(r+2)]<<6|me[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===o&&(t=me[e.charCodeAt(r)]<<2|me[e.charCodeAt(r+1)]>>4,s[a++]=255&t);1===o&&(t=me[e.charCodeAt(r)]<<10|me[e.charCodeAt(r+1)]<<4|me[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(ve(e,s,s+o>a?a:s+o));1===n?(t=e[r-1],i.push(_e[t>>2]+_e[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(_e[t>>10]+_e[t>>4&63]+_e[t<<2&63]+"="));return i.join("")}},_e=[],me=[],ge="undefined"!=typeof Uint8Array?Uint8Array:Array,ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",be=0;be<64;++be)_e[be]=ye[be],me[ye.charCodeAt(be)]=be;function we(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function ve(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(_e[(i=n)>>18&63]+_e[i>>12&63]+_e[i>>6&63]+_e[63&i]);return o.join("")}me["-".charCodeAt(0)]=62,me["_".charCodeAt(0)]=63;var qe={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,c=l>>1,u=-7,f=r?i-1:0,p=r?-1:1,d=e[t+f];for(f+=p,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+e[t+f],f+=p,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+e[t+f],f+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,f=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,h=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+f>=1?p/l:p*Math.pow(2,1-f))*l>=2&&(s++,l/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(t*l-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=h,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+d]=255&s,d+=h,s/=256,c-=8);e[r+d-h]|=128*_}};
/*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   */
!function(e){const t=he,r=qe,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i;const{Uint8Array:o,ArrayBuffer:s,SharedArrayBuffer:a}=globalThis;function l(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new o(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let n=l(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(s.isView(e))return function(e){if(J(e,o)){const t=new o(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,s)||e&&J(e.buffer,s))return h(e,t,r);if(void 0!==a&&(J(e,a)||e&&J(e.buffer,a)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|_(e.length),r=l(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Y(e.length)?l(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return f(e),l(e<0?0:0|_(e))}function d(e){const t=e.length<0?0:0|_(e.length),r=l(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new o(e):void 0===r?new o(e,t):new o(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function _(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(s.isView(e)||J(e,s))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(i)return n?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return O(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof o.prototype.indexOf?i?o.prototype.indexOf.call(e,t,r):o.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function v(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Y(n))return s;e[r+s]=n}return s}function q(e,t,r,n){return K(V(t,e.length-r),e,r,n)}function E(e,t,r,n){return K(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return K(G(t),e,r,n)}function x(e,t,r,n){return K(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function A(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function k(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,l;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(l=(31&t)<<6|63&r,l>127&&(o=l));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(l=(15&t)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=I));return r}(n)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new o(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,o.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,o.prototype),Object.setPrototypeOf(c,o),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?l(e):void 0!==t?"string"==typeof r?l(e).fill(t,r):l(e).fill(t):l(e)}(e,t,r)},c.allocUnsafe=function(e){return p(e)},c.allocUnsafeSlow=function(e){return p(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,o)&&(e=c.from(e,e.offset,e.byteLength)),J(t,o)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(J(t,o))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):o.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(J(e,o)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const l=Math.min(s,a),u=this.slice(n,i),f=e.slice(t,r);for(let o=0;o<l;++o)if(u[o]!==f[o]){s=u[o],a=f[o];break}return s<a?-1:a<s?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return q(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function O(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function L(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=X[e[o]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function F(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n,i){W(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function C(e,t,r,n,i){W(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function N(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,n,i,o){return t=+t,n>>>=0,o||N(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function B(e,t,n,i,o){return t=+t,n>>>=0,o||N(e,0,n,8),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||F(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||F(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||F(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||F(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||F(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||F(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||F(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||F(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||F(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Z((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||F(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||F(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||F(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||F(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){R(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){R(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof o.prototype.copyWithin?this.copyWithin(t,r,n):o.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const M={};function U(e,t,r){M[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function W(e,t,r,n,i,o){if(e>r||e<t){const r="bigint"==typeof t?"n":"";let n;throw n=0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`,new M.ERR_OUT_OF_RANGE("value",n,e)}!function(e,t,r){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||Q(t,e.length-(r+1))}(n,i,o)}function H(e,t){if("number"!=typeof e)throw new M.ERR_INVALID_ARG_TYPE(t,"number",e)}function Q(e,t,r){if(Math.floor(e)!==e)throw H(e,r),new M.ERR_OUT_OF_RANGE("offset","an integer",e);if(t<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=z(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function V(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}}(de);const Ee=de.Buffer,Se=de.Blob,xe=de.BlobOptions,Ae=de.Buffer,ke=de.File,Ie=de.FileOptions,Te=de.INSPECT_MAX_BYTES,Oe=de.SlowBuffer,Le=de.TranscodeEncoding,Pe=de.atob,Fe=de.btoa,Re=de.constants,je=de.isAscii,Ce=de.isUtf8,Ne=de.kMaxLength,De=de.kStringMaxLength,Be=de.resolveObjectURL,Me=de.transcode;var Ue,ze=L(Object.freeze({__proto__:null,Blob:Se,BlobOptions:xe,Buffer:Ae,File:ke,FileOptions:Ie,INSPECT_MAX_BYTES:Te,SlowBuffer:Oe,TranscodeEncoding:Le,atob:Pe,btoa:Fe,constants:Re,default:Ee,isAscii:je,isUtf8:Ce,kMaxLength:Ne,kStringMaxLength:De,resolveObjectURL:Be,transcode:Me})),We={},He={},Qe=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},$e=Qe,Ve=function(){return $e()&&!!Symbol.toStringTag},Ge=Error,Ke=EvalError,Je=RangeError,Ye=ReferenceError,Xe=SyntaxError,Ze=TypeError,et=URIError,tt="undefined"!=typeof Symbol&&Symbol,rt=Qe,nt={__proto__:null,foo:{}},it=Object,ot=Object.prototype.toString,st=Math.max,at=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},lt=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==ot.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,n=function(e,t){for(var r=[],n=t,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments,1),i=st(0,t.length-n.length),o=[],s=0;s<i;s++)o[s]="$"+s;if(r=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(o,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var i=t.apply(this,at(n,arguments));return Object(i)===i?i:this}return t.apply(e,at(n,arguments))})),t.prototype){var a=function(){};a.prototype=t.prototype,r.prototype=new a,a.prototype=null}return r},ct=Function.prototype.bind||lt,ut=Function.prototype.call,ft=Object.prototype.hasOwnProperty,pt=ct.call(ut,ft),dt=Ge,ht=Ke,_t=Je,mt=Ye,gt=Xe,yt=Ze,bt=et,wt=Function,vt=function(e){try{return wt('"use strict"; return ('+e+").constructor;")()}catch(t){}},qt=Object.getOwnPropertyDescriptor;if(qt)try{qt({},"")}catch(yo){qt=null}var Et=function(){throw new yt},St=qt?function(){try{return Et}catch(e){try{return qt(arguments,"callee").get}catch(t){return Et}}}():Et,xt="function"==typeof tt&&"function"==typeof Symbol&&"symbol"==typeof tt("foo")&&"symbol"==typeof Symbol("bar")&&rt(),At={__proto__:nt}.foo===nt.foo&&!(nt instanceof it),kt=Object.getPrototypeOf||(At?function(e){return e.__proto__}:null),It={},Tt="undefined"!=typeof Uint8Array&&kt?kt(Uint8Array):Ue,Ot={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?Ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Ue:ArrayBuffer,"%ArrayIteratorPrototype%":xt&&kt?kt([][Symbol.iterator]()):Ue,"%AsyncFromSyncIteratorPrototype%":Ue,"%AsyncFunction%":It,"%AsyncGenerator%":It,"%AsyncGeneratorFunction%":It,"%AsyncIteratorPrototype%":It,"%Atomics%":"undefined"==typeof Atomics?Ue:Atomics,"%BigInt%":"undefined"==typeof BigInt?Ue:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?Ue:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?Ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":dt,"%eval%":eval,"%EvalError%":ht,"%Float32Array%":"undefined"==typeof Float32Array?Ue:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Ue:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Ue:FinalizationRegistry,"%Function%":wt,"%GeneratorFunction%":It,"%Int8Array%":"undefined"==typeof Int8Array?Ue:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Ue:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":xt&&kt?kt(kt([][Symbol.iterator]())):Ue,"%JSON%":"object"==typeof JSON?JSON:Ue,"%Map%":"undefined"==typeof Map?Ue:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&xt&&kt?kt((new Map)[Symbol.iterator]()):Ue,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Ue:Promise,"%Proxy%":"undefined"==typeof Proxy?Ue:Proxy,"%RangeError%":_t,"%ReferenceError%":mt,"%Reflect%":"undefined"==typeof Reflect?Ue:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Ue:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&xt&&kt?kt((new Set)[Symbol.iterator]()):Ue,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":xt&&kt?kt(""[Symbol.iterator]()):Ue,"%Symbol%":xt?Symbol:Ue,"%SyntaxError%":gt,"%ThrowTypeError%":St,"%TypedArray%":Tt,"%TypeError%":yt,"%Uint8Array%":"undefined"==typeof Uint8Array?Ue:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Ue:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Ue:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Ue:Uint32Array,"%URIError%":bt,"%WeakMap%":"undefined"==typeof WeakMap?Ue:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Ue:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Ue:WeakSet};if(kt)try{null.error}catch(yo){var Lt=kt(kt(yo));Ot["%Error.prototype%"]=Lt}var Pt,Ft,Rt=function e(t){var r;if("%AsyncFunction%"===t)r=vt("async function () {}");else if("%GeneratorFunction%"===t)r=vt("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=vt("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&kt&&(r=kt(i.prototype))}return Ot[t]=r,r},jt={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ct=ct,Nt=pt,Dt=Ct.call(Function.call,Array.prototype.concat),Bt=Ct.call(Function.apply,Array.prototype.splice),Mt=Ct.call(Function.call,String.prototype.replace),Ut=Ct.call(Function.call,String.prototype.slice),zt=Ct.call(Function.call,RegExp.prototype.exec),Wt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ht=/\\(\\)?/g,Qt=function(e,t){var r,n=e;if(Nt(jt,n)&&(n="%"+(r=jt[n])[0]+"%"),Nt(Ot,n)){var i=Ot[n];if(i===It&&(i=Rt(n)),void 0===i&&!t)throw new yt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new gt("intrinsic "+e+" does not exist!")},$t=function(e,t){if("string"!=typeof e||0===e.length)throw new yt("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new yt('"allowMissing" argument must be a boolean');if(null===zt(/^%?[^%]*%?$/,e))throw new gt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=Ut(e,0,1),r=Ut(e,-1);if("%"===t&&"%"!==r)throw new gt("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new gt("invalid intrinsic syntax, expected opening `%`");var n=[];return Mt(e,Wt,(function(e,t,r,i){n[n.length]=r?Mt(i,Ht,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=Qt("%"+n+"%",t),o=i.name,s=i.value,a=!1,l=i.alias;l&&(n=l[0],Bt(r,Dt([0,1],l)));for(var c=1,u=!0;c<r.length;c+=1){var f=r[c],p=Ut(f,0,1),d=Ut(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===d||"'"===d||"`"===d)&&p!==d)throw new gt("property names with quotes must have matching quotes");if("constructor"!==f&&u||(a=!0),Nt(Ot,o="%"+(n+="."+f)+"%"))s=Ot[o];else if(null!=s){if(!(f in s)){if(!t)throw new yt("base intrinsic for "+e+" exists, but the property is not available.");return}if(qt&&c+1>=r.length){var h=qt(s,f);s=(u=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:s[f]}else u=Nt(s,f),s=s[f];u&&!a&&(Ot[o]=s)}}return s},Vt={exports:{}};function Gt(){if(Ft)return Pt;Ft=1;var e=$t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch(yo){e=!1}return Pt=e}var Kt=$t("%Object.getOwnPropertyDescriptor%",!0);if(Kt)try{Kt([],"length")}catch(yo){Kt=null}var Jt=Kt,Yt=Gt(),Xt=Xe,Zt=Ze,er=Jt,tr=Gt(),rr=function(){return!!tr};rr.hasArrayLengthDefineBug=function(){if(!tr)return null;try{return 1!==tr([],"length",{value:1}).length}catch(yo){return!0}};var nr=$t,ir=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new Zt("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new Zt("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new Zt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new Zt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new Zt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new Zt("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6&&arguments[6],a=!!er&&er(e,t);if(Yt)Yt(e,t,{configurable:null===o&&a?a.configurable:!o,enumerable:null===n&&a?a.enumerable:!n,value:r,writable:null===i&&a?a.writable:!i});else{if(!s&&(n||i||o))throw new Xt("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}},or=rr(),sr=Jt,ar=Ze,lr=nr("%Math.floor%"),cr=function(e,t){if("function"!=typeof e)throw new ar("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||lr(t)!==t)throw new ar("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,i=!0;if("length"in e&&sr){var o=sr(e,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(i=!1)}return(n||i||!r)&&(or?ir(e,"length",t,!0,!0):ir(e,"length",t)),e};!function(e){var t=ct,r=$t,n=cr,i=Ze,o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||t.call(s,o),l=Gt(),c=r("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var r=a(t,s,arguments);return n(r,1+c(0,e.length-(arguments.length-1)),!0)};var u=function(){return a(t,o,arguments)};l?l(e.exports,"apply",{value:u}):e.exports.apply=u}(Vt);var ur=Vt.exports,fr=$t,pr=ur,dr=pr(fr("String.prototype.indexOf")),hr=function(e,t){var r=fr(e,!!t);return"function"==typeof r&&dr(e,".prototype.")>-1?pr(r):r},_r=Ve(),mr=hr("Object.prototype.toString"),gr=function(e){return!(_r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===mr(e)},yr=function(e){return!!gr(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==mr(e)&&"[object Function]"===mr(e.callee)},br=function(){return gr(arguments)}();gr.isLegacyArguments=yr;var wr,vr,qr,Er=br?gr:yr,Sr=Object.prototype.toString,xr=Function.prototype.toString,Ar=/^\s*(?:function)?\*/,kr=Ve(),Ir=Object.getPrototypeOf,Tr=function(e){if("function"!=typeof e)return!1;if(Ar.test(xr.call(e)))return!0;if(!kr)return"[object GeneratorFunction]"===Sr.call(e);if(!Ir)return!1;if(void 0===wr){var t=function(){if(!kr)return!1;try{return Function("return function*() {}")()}catch(yo){}}();wr=!!t&&Ir(t)}return Ir(e)===wr},Or=Function.prototype.toString,Lr="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof Lr&&"function"==typeof Object.defineProperty)try{vr=Object.defineProperty({},"length",{get:function(){throw qr}}),qr={},Lr((function(){throw 42}),null,vr)}catch(bo){bo!==qr&&(Lr=null)}else Lr=null;var Pr=/^\s*class\b/,Fr=function(e){try{var t=Or.call(e);return Pr.test(t)}catch(yo){return!1}},Rr=function(e){try{return!Fr(e)&&(Or.call(e),!0)}catch(yo){return!1}},jr=Object.prototype.toString,Cr="function"==typeof Symbol&&!!Symbol.toStringTag,Nr=!(0 in[,]),Dr=function(){return!1};if("object"==typeof document){var Br=document.all;jr.call(Br)===jr.call(document.all)&&(Dr=function(e){if((Nr||!e)&&(void 0===e||"object"==typeof e))try{var t=jr.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(yo){}return!1})}var Mr=Lr?function(e){if(Dr(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{Lr(e,null,vr)}catch(yo){if(yo!==qr)return!1}return!Fr(e)&&Rr(e)}:function(e){if(Dr(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(Cr)return Rr(e);if(Fr(e))return!1;var t=jr.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&Rr(e)},Ur=Object.prototype.toString,zr=Object.prototype.hasOwnProperty,Wr=function(e,t,r){if(!Mr(t))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=r),"[object Array]"===Ur.call(e)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)zr.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,n):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,n):function(e,t,r){for(var n in e)zr.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,n)},Hr=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Qr="undefined"==typeof globalThis?T:globalThis,$r=Wr,Vr=function(){for(var e=[],t=0;t<Hr.length;t++)"function"==typeof Qr[Hr[t]]&&(e[e.length]=Hr[t]);return e},Gr=ur,Kr=hr,Jr=Jt,Yr=Kr("Object.prototype.toString"),Xr=Ve(),Zr="undefined"==typeof globalThis?T:globalThis,en=Vr(),tn=Kr("String.prototype.slice"),rn=Object.getPrototypeOf,nn=Kr("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},on={__proto__:null};$r(en,Xr&&Jr&&rn?function(e){var t=new Zr[e];if(Symbol.toStringTag in t){var r=rn(t),n=Jr(r,Symbol.toStringTag);if(!n){var i=rn(r);n=Jr(i,Symbol.toStringTag)}on["$"+e]=Gr(n.get)}}:function(e){var t=new Zr[e],r=t.slice||t.set;r&&(on["$"+e]=Gr(r))});var sn=function(e){if(!e||"object"!=typeof e)return!1;if(!Xr){var t=tn(Yr(e),8,-1);return nn(en,t)>-1?t:"Object"===t&&function(e){var t=!1;return $r(on,(function(r,n){if(!t)try{r(e),t=tn(n,1)}catch(yo){}})),t}(e)}return Jr?function(e){var t=!1;return $r(on,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=tn(n,1))}catch(yo){}})),t}(e):null},an=sn,ln=function(e){return!!an(e)};!function(e){var t=Er,r=Tr,n=sn,i=ln;function o(e){return e.call.bind(e)}var s="undefined"!=typeof BigInt,a="undefined"!=typeof Symbol,l=o(Object.prototype.toString),c=o(Number.prototype.valueOf),u=o(String.prototype.valueOf),f=o(Boolean.prototype.valueOf);if(s)var p=o(BigInt.prototype.valueOf);if(a)var d=o(Symbol.prototype.valueOf);function h(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(yo){return!1}}function _(e){return"[object Map]"===l(e)}function m(e){return"[object Set]"===l(e)}function g(e){return"[object WeakMap]"===l(e)}function y(e){return"[object WeakSet]"===l(e)}function b(e){return"[object ArrayBuffer]"===l(e)}function w(e){return"undefined"!=typeof ArrayBuffer&&(b.working?b(e):e instanceof ArrayBuffer)}function v(e){return"[object DataView]"===l(e)}function q(e){return"undefined"!=typeof DataView&&(v.working?v(e):e instanceof DataView)}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i,e.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},e.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):i(e)||q(e)},e.isUint8Array=function(e){return"Uint8Array"===n(e)},e.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===n(e)},e.isUint16Array=function(e){return"Uint16Array"===n(e)},e.isUint32Array=function(e){return"Uint32Array"===n(e)},e.isInt8Array=function(e){return"Int8Array"===n(e)},e.isInt16Array=function(e){return"Int16Array"===n(e)},e.isInt32Array=function(e){return"Int32Array"===n(e)},e.isFloat32Array=function(e){return"Float32Array"===n(e)},e.isFloat64Array=function(e){return"Float64Array"===n(e)},e.isBigInt64Array=function(e){return"BigInt64Array"===n(e)},e.isBigUint64Array=function(e){return"BigUint64Array"===n(e)},_.working="undefined"!=typeof Map&&_(new Map),e.isMap=function(e){return"undefined"!=typeof Map&&(_.working?_(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),e.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},g.working="undefined"!=typeof WeakMap&&g(new WeakMap),e.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(g.working?g(e):e instanceof WeakMap)},y.working="undefined"!=typeof WeakSet&&y(new WeakSet),e.isWeakSet=function(e){return y(e)},b.working="undefined"!=typeof ArrayBuffer&&b(new ArrayBuffer),e.isArrayBuffer=w,v.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&v(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=q;var E="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function S(e){return"[object SharedArrayBuffer]"===l(e)}function x(e){return void 0!==E&&(void 0===S.working&&(S.working=S(new E)),S.working?S(e):e instanceof E)}function A(e){return h(e,c)}function k(e){return h(e,u)}function I(e){return h(e,f)}function T(e){return s&&h(e,p)}function O(e){return a&&h(e,d)}e.isSharedArrayBuffer=x,e.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},e.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},e.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},e.isGeneratorObject=function(e){return"[object Generator]"===l(e)},e.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},e.isNumberObject=A,e.isStringObject=k,e.isBooleanObject=I,e.isBigIntObject=T,e.isSymbolObject=O,e.isBoxedPrimitive=function(e){return A(e)||k(e)||I(e)||T(e)||O(e)},e.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(w(e)||x(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))}(He);var cn=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8},un={exports:{}};"function"==typeof Object.create?un.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:un.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var fn,pn,dn=un.exports;function hn(){if(pn)return fn;function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}pn=1;var o=ze.Buffer,s=We.inspect,a=s&&s.custom||"inspect";return fn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return n(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=i,n=a,o.prototype.copy.call(t,r,n),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0===(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:a,value:function(e,r){return s(this,t(t({},r),{},{depth:0,customInspect:!1}))}}]),e}()}function _n(e,t){gn(e,t),mn(e)}function mn(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function gn(e,t){e.emit("error",t)}!function(e){var t={},r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},n=/%[sdj%]/g;e.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var i=arguments,o=i.length,s=String(e).replace(n,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(bo){return"[Circular]"}default:return e}})),l=i[r];r<o;l=i[++r])_(l)||!w(l)?s+=" "+l:s+=" "+a(l);return s},e.deprecate=function(t,r){if(void 0!==G&&!0===G.noDeprecation)return t;if(void 0===G)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(G.throwDeprecation)throw new Error(r);G.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var i={},o=/^$/;if(t.NODE_DEBUG){var s=t.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}function a(t,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&e._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,t,n.depth)}function l(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function c(e,t){return e}function u(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return g(i)||(i=u(t,i,n)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(_(t))return e.stylize("null","null")}(t,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),q(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(E(r)){var l=r.name?": "+r.name:"";return t.stylize("[Function"+l+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(v(r))return t.stylize(Date.prototype.toString.call(r),"date");if(q(r))return f(r)}var c,w="",S=!1,x=["{","}"];(d(r)&&(S=!0,x=["[","]"]),E(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(w=" "+RegExp.prototype.toString.call(r)),v(r)&&(w=" "+Date.prototype.toUTCString.call(r)),q(r)&&(w=" "+f(r)),0!==s.length||S&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=S?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)k(t,String(s))?o.push(p(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(e,t,r,n,i,!0))})),o}(t,r,n,a,s):s.map((function(e){return p(t,r,n,a,e,S)})),t.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,w,x)):x[0]+w+x[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),k(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=_(r)?u(e,l.value,null):u(e,l.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),y(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function _(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"==typeof e&&null!==e}function v(e){return w(e)&&"[object Date]"===S(e)}function q(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function E(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!i[t])if(o.test(t)){var r=G.pid;i[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else i[t]=function(){};return i[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=He,e.isArray=d,e.isBoolean=h,e.isNull=_,e.isNullOrUndefined=function(e){return null==e},e.isNumber=m,e.isString=g,e.isSymbol=function(e){return"symbol"==typeof e},e.isUndefined=y,e.isRegExp=b,e.types.isRegExp=b,e.isObject=w,e.isDate=v,e.types.isDate=v,e.isError=q,e.types.isNativeError=q,e.isFunction=E,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},e.isBuffer=cn;var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){var t,r;console.log("%s - %s",(r=[x((t=new Date).getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":"),[t.getDate(),A[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=dn,e._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var I="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}e.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(I&&e[I]){var t;if("function"!=typeof(t=e[I]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(s){r(s)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),I&&Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},e.promisify.custom=I,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};e.apply(this,t).then((function(e){G.nextTick(o.bind(null,null,e))}),(function(e){G.nextTick(T.bind(null,e,o))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}}(We);var yn={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,G.nextTick(gn,this,e)):G.nextTick(gn,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?G.nextTick(mn,r):(r._writableState.errorEmitted=!0,G.nextTick(_n,r,e)):G.nextTick(_n,r,e):t?(G.nextTick(mn,r),t(e)):G.nextTick(mn,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}},bn={};var wn={};function vn(e,t,r){r||(r=Error);var n=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);n.prototype.name=r.name,n.prototype.code=e,wn[e]=n}function qn(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}vn("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),vn("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,o;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(qn(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(qn(t,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),vn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),vn("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),vn("ERR_STREAM_PREMATURE_CLOSE","Premature close"),vn("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),vn("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),vn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),vn("ERR_STREAM_WRITE_AFTER_END","write after end"),vn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),vn("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),vn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),bn.codes=wn;var En=bn.codes.ERR_INVALID_OPT_VALUE;var Sn,xn,An,kn,In={getHighWaterMark:function(e,t,r,n){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new En(n?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}},Tn=function(e,t){if(On("noDeprecation"))return e;var r=!1;return function(){if(!r){if(On("throwDeprecation"))throw new Error(t);On("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}};function On(e){try{if(!T.localStorage)return!1}catch(bo){return!1}var t=T.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}function Ln(){if(xn)return Sn;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var t;xn=1,Sn=v,v.WritableState=w;var r={deprecate:Tn},n=pe,i=ze.Buffer,o=(void 0!==T?T:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var s,a=yn,l=In.getHighWaterMark,c=bn.codes,u=c.ERR_INVALID_ARG_TYPE,f=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,d=c.ERR_STREAM_CANNOT_PIPE,h=c.ERR_STREAM_DESTROYED,_=c.ERR_STREAM_NULL_VALUES,m=c.ERR_STREAM_WRITE_AFTER_END,g=c.ERR_UNKNOWN_ENCODING,y=a.errorOrDestroy;function b(){}function w(r,n,i){t=t||Pn(),r=r||{},"boolean"!=typeof i&&(i=n instanceof t),this.objectMode=!!r.objectMode,i&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=l(this,r,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===r.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(G.nextTick(i,n),G.nextTick(k,e,t),e._writableState.errorEmitted=!0,y(e,n)):(i(n),e._writableState.errorEmitted=!0,y(e,n),k(e,t))}(e,r,n,t,i);else{var o=x(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||S(e,r),n?G.nextTick(E,e,r,o,i):E(e,r,o,i)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==r.emitClose,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function v(e){var r=this instanceof(t=t||Pn());if(!r&&!s.call(v,this))return new v(e);this._writableState=new w(e,this,r),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),n.call(this)}function q(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new h("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),k(e,t)}function S(t,r){r.bufferProcessing=!0;var n=r.bufferedRequest;if(t._writev&&n&&n.next){var i=r.bufferedRequestCount,o=new Array(i),s=r.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)o[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;o.allBuffers=l,q(t,r,!0,r.length,o,"",s.finish),r.pendingcb++,r.lastBufferedRequest=null,s.next?(r.corkedRequestsFree=s.next,s.next=null):r.corkedRequestsFree=new e(r),r.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,f=n.callback;if(q(t,r,!1,r.objectMode?1:c.length,c,u,f),n=n.next,r.bufferedRequestCount--,r.writing)break}null===n&&(r.lastBufferedRequest=null)}r.bufferedRequest=n,r.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&y(e,r),t.prefinished=!0,e.emit("prefinish"),k(e,t)}))}function k(e,t){var r=x(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,G.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}return dn(v,n),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(bo){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===v&&(e&&e._writableState instanceof w)}})):s=function(e){return e instanceof this},v.prototype.pipe=function(){y(this,new d)},v.prototype.write=function(e,t,r){var n,s=this._writableState,a=!1,l=!s.objectMode&&(n=e,i.isBuffer(n)||n instanceof o);return l&&!i.isBuffer(e)&&(e=function(e){return i.from(e)}(e)),"function"==typeof t&&(r=t,t=null),l?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=b),s.ending?function(e,t){var r=new m;y(e,r),G.nextTick(t,r)}(this,r):(l||function(e,t,r,n){var i;return null===r?i=new _:"string"==typeof r||t.objectMode||(i=new u("chunk",["string","Buffer"],r)),!i||(y(e,i),G.nextTick(n,i),!1)}(this,s,e,r))&&(s.pendingcb++,a=function(e,t,r,n,o,s){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=i.from(t,r));return t}(t,n,o);n!==a&&(r=!0,o="buffer",n=a)}var l=t.objectMode?1:n.length;t.length+=l;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else q(e,t,!1,l,n,o,s);return c}(this,s,l,e,t,r)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||S(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new g(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,r){r(new f("_write()"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,k(e,t),r&&(t.finished?G.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=a.destroy,v.prototype._undestroy=a.undestroy,v.prototype._destroy=function(e,t){t(e)},Sn}function Pn(){if(kn)return An;kn=1;var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};An=s;var t=Gn(),r=Ln();dn(s,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var o=n[i];s.prototype[o]||(s.prototype[o]=r.prototype[o])}function s(e){if(!(this instanceof s))return new s(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||G.nextTick(l,this)}function l(e){e.end()}return Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),An}var Fn,Rn,jn={},Cn={exports:{}};function Nn(){if(Rn)return jn;Rn=1;var e=(Fn||(Fn=1,function(e,t){var r=ze,n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(Cn,Cn.exports)),Cn.exports).Buffer,t=e.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var n;switch(this.encoding=function(r){var n=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(r);if("string"!=typeof n&&(e.isEncoding===t||!t(r)))throw new Error("Unknown encoding: "+r);return n||r}(r),this.encoding){case"utf16le":this.text=o,this.end=s,n=4;break;case"utf8":this.fillLast=i,n=4;break;case"base64":this.text=a,this.end=l,n=3;break;default:return this.write=c,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(n)}function n(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function i(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function o(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function a(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function u(e){return e&&e.length?this.write(e):""}return jn.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},r.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var o=n(t[i]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--i<r||-2===o)return 0;if(o=n(t[i]),o>=0)return o>0&&(e.lastNeed=o-2),o;if(--i<r||-2===o)return 0;if(o=n(t[i]),o>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},jn}var Dn=bn.codes.ERR_STREAM_PREMATURE_CLOSE;function Bn(){}var Mn,Un,zn,Wn,Hn,Qn,$n=function e(t,r,n){if("function"==typeof r)return e(t,null,r);r||(r={}),n=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(n||Bn);var i=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,s=function(){t.writable||l()},a=t._writableState&&t._writableState.finished,l=function(){o=!1,a=!0,i||n.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){i=!1,c=!0,o||n.call(t)},f=function(e){n.call(t,e)},p=function(){var e;return i&&!c?(t._readableState&&t._readableState.ended||(e=new Dn),n.call(t,e)):o&&!a?(t._writableState&&t._writableState.ended||(e=new Dn),n.call(t,e)):void 0},d=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",s),t.on("close",s)):(t.on("complete",l),t.on("abort",p),t.req?d():t.on("request",d)),t.on("end",u),t.on("finish",l),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",d),t.req&&t.req.removeListener("finish",l),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",l),t.removeListener("end",u),t.removeListener("error",f),t.removeListener("close",p)}};function Vn(){if(Un)return Mn;var e;function t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Un=1;var r=$n,n=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(e,t){return{value:e,done:t}}function f(e){var t=e[n];if(null!==t){var r=e[c].read();null!==r&&(e[a]=null,e[n]=null,e[i]=null,t(u(r,!1)))}}function p(e){G.nextTick(f,e)}var d=Object.getPrototypeOf((function(){})),h=Object.setPrototypeOf((t(e={get stream(){return this[c]},next:function(){var e=this,t=this[o];if(null!==t)return Promise.reject(t);if(this[s])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise((function(t,r){G.nextTick((function(){e[o]?r(e[o]):t(u(void 0,!0))}))}));var r,n=this[a];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[s]?r(u(void 0,!0)):t[l](r,n)}),n)}}(n,this));else{var i=this[c].read();if(null!==i)return Promise.resolve(u(i,!1));r=new Promise(this[l])}return this[a]=r,r}},Symbol.asyncIterator,(function(){return this})),t(e,"return",(function(){var e=this;return new Promise((function(t,r){e[c].destroy(null,(function(e){e?r(e):t(u(void 0,!0))}))}))})),e),d);return Mn=function(e){var f,d=Object.create(h,(t(f={},c,{value:e,writable:!0}),t(f,n,{value:null,writable:!0}),t(f,i,{value:null,writable:!0}),t(f,o,{value:null,writable:!0}),t(f,s,{value:e._readableState.endEmitted,writable:!0}),t(f,l,{value:function(e,t){var r=d[c].read();r?(d[a]=null,d[n]=null,d[i]=null,e(u(r,!1))):(d[n]=e,d[i]=t)},writable:!0}),f));return d[a]=null,r(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=d[i];return null!==t&&(d[a]=null,d[n]=null,d[i]=null,t(e)),void(d[o]=e)}var r=d[n];null!==r&&(d[a]=null,d[n]=null,d[i]=null,r(u(void 0,!0))),d[s]=!0})),e.on("readable",p.bind(null,d)),d}}function Gn(){if(Qn)return Hn;var e;Qn=1,Hn=v,v.ReadableState=w,fe.EventEmitter;var t=function(e,t){return e.listeners(t).length},r=pe,n=ze.Buffer,i=(void 0!==T?T:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,s=We;o=s&&s.debuglog?s.debuglog("stream"):function(){};var a,l,c,u=hn(),f=yn,p=In.getHighWaterMark,d=bn.codes,h=d.ERR_INVALID_ARG_TYPE,_=d.ERR_STREAM_PUSH_AFTER_EOF,m=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;dn(v,r);var y=f.errorOrDestroy,b=["error","close","destroy","pause","resume"];function w(t,r,n){e=e||Pn(),t=t||{},"boolean"!=typeof n&&(n=r instanceof e),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=p(this,t,"readableHighWaterMark",n),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(a||(a=Nn().StringDecoder),this.decoder=new a(t.encoding),this.encoding=t.encoding)}function v(t){if(e=e||Pn(),!(this instanceof v))return new v(t);var n=this instanceof e;this._readableState=new w(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function q(e,t,r,s,a){o("readableAddChunk",t);var l,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(o("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,k(e)))}(e,c);else if(a||(l=function(e,t){var r;o=t,n.isBuffer(o)||o instanceof i||"string"==typeof t||void 0===t||e.objectMode||(r=new h("chunk",["string","Buffer","Uint8Array"],t));var o;return r}(c,t)),l)y(e,l);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===n.prototype||(t=function(e){return n.from(e)}(t)),s)c.endEmitted?y(e,new g):E(e,c,t,!0);else if(c.ended)y(e,new _);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?E(e,c,t,!1):I(e,c)):E(e,c,t,!1)}else s||(c.reading=!1,I(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),I(e,t)}Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=f.destroy,v.prototype._undestroy=f.undestroy,v.prototype._destroy=function(e,t){t(e)},v.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=n.from(e,t),t=""),r=!0),q(this,e,t,!1,r)},v.prototype.unshift=function(e){return q(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){a||(a=Nn().StringDecoder);var t=new a(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var S=1073741824;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,G.nextTick(k,e))}function k(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,R(e)}function I(e,t){t.readingMore||(t.readingMore=!0,G.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function P(e){o("readable nexttick read 0"),e.read(0)}function F(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function C(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,G.nextTick(N,t,e))}function N(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function D(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}return v.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):A(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){y(this,new m("_read()"))},v.prototype.pipe=function(e,r){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,r);var s=(!r||!1!==r.end)&&e!==G.stdout&&e!==G.stderr?l:_;function a(t,r){o("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,o("cleanup"),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",a),n.removeListener("end",l),n.removeListener("end",_),n.removeListener("data",f),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function l(){o("onend"),e.end()}i.endEmitted?G.nextTick(s):n.once("end",s),e.on("unpipe",a);var c=function(e){return function(){var r=e._readableState;o("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,0===r.awaitDrain&&t(e,"data")&&(r.flowing=!0,R(e))}}(n);e.on("drain",c);var u=!1;function f(t){o("ondata");var r=e.write(t);o("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==D(i.pipes,e))&&!u&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function p(r){o("onerror",r),_(),e.removeListener("error",p),0===t(e,"error")&&y(e,r)}function d(){e.removeListener("finish",h),_()}function h(){o("onfinish"),e.removeListener("close",d),_()}function _(){o("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",d),e.once("finish",h),e.emit("pipe",n),i.flowing||(o("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=D(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},v.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?A(this):i.reading||G.nextTick(P,this))),n},v.prototype.addListener=v.prototype.on,v.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&G.nextTick(L,this),n},v.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||G.nextTick(L,this),t},v.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,G.nextTick(F,e,t))}(this,e)),e.paused=!1,this},v.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},v.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<b.length;s++)e.on(b[s],this.emit.bind(this,b[s]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(v.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=Vn()),l(this)}),Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(v.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(v.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),v._fromList=j,Object.defineProperty(v.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(v.from=function(e,t){return void 0===c&&(c=Wn?zn:(Wn=1,zn=function(){throw new Error("Readable.from is not available in the browser")})),c(v,e,t)}),Hn}var Kn=ni,Jn=bn.codes,Yn=Jn.ERR_METHOD_NOT_IMPLEMENTED,Xn=Jn.ERR_MULTIPLE_CALLBACK,Zn=Jn.ERR_TRANSFORM_ALREADY_TRANSFORMING,ei=Jn.ERR_TRANSFORM_WITH_LENGTH_0,ti=Pn();function ri(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new Xn);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ni(e){if(!(this instanceof ni))return new ni(e);ti.call(this,e),this._transformState={afterTransform:ri.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",ii)}function ii(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?oi(this,null,null):this._flush((function(t,r){oi(e,t,r)}))}function oi(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new ei;if(e._transformState.transforming)throw new Zn;return e.push(null)}dn(ni,ti),ni.prototype.push=function(e,t){return this._transformState.needTransform=!1,ti.prototype.push.call(this,e,t)},ni.prototype._transform=function(e,t,r){r(new Yn("_transform()"))},ni.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},ni.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},ni.prototype._destroy=function(e,t){ti.prototype._destroy.call(this,e,(function(e){t(e)}))};var si,ai=ci,li=Kn;function ci(e){if(!(this instanceof ci))return new ci(e);li.call(this,e)}dn(ci,li),ci.prototype._transform=function(e,t,r){r(null,e)};var ui=bn.codes,fi=ui.ERR_MISSING_ARGS,pi=ui.ERR_STREAM_DESTROYED;function di(e){if(e)throw e}function hi(e){e()}function _i(e,t){return e.pipe(t)}var mi=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=function(e){return e.length?"function"!=typeof e[e.length-1]?di:e.pop():di}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new fi("streams");var o=t.map((function(e,r){var s=r<t.length-1;return function(e,t,r,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var i=!1;e.on("close",(function(){i=!0})),void 0===si&&(si=$n),si(e,{readable:t,writable:r},(function(e){if(e)return n(e);i=!0,n()}));var o=!1;return function(t){if(!i&&!o)return o=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new pi("pipe"))}}(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(hi),s||(o.forEach(hi),i(n))}))}));return t.reduce(_i)};function gi(e){return new DataView(e.buffer,e.byteOffset)}const yi={len:1,get:(e,t)=>gi(e).getUint8(t),put:(e,t,r)=>(gi(e).setUint8(t,r),t+1)},bi={len:2,get:(e,t)=>gi(e).getUint16(t,!0),put:(e,t,r)=>(gi(e).setUint16(t,r,!0),t+2)},wi={len:2,get:(e,t)=>gi(e).getUint16(t),put:(e,t,r)=>(gi(e).setUint16(t,r),t+2)},vi={len:4,get:(e,t)=>gi(e).getUint32(t,!0),put:(e,t,r)=>(gi(e).setUint32(t,r,!0),t+4)},qi={len:4,get:(e,t)=>gi(e).getUint32(t),put:(e,t,r)=>(gi(e).setUint32(t,r),t+4)},Ei={len:4,get:(e,t)=>gi(e).getInt32(t),put:(e,t,r)=>(gi(e).setInt32(t,r),t+4)},Si={len:8,get:(e,t)=>gi(e).getBigUint64(t,!0),put:(e,t,r)=>(gi(e).setBigUint64(t,r,!0),t+8)};class xi{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return Ae.from(e).toString(this.encoding,t,t+this.len)}}class Ai extends Error{constructor(){super("End-Of-Stream")}}class ki{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}}class Ii{constructor(e){if(this.s=e,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",(()=>this.reject(new Ai))),this.s.once("error",(e=>this.reject(e))),this.s.once("close",(()=>this.reject(new Error("Stream closed"))))}async peek(e,t,r){const n=await this.read(e,t,r);return this.peekQueue.push(e.subarray(t,t+n)),n}async read(e,t,r){if(0===r)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new Ai;let n=r,i=0;for(;this.peekQueue.length>0&&n>0;){const r=this.peekQueue.pop();if(!r)throw new Error("peekData should be defined");const o=Math.min(r.length,n);e.set(r.subarray(0,o),t+i),i+=o,n-=o,o<r.length&&this.peekQueue.push(r.subarray(o))}for(;n>0&&!this.endOfStream;){const r=Math.min(n,1048576),o=await this.readFromStream(e,t+i,r);if(i+=o,o<r)break;n-=o}return i}async readFromStream(e,t,r){const n=this.s.read(r);if(n)return e.set(n,t),n.length;{const n={buffer:e,offset:t,length:r,deferred:new ki};return this.deferred=n.deferred,this.s.once("readable",(()=>{this.readDeferred(n)})),n.deferred.promise}}readDeferred(e){const t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",(()=>{this.readDeferred(e)}))}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}class Ti{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){const r=Ae.alloc(e.len);if(await this.readBuffer(r,{position:t})<e.len)throw new Ai;return e.get(r,0)}async peekToken(e,t=this.position){const r=Ae.alloc(e.len);if(await this.peekBuffer(r,{position:t})<e.len)throw new Ai;return e.get(r,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new Ai;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new Ai;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}class Oi extends Ti{constructor(e,t){super(t),this.streamReader=new Ii(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){const r=this.normalizeOptions(e,t),n=r.position-this.position;if(n>0)return await this.ignore(n),this.readBuffer(e,t);if(n<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===r.length)return 0;const i=await this.streamReader.read(e,r.offset,r.length);if(this.position+=i,(!t||!t.mayBeLess)&&i<r.length)throw new Ai;return i}async peekBuffer(e,t){const r=this.normalizeOptions(e,t);let n=0;if(r.position){const t=r.position-this.position;if(t>0){const i=new Uint8Array(r.length+t);return n=await this.peekBuffer(i,{mayBeLess:r.mayBeLess}),e.set(i.subarray(t),r.offset),n-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{n=await this.streamReader.peek(e,r.offset,r.length)}catch(i){if(t&&t.mayBeLess&&i instanceof Ai)return 0;throw i}if(!r.mayBeLess&&n<r.length)throw new Ai}return n}async ignore(e){const t=Math.min(256e3,e),r=new Uint8Array(t);let n=0;for(;n<e;){const i=e-n,o=await this.readBuffer(r,{length:Math.min(t,i)});if(o<0)return o;n+=o}return n}}class Li extends Ti{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const r=await this.peekBuffer(e,t);return this.position+=r,r}async peekBuffer(e,t){const r=this.normalizeOptions(e,t),n=Math.min(this.uint8Array.length-r.position,r.length);if(!r.mayBeLess&&n<r.length)throw new Ai;return e.set(this.uint8Array.subarray(r.position,r.position+n),r.offset),n}async close(){}}const Pi={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4},Fi=4100;function Ri(e,t,r){r={offset:0,...r};for(const[n,i]of t.entries())if(r.mask){if(i!==(r.mask[n]&e[n+r.offset]))return!1}else if(i!==e[n+r.offset])return!1;return!0}class ji{constructor(e){this.detectors=e?.customDetectors,this.fromTokenizer=this.fromTokenizer.bind(this),this.fromBuffer=this.fromBuffer.bind(this),this.parse=this.parse.bind(this)}async fromTokenizer(e){const t=e.position;for(const r of this.detectors||[]){const n=await r(e);if(n)return n;if(t!==e.position)return}return this.parse(e)}async fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);var r;if(t?.length>1)return this.fromTokenizer(new Li(t,r))}async fromBlob(e){const t=await e.arrayBuffer();return this.fromBuffer(new Uint8Array(t))}async fromStream(e){const t=await function(e,t){return new Oi(e,t=t||{})}(e);try{return await this.fromTokenizer(t)}finally{await t.close()}}async toDetectionStream(e,t={}){const{default:r}=await Promise.resolve().then((function(){return go})),{sampleSize:n=Fi}=t;return new Promise(((t,i)=>{e.on("error",i),e.once("readable",(()=>{(async()=>{try{const s=new r.PassThrough,a=r.pipeline?r.pipeline(e,s,(()=>{})):e.pipe(s),l=e.read(n)??e.read()??Ae.alloc(0);try{s.fileType=await this.fromBuffer(l)}catch(o){o instanceof Ai?s.fileType=void 0:i(o)}t(a)}catch(o){i(o)}})()}))}))}check(e,t){return Ri(this.buffer,e,t)}checkString(e,t){return this.check((r=e,[...r].map((e=>e.charCodeAt(0)))),t);var r}async parse(e){if(this.buffer=Ae.alloc(Fi),void 0===e.fileInfo.size&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);const r=await e.readToken(Pi);return e.position+r>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(r),this.fromTokenizer(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(this.buffer,{length:30});const n={compressedSize:this.buffer.readUInt32LE(18),uncompressedSize:this.buffer.readUInt32LE(22),filenameLength:this.buffer.readUInt16LE(26),extraFieldLength:this.buffer.readUInt16LE(28)};if(n.filename=await e.readToken(new xi(n.filenameLength,"utf-8")),await e.ignore(n.extraFieldLength),"META-INF/mozilla.rsa"===n.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(n.filename.endsWith(".rels")||n.filename.endsWith(".xml")){switch(n.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}}if(n.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(n.filename.startsWith("3D/")&&n.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===n.filename&&n.compressedSize===n.uncompressedSize){let i=await e.readToken(new xi(n.compressedSize,"utf-8"));switch(i=i.trim(),i){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===n.compressedSize){let o=-1;for(;o<0&&e.position<e.fileInfo.size;)await e.peekBuffer(this.buffer,{mayBeLess:!0}),o=this.buffer.indexOf("504B0304",0,"hex"),await e.ignore(o>=0?o:this.buffer.length)}else await e.ignore(n.compressedSize)}}catch(t){if(!(t instanceof Ai))throw t}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);const s=Ae.alloc(8);return await e.readBuffer(s),Ri(s,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:Ri(s,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:Ri(s,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:Ri(s,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:Ri(s,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:Ri(s,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&96&this.buffer[8]){const a=this.buffer.toString("binary",8,12).replace("\0"," ").trim();switch(a){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return a.startsWith("3g")?a.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await e.ignore(1350);const l=10485760,c=Ae.alloc(Math.min(l,e.fileInfo.size));if(await e.readBuffer(c,{mayBeLess:!0}),c.includes(Ae.from("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}catch(t){if(!(t instanceof Ai))throw t}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){const u=await this.readTiffHeader(!1);if(u)return u}if(this.check([77,77])){const f=await this.readTiffHeader(!0);if(f)return f}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function p(){const t=await e.peekNumber(yi);let r=128,n=0;for(;!(t&r)&&0!==r;)++n,r>>=1;const i=Ae.alloc(n+1);return await e.readBuffer(i),i}async function d(){const e=await p(),t=await p();t[0]^=128>>t.length-1;const r=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-r,r)}}async function h(t){for(;t>0;){const r=await d();if(17026===r.id){return(await e.readToken(new xi(r.len,"utf-8"))).replaceAll(/\00.*$/g,"")}await e.ignore(r.len),--t}}const _=await d();switch(await h(_.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){const m=this.buffer.toString("binary",2,6);if(m.match("^d*")&&m>=1e3&&m<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>")){await e.ignore(8);return"debian-binary"===await e.readToken(new xi(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"}}if(this.checkString("**ACE",{offset:7})&&(await e.peekBuffer(this.buffer,{length:14,mayBeLess:!0}),this.checkString("**",{offset:12})))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.check([137,80,78,71,13,10,26,10])){async function g(){return{length:await e.readToken(Ei),type:await e.readToken(new xi(4,"binary"))}}await e.ignore(8);do{const y=await g();if(y.length<0)return;switch(y.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(y.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function b(){const t=Ae.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Si))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const w=await b();let v=w.size-24;if(Ri(w.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const q=Ae.alloc(16);if(v-=await e.readBuffer(q),Ri(q,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(Ri(q,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(v)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10])){await e.ignore(20);switch(await e.readToken(new xi(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){const E=this.buffer.readUInt32LE(12);if(E>12&&this.buffer.length>=E+16)try{const S=this.buffer.slice(16,E+16).toString();if(JSON.parse(S).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),function(e,t=0){const r=Number.parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(r))return!1;let n=256;for(let i=t;i<t+148;i++)n+=e[i];for(let i=t+156;i<t+512;i++)n+=e[i];return r===n}(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(e){const t=await this.tokenizer.readToken(e?wi:bi);switch(this.tokenizer.ignore(10),t){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){const t=await this.tokenizer.readToken(e?wi:bi);for(let r=0;r<t;++r){const t=await this.readTiffTag(e);if(t)return t}}async readTiffHeader(e){const t=(e?wi:bi).get(this.buffer,2),r=(e?qi:vi).get(this.buffer,4);if(42===t){if(r>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}await this.tokenizer.ignore(r);return await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(43===t)return{ext:"tif",mime:"image/tiff"}}}new Set(["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx"]),new Set(["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/x-parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx"]);var Ci=(()=>function(e={}){var t,r,n=Object.assign({},e),i=new Promise(((e,n)=>{t=e,r=n})),o="object"==typeof window,s="function"==typeof importScripts;"object"==typeof G&&"object"==typeof G.versions&&G.versions.node;const a=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,a.debugModule("globalThis.location =",globalThis.location);const l="emscripten-bug-17951";n[l]=function e(t,r){t.env.foo=function(){};const i=n.locateFile(e.uri,void 0===h?"":h);a.debugModule("instantiateWasm() uri =",i);const o=()=>fetch(i,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(o(),t).then((e=>r(e.instance,e.module))):async()=>o().then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,t))).then((e=>r(e.instance,e.module))))(),{}},n[l].uri="sqlite3.wasm";var c,u,f,p=Object.assign({},n),d="./this.program",h="";(o||s)&&(s?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),h=h.startsWith("blob:")?"":h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},s&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),u=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var _,m,g=n.print||console.log.bind(console),y=n.printErr||console.error.bind(console);Object.assign(n,p),p=null,n.arguments&&n.arguments,n.thisProgram&&(d=n.thisProgram),n.quit&&n.quit,n.wasmBinary&&(_=n.wasmBinary);var b,w,q,E,S,x,A=!1;function k(){var e=m.buffer;n.HEAP8=b=new Int8Array(e),n.HEAP16=q=new Int16Array(e),n.HEAPU8=w=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAP32=E=new Int32Array(e),n.HEAPU32=S=new Uint32Array(e),n.HEAPF32=new Float32Array(e),n.HEAPF64=new Float64Array(e),n.HEAP64=x=new BigInt64Array(e),n.HEAPU64=new BigUint64Array(e)}if(n.wasmMemory)m=n.wasmMemory;else{var I=n.INITIAL_MEMORY||16777216;m=new WebAssembly.Memory({initial:I/65536,maximum:32768})}k();var T=[],O=[],L=[];var P=0,F=null;function R(e){P++,n.monitorRunDependencies?.(P)}function j(e){if(P--,n.monitorRunDependencies?.(P),0==P&&F){var t=F;F=null,t()}}function C(e){n.onAbort?.(e),y(e="Aborted("+e+")"),A=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}var N,D=e=>e.startsWith("data:application/octet-stream;base64,");function B(){if(n.locateFile){var e="sqlite3.wasm";return D(e)?e:(t=e,n.locateFile?n.locateFile(t,h):h+t)}var t;return new URL("/assets/sqlite3.wasm",self.location.href).href}function M(e){if(e==N&&_)return new Uint8Array(_);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}function U(e,t,r){return function(e){return _||!o&&!s||"function"!=typeof fetch?Promise.resolve().then((()=>M(e))):fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()})).catch((()=>M(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then(r,(e=>{y(`failed to asynchronously prepare wasm: ${e}`),C(e)}))}var z=e=>{for(;e.length>0;)e.shift()(n)};n.noExitRuntime;var W={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:e=>{var t=W.isAbs(e),r="/"===e.substr(-1);return(e=W.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=W.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:e=>{if("/"===e)return"/";var t=(e=(e=W.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:(...e)=>W.normalize(e.join("/")),join2:(e,t)=>W.normalize(e+"/"+t)},H=e=>(H=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);C("initRandomDevice")})())(e),Q={resolve:(...e)=>{for(var t="",r=!1,n=e.length-1;n>=-1&&!r;n--){var i=n>=0?e[n]:ie.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");if(!i)return"";t=i+"/"+t,r=W.isAbs(i)}return(r?"/":"")+(t=W.normalizeArray(t.split("/").filter((e=>!!e)),!r).join("/"))||"."},relative:(e,t)=>{function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=Q.resolve(e).substr(1),t=Q.resolve(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),o=Math.min(n.length,i.length),s=o,a=0;a<o;a++)if(n[a]!==i[a]){s=a;break}var l=[];for(a=s;a<n.length;a++)l.push("..");return(l=l.concat(i.slice(s))).join("/")}},$="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,V=(e,t,r)=>{for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&$)return $.decode(e.subarray(t,i));for(var o="";t<i;){var s=e[t++];if(128&s){var a=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if((s=224==(240&s)?(15&s)<<12|a<<6|l:(7&s)<<18|a<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var c=s-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o},K=[],J=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},Y=(e,t,r,n)=>{if(!(n>0))return 0;for(var i=r,o=r+n-1,s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a>=55296&&a<=57343)a=65536+((1023&a)<<10)|1023&e.charCodeAt(++s);if(a<=127){if(r>=o)break;t[r++]=a}else if(a<=2047){if(r+1>=o)break;t[r++]=192|a>>6,t[r++]=128|63&a}else if(a<=65535){if(r+2>=o)break;t[r++]=224|a>>12,t[r++]=128|a>>6&63,t[r++]=128|63&a}else{if(r+3>=o)break;t[r++]=240|a>>18,t[r++]=128|a>>12&63,t[r++]=128|a>>6&63,t[r++]=128|63&a}}return t[r]=0,r-i};function X(e,t,r){var n=J(e)+1,i=new Array(n),o=Y(e,i,0,i.length);return i.length=o,i}var Z={ttys:[],init(){},shutdown(){},register(e,t){Z.ttys[e]={input:[],output:[],ops:t},ie.registerDevice(e,Z.stream_ops)},stream_ops:{open(e){var t=Z.ttys[e.node.rdev];if(!t)throw new ie.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,r,n,i){if(!e.tty||!e.tty.ops.get_char)throw new ie.ErrnoError(60);for(var o=0,s=0;s<n;s++){var a;try{a=e.tty.ops.get_char(e.tty)}catch(yo){throw new ie.ErrnoError(29)}if(void 0===a&&0===o)throw new ie.ErrnoError(6);if(null==a)break;o++,t[r+s]=a}return o&&(e.node.timestamp=Date.now()),o},write(e,t,r,n,i){if(!e.tty||!e.tty.ops.put_char)throw new ie.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,t[r+o])}catch(yo){throw new ie.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:e=>(()=>{if(!K.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;K=X(e)}return K.shift()})(),put_char(e,t){null===t||10===t?(g(V(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(g(V(e.output,0)),e.output=[])},ioctl_tcgets:e=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(e,t,r)=>0,ioctl_tiocgwinsz:e=>[24,80]},default_tty1_ops:{put_char(e,t){null===t||10===t?(y(V(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(y(V(e.output,0)),e.output=[])}}},ee=e=>{e=((e,t)=>Math.ceil(e/t)*t)(e,65536);var t=we(65536,e);return t?((e,t)=>(w.fill(0,e,e+t),e))(t,e):0},te={ops_table:null,mount:e=>te.createNode(null,"/",16895,0),createNode(e,t,r,n){if(ie.isBlkdev(r)||ie.isFIFO(r))throw new ie.ErrnoError(63);te.ops_table||={dir:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr,lookup:te.node_ops.lookup,mknod:te.node_ops.mknod,rename:te.node_ops.rename,unlink:te.node_ops.unlink,rmdir:te.node_ops.rmdir,readdir:te.node_ops.readdir,symlink:te.node_ops.symlink},stream:{llseek:te.stream_ops.llseek}},file:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr},stream:{llseek:te.stream_ops.llseek,read:te.stream_ops.read,write:te.stream_ops.write,allocate:te.stream_ops.allocate,mmap:te.stream_ops.mmap,msync:te.stream_ops.msync}},link:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr,readlink:te.node_ops.readlink},stream:{}},chrdev:{node:{getattr:te.node_ops.getattr,setattr:te.node_ops.setattr},stream:ie.chrdev_stream_ops}};var i=ie.createNode(e,t,r,n);return ie.isDir(i.mode)?(i.node_ops=te.ops_table.dir.node,i.stream_ops=te.ops_table.dir.stream,i.contents={}):ie.isFile(i.mode)?(i.node_ops=te.ops_table.file.node,i.stream_ops=te.ops_table.file.stream,i.usedBytes=0,i.contents=null):ie.isLink(i.mode)?(i.node_ops=te.ops_table.link.node,i.stream_ops=te.ops_table.link.stream):ie.isChrdev(i.mode)&&(i.node_ops=te.ops_table.chrdev.node,i.stream_ops=te.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray:e=>e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0),expandFileStorage(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=ie.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,ie.isDir(e.mode)?t.size=4096:ie.isFile(e.mode)?t.size=e.usedBytes:ie.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&te.resizeFileStorage(e,t.size)},lookup(e,t){throw ie.genericErrors[44]},mknod:(e,t,r,n)=>te.createNode(e,t,r,n),rename(e,t,r){if(ie.isDir(e.mode)){var n;try{n=ie.lookupNode(t,r)}catch(yo){}if(n)for(var i in n.contents)throw new ie.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=r,t.contents[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir(e,t){var r=ie.lookupNode(e,t);for(var n in r.contents)throw new ie.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir(e){var t=[".",".."];for(var r of Object.keys(e.contents))t.push(r);return t},symlink(e,t,r){var n=te.createNode(e,t,41471,0);return n.link=r,n},readlink(e){if(!ie.isLink(e.mode))throw new ie.ErrnoError(28);return e.link}},stream_ops:{read(e,t,r,n,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-i,n);if(s>8&&o.subarray)t.set(o.subarray(i,i+s),r);else for(var a=0;a<s;a++)t[r+a]=o[i+a];return s},write(e,t,r,n,i,o){if(t.buffer===b.buffer&&(o=!1),!n)return 0;var s=e.node;if(s.timestamp=Date.now(),t.subarray&&(!s.contents||s.contents.subarray)){if(o)return s.contents=t.subarray(r,r+n),s.usedBytes=n,n;if(0===s.usedBytes&&0===i)return s.contents=t.slice(r,r+n),s.usedBytes=n,n;if(i+n<=s.usedBytes)return s.contents.set(t.subarray(r,r+n),i),n}if(te.expandFileStorage(s,i+n),s.contents.subarray&&t.subarray)s.contents.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)s.contents[i+a]=t[r+a];return s.usedBytes=Math.max(s.usedBytes,i+n),n},llseek(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&ie.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new ie.ErrnoError(28);return n},allocate(e,t,r){te.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap(e,t,r,n,i){if(!ie.isFile(e.node.mode))throw new ie.ErrnoError(43);var o,s,a=e.node.contents;if(2&i||a.buffer!==b.buffer){if((r>0||r+t<a.length)&&(a=a.subarray?a.subarray(r,r+t):Array.prototype.slice.call(a,r,r+t)),s=!0,!(o=ee(t)))throw new ie.ErrnoError(48);b.set(a,o)}else s=!1,o=a.byteOffset;return{ptr:o,allocated:s}},msync:(e,t,r,n,i)=>(te.stream_ops.write(e,t,0,n,r,!1),0)}},re=n.preloadPlugins||[],ne=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},ie={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){this.name="ErrnoError",this.errno=e}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(e){this.node=e}get isRead(){return 1!=(2097155&this.flags)}get isWrite(){return!!(2097155&this.flags)}get isAppend(){return 1024&this.flags}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=ie.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return ie.isDir(this.mode)}get isDevice(){return ie.isChrdev(this.mode)}},lookupPath(e,t={}){if(!(e=Q.resolve(e)))return{path:"",node:null};if((t=Object.assign({follow_mount:!0,recurse_count:0},t)).recurse_count>8)throw new ie.ErrnoError(32);for(var r=e.split("/").filter((e=>!!e)),n=ie.root,i="/",o=0;o<r.length;o++){var s=o===r.length-1;if(s&&t.parent)break;if(n=ie.lookupNode(n,r[o]),i=W.join2(i,r[o]),ie.isMountpoint(n)&&(!s||s&&t.follow_mount)&&(n=n.mounted.root),!s||t.follow)for(var a=0;ie.isLink(n.mode);){var l=ie.readlink(i);if(i=Q.resolve(W.dirname(i),l),n=ie.lookupPath(i,{recurse_count:t.recurse_count+1}).node,a++>40)throw new ie.ErrnoError(32)}}return{path:i,node:n}},getPath(e){for(var t;;){if(ie.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?`${r}/${t}`:r+t:r}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%ie.nameTable.length},hashAddNode(e){var t=ie.hashName(e.parent.id,e.name);e.name_next=ie.nameTable[t],ie.nameTable[t]=e},hashRemoveNode(e){var t=ie.hashName(e.parent.id,e.name);if(ie.nameTable[t]===e)ie.nameTable[t]=e.name_next;else for(var r=ie.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode(e,t){var r=ie.mayLookup(e);if(r)throw new ie.ErrnoError(r);for(var n=ie.hashName(e.id,t),i=ie.nameTable[n];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return ie.lookup(e,t)},createNode(e,t,r,n){var i=new ie.FSNode(e,t,r,n);return ie.hashAddNode(i),i},destroyNode(e){ie.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>!(49152&~e),flagsToPermissionString(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:(e,t)=>ie.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2,mayLookup(e){if(!ie.isDir(e.mode))return 54;var t=ie.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate(e,t){try{ie.lookupNode(e,t);return 20}catch(yo){}return ie.nodePermissions(e,"wx")},mayDelete(e,t,r){var n;try{n=ie.lookupNode(e,t)}catch(yo){return yo.errno}var i=ie.nodePermissions(e,"wx");if(i)return i;if(r){if(!ie.isDir(n.mode))return 54;if(ie.isRoot(n)||ie.getPath(n)===ie.cwd())return 10}else if(ie.isDir(n.mode))return 31;return 0},mayOpen:(e,t)=>e?ie.isLink(e.mode)?32:ie.isDir(e.mode)&&("r"!==ie.flagsToPermissionString(t)||512&t)?31:ie.nodePermissions(e,ie.flagsToPermissionString(t)):44,MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=ie.MAX_OPEN_FDS;e++)if(!ie.streams[e])return e;throw new ie.ErrnoError(33)},getStreamChecked(e){var t=ie.getStream(e);if(!t)throw new ie.ErrnoError(8);return t},getStream:e=>ie.streams[e],createStream:(e,t=-1)=>(e=Object.assign(new ie.FSStream,e),-1==t&&(t=ie.nextfd()),e.fd=t,ie.streams[t]=e,e),closeStream(e){ie.streams[e]=null},dupStream(e,t=-1){var r=ie.createStream(e,t);return r.stream_ops?.dup?.(r),r},chrdev_stream_ops:{open(e){var t=ie.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new ie.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice(e,t){ie.devices[e]={stream_ops:t}},getDevice:e=>ie.devices[e],getMounts(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push(...n.mounts)}return t},syncfs(e,t){"function"==typeof e&&(t=e,e=!1),ie.syncFSRequests++,ie.syncFSRequests>1&&y(`warning: ${ie.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var r=ie.getMounts(ie.root.mount),n=0;function i(e){return ie.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++n>=r.length&&i(null)}r.forEach((t=>{if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)}))},mount(e,t,r){var n,i="/"===r,o=!r;if(i&&ie.root)throw new ie.ErrnoError(10);if(!i&&!o){var s=ie.lookupPath(r,{follow_mount:!1});if(r=s.path,n=s.node,ie.isMountpoint(n))throw new ie.ErrnoError(10);if(!ie.isDir(n.mode))throw new ie.ErrnoError(54)}var a={type:e,opts:t,mountpoint:r,mounts:[]},l=e.mount(a);return l.mount=a,a.root=l,i?ie.root=l:n&&(n.mounted=a,n.mount&&n.mount.mounts.push(a)),l},unmount(e){var t=ie.lookupPath(e,{follow_mount:!1});if(!ie.isMountpoint(t.node))throw new ie.ErrnoError(28);var r=t.node,n=r.mounted,i=ie.getMounts(n);Object.keys(ie.nameTable).forEach((e=>{for(var t=ie.nameTable[e];t;){var r=t.name_next;i.includes(t.mount)&&ie.destroyNode(t),t=r}})),r.mounted=null;var o=r.mount.mounts.indexOf(n);r.mount.mounts.splice(o,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod(e,t,r){var n=ie.lookupPath(e,{parent:!0}).node,i=W.basename(e);if(!i||"."===i||".."===i)throw new ie.ErrnoError(28);var o=ie.mayCreate(n,i);if(o)throw new ie.ErrnoError(o);if(!n.node_ops.mknod)throw new ie.ErrnoError(63);return n.node_ops.mknod(n,i,t,r)},create:(e,t)=>(t=void 0!==t?t:438,t&=4095,t|=32768,ie.mknod(e,t,0)),mkdir:(e,t)=>(t=void 0!==t?t:511,t&=1023,t|=16384,ie.mknod(e,t,0)),mkdirTree(e,t){for(var r=e.split("/"),n="",i=0;i<r.length;++i)if(r[i]){n+="/"+r[i];try{ie.mkdir(n,t)}catch(yo){if(20!=yo.errno)throw yo}}},mkdev:(e,t,r)=>(void 0===r&&(r=t,t=438),t|=8192,ie.mknod(e,t,r)),symlink(e,t){if(!Q.resolve(e))throw new ie.ErrnoError(44);var r=ie.lookupPath(t,{parent:!0}).node;if(!r)throw new ie.ErrnoError(44);var n=W.basename(t),i=ie.mayCreate(r,n);if(i)throw new ie.ErrnoError(i);if(!r.node_ops.symlink)throw new ie.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename(e,t){var r,n,i=W.dirname(e),o=W.dirname(t),s=W.basename(e),a=W.basename(t);if(r=ie.lookupPath(e,{parent:!0}).node,n=ie.lookupPath(t,{parent:!0}).node,!r||!n)throw new ie.ErrnoError(44);if(r.mount!==n.mount)throw new ie.ErrnoError(75);var l,c=ie.lookupNode(r,s),u=Q.relative(e,o);if("."!==u.charAt(0))throw new ie.ErrnoError(28);if("."!==(u=Q.relative(t,i)).charAt(0))throw new ie.ErrnoError(55);try{l=ie.lookupNode(n,a)}catch(yo){}if(c!==l){var f=ie.isDir(c.mode),p=ie.mayDelete(r,s,f);if(p)throw new ie.ErrnoError(p);if(p=l?ie.mayDelete(n,a,f):ie.mayCreate(n,a))throw new ie.ErrnoError(p);if(!r.node_ops.rename)throw new ie.ErrnoError(63);if(ie.isMountpoint(c)||l&&ie.isMountpoint(l))throw new ie.ErrnoError(10);if(n!==r&&(p=ie.nodePermissions(r,"w")))throw new ie.ErrnoError(p);ie.hashRemoveNode(c);try{r.node_ops.rename(c,n,a)}catch(yo){throw yo}finally{ie.hashAddNode(c)}}},rmdir(e){var t=ie.lookupPath(e,{parent:!0}).node,r=W.basename(e),n=ie.lookupNode(t,r),i=ie.mayDelete(t,r,!0);if(i)throw new ie.ErrnoError(i);if(!t.node_ops.rmdir)throw new ie.ErrnoError(63);if(ie.isMountpoint(n))throw new ie.ErrnoError(10);t.node_ops.rmdir(t,r),ie.destroyNode(n)},readdir(e){var t=ie.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new ie.ErrnoError(54);return t.node_ops.readdir(t)},unlink(e){var t=ie.lookupPath(e,{parent:!0}).node;if(!t)throw new ie.ErrnoError(44);var r=W.basename(e),n=ie.lookupNode(t,r),i=ie.mayDelete(t,r,!1);if(i)throw new ie.ErrnoError(i);if(!t.node_ops.unlink)throw new ie.ErrnoError(63);if(ie.isMountpoint(n))throw new ie.ErrnoError(10);t.node_ops.unlink(t,r),ie.destroyNode(n)},readlink(e){var t=ie.lookupPath(e).node;if(!t)throw new ie.ErrnoError(44);if(!t.node_ops.readlink)throw new ie.ErrnoError(28);return Q.resolve(ie.getPath(t.parent),t.node_ops.readlink(t))},stat(e,t){var r=ie.lookupPath(e,{follow:!t}).node;if(!r)throw new ie.ErrnoError(44);if(!r.node_ops.getattr)throw new ie.ErrnoError(63);return r.node_ops.getattr(r)},lstat:e=>ie.stat(e,!0),chmod(e,t,r){var n;"string"==typeof e?n=ie.lookupPath(e,{follow:!r}).node:n=e;if(!n.node_ops.setattr)throw new ie.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod(e,t){ie.chmod(e,t,!0)},fchmod(e,t){var r=ie.getStreamChecked(e);ie.chmod(r.node,t)},chown(e,t,r,n){var i;"string"==typeof e?i=ie.lookupPath(e,{follow:!n}).node:i=e;if(!i.node_ops.setattr)throw new ie.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown(e,t,r){ie.chown(e,t,r,!0)},fchown(e,t,r){var n=ie.getStreamChecked(e);ie.chown(n.node,t,r)},truncate(e,t){if(t<0)throw new ie.ErrnoError(28);var r;"string"==typeof e?r=ie.lookupPath(e,{follow:!0}).node:r=e;if(!r.node_ops.setattr)throw new ie.ErrnoError(63);if(ie.isDir(r.mode))throw new ie.ErrnoError(31);if(!ie.isFile(r.mode))throw new ie.ErrnoError(28);var n=ie.nodePermissions(r,"w");if(n)throw new ie.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate(e,t){var r=ie.getStreamChecked(e);if(!(2097155&r.flags))throw new ie.ErrnoError(28);ie.truncate(r.node,t)},utime(e,t,r){var n=ie.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open(e,t,r){if(""===e)throw new ie.ErrnoError(44);var i;if(r=void 0===r?438:r,r=64&(t="string"==typeof t?(e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===t)throw new Error(`Unknown file open mode: ${e}`);return t})(t):t)?4095&r|32768:0,"object"==typeof e)i=e;else{e=W.normalize(e);try{i=ie.lookupPath(e,{follow:!(131072&t)}).node}catch(yo){}}var o=!1;if(64&t)if(i){if(128&t)throw new ie.ErrnoError(20)}else i=ie.mknod(e,r,0),o=!0;if(!i)throw new ie.ErrnoError(44);if(ie.isChrdev(i.mode)&&(t&=-513),65536&t&&!ie.isDir(i.mode))throw new ie.ErrnoError(54);if(!o){var s=ie.mayOpen(i,t);if(s)throw new ie.ErrnoError(s)}512&t&&!o&&ie.truncate(i,0),t&=-131713;var a=ie.createStream({node:i,path:ie.getPath(i),flags:t,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1});return a.stream_ops.open&&a.stream_ops.open(a),!n.logReadFiles||1&t||(ie.readFiles||(ie.readFiles={}),e in ie.readFiles||(ie.readFiles[e]=1)),a},close(e){if(ie.isClosed(e))throw new ie.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(yo){throw yo}finally{ie.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek(e,t,r){if(ie.isClosed(e))throw new ie.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ie.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new ie.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read(e,t,r,n,i){if(n<0||i<0)throw new ie.ErrnoError(28);if(ie.isClosed(e))throw new ie.ErrnoError(8);if(1==(2097155&e.flags))throw new ie.ErrnoError(8);if(ie.isDir(e.node.mode))throw new ie.ErrnoError(31);if(!e.stream_ops.read)throw new ie.ErrnoError(28);var o=void 0!==i;if(o){if(!e.seekable)throw new ie.ErrnoError(70)}else i=e.position;var s=e.stream_ops.read(e,t,r,n,i);return o||(e.position+=s),s},write(e,t,r,n,i,o){if(n<0||i<0)throw new ie.ErrnoError(28);if(ie.isClosed(e))throw new ie.ErrnoError(8);if(!(2097155&e.flags))throw new ie.ErrnoError(8);if(ie.isDir(e.node.mode))throw new ie.ErrnoError(31);if(!e.stream_ops.write)throw new ie.ErrnoError(28);e.seekable&&1024&e.flags&&ie.llseek(e,0,2);var s=void 0!==i;if(s){if(!e.seekable)throw new ie.ErrnoError(70)}else i=e.position;var a=e.stream_ops.write(e,t,r,n,i,o);return s||(e.position+=a),a},allocate(e,t,r){if(ie.isClosed(e))throw new ie.ErrnoError(8);if(t<0||r<=0)throw new ie.ErrnoError(28);if(!(2097155&e.flags))throw new ie.ErrnoError(8);if(!ie.isFile(e.node.mode)&&!ie.isDir(e.node.mode))throw new ie.ErrnoError(43);if(!e.stream_ops.allocate)throw new ie.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap(e,t,r,n,i){if(2&n&&!(2&i)&&2!=(2097155&e.flags))throw new ie.ErrnoError(2);if(1==(2097155&e.flags))throw new ie.ErrnoError(2);if(!e.stream_ops.mmap)throw new ie.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,i)},msync:(e,t,r,n,i)=>e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,i):0,ioctl(e,t,r){if(!e.stream_ops.ioctl)throw new ie.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error(`Invalid encoding type "${t.encoding}"`);var r,n=ie.open(e,t.flags),i=ie.stat(e).size,o=new Uint8Array(i);return ie.read(n,o,0,i,0),"utf8"===t.encoding?r=V(o,0):"binary"===t.encoding&&(r=o),ie.close(n),r},writeFile(e,t,r={}){r.flags=r.flags||577;var n=ie.open(e,r.flags,r.mode);if("string"==typeof t){var i=new Uint8Array(J(t)+1),o=Y(t,i,0,i.length);ie.write(n,i,0,o,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");ie.write(n,t,0,t.byteLength,void 0,r.canOwn)}ie.close(n)},cwd:()=>ie.currentPath,chdir(e){var t=ie.lookupPath(e,{follow:!0});if(null===t.node)throw new ie.ErrnoError(44);if(!ie.isDir(t.node.mode))throw new ie.ErrnoError(54);var r=ie.nodePermissions(t.node,"x");if(r)throw new ie.ErrnoError(r);ie.currentPath=t.path},createDefaultDirectories(){ie.mkdir("/tmp"),ie.mkdir("/home"),ie.mkdir("/home/web_user")},createDefaultDevices(){ie.mkdir("/dev"),ie.registerDevice(ie.makedev(1,3),{read:()=>0,write:(e,t,r,n,i)=>n}),ie.mkdev("/dev/null",ie.makedev(1,3)),Z.register(ie.makedev(5,0),Z.default_tty_ops),Z.register(ie.makedev(6,0),Z.default_tty1_ops),ie.mkdev("/dev/tty",ie.makedev(5,0)),ie.mkdev("/dev/tty1",ie.makedev(6,0));var e=new Uint8Array(1024),t=0,r=()=>(0===t&&(t=H(e).byteLength),e[--t]);ie.createDevice("/dev","random",r),ie.createDevice("/dev","urandom",r),ie.mkdir("/dev/shm"),ie.mkdir("/dev/shm/tmp")},createSpecialDirectories(){ie.mkdir("/proc");var e=ie.mkdir("/proc/self");ie.mkdir("/proc/self/fd"),ie.mount({mount(){var t=ie.createNode(e,"fd",16895,73);return t.node_ops={lookup(e,t){var r=+t,n=ie.getStreamChecked(r),i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path}};return i.parent=i,i}},t}},{},"/proc/self/fd")},createStandardStreams(){n.stdin?ie.createDevice("/dev","stdin",n.stdin):ie.symlink("/dev/tty","/dev/stdin"),n.stdout?ie.createDevice("/dev","stdout",null,n.stdout):ie.symlink("/dev/tty","/dev/stdout"),n.stderr?ie.createDevice("/dev","stderr",null,n.stderr):ie.symlink("/dev/tty1","/dev/stderr"),ie.open("/dev/stdin",0),ie.open("/dev/stdout",1),ie.open("/dev/stderr",1)},staticInit(){[44].forEach((e=>{ie.genericErrors[e]=new ie.ErrnoError(e),ie.genericErrors[e].stack="<generic error, no stack>"})),ie.nameTable=new Array(4096),ie.mount(te,{},"/"),ie.createDefaultDirectories(),ie.createDefaultDevices(),ie.createSpecialDirectories(),ie.filesystems={MEMFS:te}},init(e,t,r){ie.init.initialized=!0,n.stdin=e||n.stdin,n.stdout=t||n.stdout,n.stderr=r||n.stderr,ie.createStandardStreams()},quit(){ie.init.initialized=!1;for(var e=0;e<ie.streams.length;e++){var t=ie.streams[e];t&&ie.close(t)}},findObject(e,t){var r=ie.analyzePath(e,t);return r.exists?r.object:null},analyzePath(e,t){try{e=(n=ie.lookupPath(e,{follow:!t})).path}catch(yo){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=ie.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=W.basename(e),n=ie.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(yo){r.error=yo.errno}return r},createPath(e,t,r,n){e="string"==typeof e?e:ie.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var s=W.join2(e,o);try{ie.mkdir(s)}catch(yo){}e=s}}return s},createFile(e,t,r,n,i){var o=W.join2("string"==typeof e?e:ie.getPath(e),t),s=ne(n,i);return ie.create(o,s)},createDataFile(e,t,r,n,i,o){var s=t;e&&(e="string"==typeof e?e:ie.getPath(e),s=t?W.join2(e,t):e);var a=ne(n,i),l=ie.create(s,a);if(r){if("string"==typeof r){for(var c=new Array(r.length),u=0,f=r.length;u<f;++u)c[u]=r.charCodeAt(u);r=c}ie.chmod(l,146|a);var p=ie.open(l,577);ie.write(p,r,0,r.length,0,o),ie.close(p),ie.chmod(l,a)}},createDevice(e,t,r,n){var i=W.join2("string"==typeof e?e:ie.getPath(e),t),o=ne(!!r,!!n);ie.createDevice.major||(ie.createDevice.major=64);var s=ie.makedev(ie.createDevice.major++,0);return ie.registerDevice(s,{open(e){e.seekable=!1},close(e){n?.buffer?.length&&n(10)},read(e,t,n,i,o){for(var s=0,a=0;a<i;a++){var l;try{l=r()}catch(yo){throw new ie.ErrnoError(29)}if(void 0===l&&0===s)throw new ie.ErrnoError(6);if(null==l)break;s++,t[n+a]=l}return s&&(e.node.timestamp=Date.now()),s},write(e,t,r,i,o){for(var s=0;s<i;s++)try{n(t[r+s])}catch(yo){throw new ie.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),s}}),ie.mkdev(i,o,s)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!c)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=X(c(e.url)),e.usedBytes=e.contents.length}catch(yo){throw new ie.ErrnoError(29)}},createLazyFile(e,t,r,n,i){class o{constructor(){this.lengthKnown=!1,this.chunks=[]}get(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}}setDataGetter(e){this.getter=e}cacheLength(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,s=1048576;i||(s=n);var a=this;a.setDataGetter((e=>{var t=e*s,i=(e+1)*s-1;if(i=Math.min(i,n-1),void 0===a.chunks[e]&&(a.chunks[e]=((e,t)=>{if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",r,!1),n!==s&&i.setRequestHeader("Range","bytes="+e+"-"+t),i.responseType="arraybuffer",i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+r+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):X(i.responseText||"")})(t,i)),void 0===a.chunks[e])throw new Error("doXHR failed!");return a.chunks[e]})),!o&&n||(s=n=1,n=this.getter(0).length,s=n,g("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=s,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if("undefined"!=typeof XMLHttpRequest){if(!s)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a={isDevice:!1,contents:new o}}else a={isDevice:!1,url:r};var l=ie.createFile(e,t,a,n,i);a.contents?l.contents=a.contents:a.url&&(l.contents=null,l.url=a.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var c={};function u(e,t,r,n,i){var o=e.node.contents;if(i>=o.length)return 0;var s=Math.min(o.length-i,n);if(o.slice)for(var a=0;a<s;a++)t[r+a]=o[i+a];else for(a=0;a<s;a++)t[r+a]=o.get(i+a);return s}return Object.keys(l.stream_ops).forEach((e=>{var t=l.stream_ops[e];c[e]=(...e)=>(ie.forceLoadFile(l),t(...e))})),c.read=(e,t,r,n,i)=>(ie.forceLoadFile(l),u(e,t,r,n,i)),c.mmap=(e,t,r,n,i)=>{ie.forceLoadFile(l);var o=ee(t);if(!o)throw new ie.ErrnoError(48);return u(e,b,o,t,r),{ptr:o,allocated:!0}},l.stream_ops=c,l}},oe={DEFAULT_POLLMASK:5,calculateAt(e,t,r){if(W.isAbs(t))return t;var n;-100===e?n=ie.cwd():n=oe.getStreamFromFD(e).path;if(0==t.length){if(!r)throw new ie.ErrnoError(44);return n}return W.join2(n,t)},doStat(e,t,r){var n=e(t);E[r>>2]=n.dev,E[r+4>>2]=n.mode,S[r+8>>2]=n.nlink,E[r+12>>2]=n.uid,E[r+16>>2]=n.gid,E[r+20>>2]=n.rdev,x[r+24>>3]=BigInt(n.size),E[r+32>>2]=4096,E[r+36>>2]=n.blocks;var i=n.atime.getTime(),o=n.mtime.getTime(),s=n.ctime.getTime();return x[r+40>>3]=BigInt(Math.floor(i/1e3)),S[r+48>>2]=i%1e3*1e3,x[r+56>>3]=BigInt(Math.floor(o/1e3)),S[r+64>>2]=o%1e3*1e3,x[r+72>>3]=BigInt(Math.floor(s/1e3)),S[r+80>>2]=s%1e3*1e3,x[r+88>>3]=BigInt(n.ino),0},doMsync(e,t,r,n,i){if(!ie.isFile(t.node.mode))throw new ie.ErrnoError(43);if(2&n)return 0;var o=w.slice(e,e+r);ie.msync(t,o,i,r,n)},getStreamFromFD:e=>ie.getStreamChecked(e),varargs:void 0,getStr(e){var t=((e,t)=>e?V(w,e,t):"")(e);return t}};function se(){var e=E[+oe.varargs>>2];return oe.varargs+=4,e}var ae=se;var le=e=>e<-9007199254740992||e>9007199254740992?NaN:Number(e);var ce=(e,t,r)=>Y(e,w,t,r);var ue=e=>S[e>>2]+4294967296*E[e+4>>2];var fe=[0,31,60,91,121,152,182,213,244,274,305,335],pe=[0,31,59,90,120,151,181,212,243,273,304,334];var de;de=()=>performance.now();var he=e=>{var t=(e-m.buffer.byteLength+65535)/65536;try{return m.grow(t),k(),1}catch(yo){}},_e={},me=()=>{if(!me.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"};for(var t in _e)void 0===_e[t]?delete e[t]:e[t]=_e[t];var r=[];for(var t in e)r.push(`${t}=${e[t]}`);me.strings=r}return me.strings};ie.createPreloadedFile=(e,t,r,n,i,o,s,a,l,c)=>{var f=t?Q.resolve(W.join2(e,t)):e;function p(r){function u(r){c?.(),a||((e,t,r,n,i,o)=>{ie.createDataFile(e,t,r,n,i,o)})(e,t,r,n,i,l),o?.(),j()}((e,t,r,n)=>{"undefined"!=typeof Browser&&Browser.init();var i=!1;return re.forEach((o=>{i||o.canHandle(t)&&(o.handle(e,t,r,n),i=!0)})),i})(r,f,u,(()=>{s?.(),j()}))||u(r)}R(),"string"==typeof r?((e,t,r,n)=>{var i=`al ${e}`;u(e,(e=>{t(new Uint8Array(e)),i&&j()}),(t=>{if(!r)throw`Loading data file "${e}" failed.`;r()})),i&&R()})(r,p,s):p(r)},ie.staticInit();var ge={__syscall_chmod:function(e,t){try{return e=oe.getStr(e),ie.chmod(e,t),0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_faccessat:function(e,t,r,n){try{if(t=oe.getStr(t),t=oe.calculateAt(e,t),-8&r)return-28;var i=ie.lookupPath(t,{follow:!0}).node;if(!i)return-44;var o="";return 4&r&&(o+="r"),2&r&&(o+="w"),1&r&&(o+="x"),o&&ie.nodePermissions(i,o)?-2:0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_fchmod:function(e,t){try{return ie.fchmod(e,t),0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_fchown32:function(e,t,r){try{return ie.fchown(e,t,r),0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_fcntl64:function(e,t,r){oe.varargs=r;try{var n=oe.getStreamFromFD(e);switch(t){case 0:if((i=se())<0)return-28;for(;ie.streams[i];)i++;return ie.dupStream(n,i).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:var i=se();return n.flags|=i,0;case 12:i=ae();return q[i+0>>1]=2,0}return-28}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_fstat64:function(e,t){try{var r=oe.getStreamFromFD(e);return oe.doStat(ie.stat,r.path,t)}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_ftruncate64:function(e,t){t=le(t);try{return isNaN(t)?61:(ie.ftruncate(e,t),0)}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_getcwd:function(e,t){try{if(0===t)return-28;var r=ie.cwd(),n=J(r)+1;return t<n?-68:(ce(r,e,t),n)}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_ioctl:function(e,t,r){oe.varargs=r;try{var n=oe.getStreamFromFD(e);switch(t){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return n.tty?0:-59;case 21505:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var i=n.tty.ops.ioctl_tcgets(n),o=ae();E[o>>2]=i.c_iflag||0,E[o+4>>2]=i.c_oflag||0,E[o+8>>2]=i.c_cflag||0,E[o+12>>2]=i.c_lflag||0;for(var s=0;s<32;s++)b[o+s+17]=i.c_cc[s]||0;return 0}return 0;case 21506:case 21507:case 21508:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){o=ae();var a=E[o>>2],l=E[o+4>>2],c=E[o+8>>2],u=E[o+12>>2],f=[];for(s=0;s<32;s++)f.push(b[o+s+17]);return n.tty.ops.ioctl_tcsets(n.tty,t,{c_iflag:a,c_oflag:l,c_cflag:c,c_lflag:u,c_cc:f})}return 0;case 21519:if(!n.tty)return-59;o=ae();return E[o>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:o=ae();return ie.ioctl(n,t,o);case 21523:if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var p=n.tty.ops.ioctl_tiocgwinsz(n.tty);o=ae();q[o>>1]=p[0],q[o+2>>1]=p[1]}return 0;default:return-28}}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_lstat64:function(e,t){try{return e=oe.getStr(e),oe.doStat(ie.lstat,e,t)}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_mkdirat:function(e,t,r){try{return t=oe.getStr(t),t=oe.calculateAt(e,t),"/"===(t=W.normalize(t))[t.length-1]&&(t=t.substr(0,t.length-1)),ie.mkdir(t,r,0),0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_newfstatat:function(e,t,r,n){try{t=oe.getStr(t);var i=256&n,o=4096&n;return n&=-6401,t=oe.calculateAt(e,t,o),oe.doStat(i?ie.lstat:ie.stat,t,r)}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_openat:function(e,t,r,n){oe.varargs=n;try{t=oe.getStr(t),t=oe.calculateAt(e,t);var i=n?se():0;return ie.open(t,r,i).fd}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_readlinkat:function(e,t,r,n){try{if(t=oe.getStr(t),t=oe.calculateAt(e,t),n<=0)return-28;var i=ie.readlink(t),o=Math.min(n,J(i)),s=b[r+o];return ce(i,r,n+1),b[r+o]=s,o}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_rmdir:function(e){try{return e=oe.getStr(e),ie.rmdir(e),0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_stat64:function(e,t){try{return e=oe.getStr(e),oe.doStat(ie.stat,e,t)}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_unlinkat:function(e,t,r){try{return t=oe.getStr(t),t=oe.calculateAt(e,t),0===r?ie.unlink(t):512===r?ie.rmdir(t):C("Invalid flags passed to unlinkat"),0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},__syscall_utimensat:function(e,t,r,n){try{if(t=oe.getStr(t),t=oe.calculateAt(e,t,!0),r){var i=ue(r),o=E[r+8>>2];s=1e3*i+o/1e6,a=1e3*(i=ue(r+=16))+(o=E[r+8>>2])/1e6}else var s=Date.now(),a=s;return ie.utime(t,s,a),0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},_emscripten_get_now_is_monotonic:()=>1,_localtime_js:function(e,t){e=le(e);var r=new Date(1e3*e);E[t>>2]=r.getSeconds(),E[t+4>>2]=r.getMinutes(),E[t+8>>2]=r.getHours(),E[t+12>>2]=r.getDate(),E[t+16>>2]=r.getMonth(),E[t+20>>2]=r.getFullYear()-1900,E[t+24>>2]=r.getDay();var n=0|(e=>{var t;return((t=e.getFullYear())%4!=0||t%100==0&&t%400!=0?pe:fe)[e.getMonth()]+e.getDate()-1})(r);E[t+28>>2]=n,E[t+36>>2]=-60*r.getTimezoneOffset();var i=new Date(r.getFullYear(),0,1),o=new Date(r.getFullYear(),6,1).getTimezoneOffset(),s=i.getTimezoneOffset(),a=0|(o!=s&&r.getTimezoneOffset()==Math.min(s,o));E[t+32>>2]=a},_mmap_js:function(e,t,r,n,i,o,s){i=le(i);try{if(isNaN(i))return 61;var a=oe.getStreamFromFD(n),l=ie.mmap(a,e,i,t,r),c=l.ptr;return E[o>>2]=l.allocated,S[s>>2]=c,0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},_munmap_js:function(e,t,r,n,i,o){o=le(o);try{var s=oe.getStreamFromFD(i);2&r&&oe.doMsync(e,s,t,n,o)}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return-yo.errno}},_tzset_js:(e,t,r,n)=>{var i=(new Date).getFullYear(),o=new Date(i,0,1),s=new Date(i,6,1),a=o.getTimezoneOffset(),l=s.getTimezoneOffset(),c=Math.max(a,l);S[e>>2]=60*c,E[t>>2]=Number(a!=l);var u=e=>e.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1],f=u(o),p=u(s);l<a?(ce(f,r,17),ce(p,n,17)):(ce(f,n,17),ce(p,r,17))},emscripten_date_now:()=>Date.now(),emscripten_get_now:de,emscripten_resize_heap:e=>{var t=w.length,r=2147483648;if((e>>>=0)>r)return!1;for(var n,i,o=1;o<=4;o*=2){var s=t*(1+.2/o);s=Math.min(s,e+100663296);var a=Math.min(r,(n=Math.max(e,s))+((i=65536)-n%i)%i);if(he(a))return!0}return!1},environ_get:(e,t)=>{var r=0;return me().forEach(((n,i)=>{var o=t+r;S[e+4*i>>2]=o,((e,t)=>{for(var r=0;r<e.length;++r)b[t++]=e.charCodeAt(r);b[t]=0})(n,o),r+=n.length+1})),0},environ_sizes_get:(e,t)=>{var r=me();S[e>>2]=r.length;var n=0;return r.forEach((e=>n+=e.length+1)),S[t>>2]=n,0},fd_close:function(e){try{var t=oe.getStreamFromFD(e);return ie.close(t),0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return yo.errno}},fd_fdstat_get:function(e,t){try{var r=oe.getStreamFromFD(e),n=r.tty?2:ie.isDir(r.mode)?3:ie.isLink(r.mode)?7:4;return b[t]=n,q[t+2>>1]=0,x[t+8>>3]=BigInt(0),x[t+16>>3]=BigInt(0),0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return yo.errno}},fd_read:function(e,t,r,n){try{var i=((e,t,r,n)=>{for(var i=0,o=0;o<r;o++){var s=S[t>>2],a=S[t+4>>2];t+=8;var l=ie.read(e,b,s,a,n);if(l<0)return-1;if(i+=l,l<a)break}return i})(oe.getStreamFromFD(e),t,r);return S[n>>2]=i,0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return yo.errno}},fd_seek:function(e,t,r,n){t=le(t);try{if(isNaN(t))return 61;var i=oe.getStreamFromFD(e);return ie.llseek(i,t,r),x[n>>3]=BigInt(i.position),i.getdents&&0===t&&0===r&&(i.getdents=null),0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return yo.errno}},fd_sync:function(e){try{var t=oe.getStreamFromFD(e);return t.stream_ops?.fsync?t.stream_ops.fsync(t):0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return yo.errno}},fd_write:function(e,t,r,n){try{var i=((e,t,r,n)=>{for(var i=0,o=0;o<r;o++){var s=S[t>>2],a=S[t+4>>2];t+=8;var l=ie.write(e,b,s,a,n);if(l<0)return-1;i+=l}return i})(oe.getStreamFromFD(e),t,r);return S[n>>2]=i,0}catch(yo){if(void 0===ie||"ErrnoError"!==yo.name)throw yo;return yo.errno}},memory:m},ye=function(){var e,t,i,o,s={env:ge,wasi_snapshot_preview1:ge};function a(e,t){var r;return ye=e.exports,r=ye.__wasm_call_ctors,O.unshift(r),j(),ye}if(R(),n.instantiateWasm)try{return n.instantiateWasm(s,a)}catch(yo){y(`Module.instantiateWasm callback failed with error: ${yo}`),r(yo)}return N||(N=B()),(e=_,t=N,i=s,o=function(e){a(e.instance)},e||"function"!=typeof WebAssembly.instantiateStreaming||D(t)||"function"!=typeof fetch?U(t,i,o):fetch(t,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,i).then(o,(function(e){return y(`wasm streaming compile failed: ${e}`),y("falling back to ArrayBuffer instantiation"),U(t,i,o)}))))).catch(r),{}}();n._sqlite3_status64=(e,t,r,i)=>(n._sqlite3_status64=ye.sqlite3_status64)(e,t,r,i),n._sqlite3_status=(e,t,r,i)=>(n._sqlite3_status=ye.sqlite3_status)(e,t,r,i),n._sqlite3_db_status=(e,t,r,i,o)=>(n._sqlite3_db_status=ye.sqlite3_db_status)(e,t,r,i,o),n._sqlite3_msize=e=>(n._sqlite3_msize=ye.sqlite3_msize)(e),n._sqlite3_vfs_find=e=>(n._sqlite3_vfs_find=ye.sqlite3_vfs_find)(e),n._sqlite3_initialize=()=>(n._sqlite3_initialize=ye.sqlite3_initialize)(),n._sqlite3_malloc=e=>(n._sqlite3_malloc=ye.sqlite3_malloc)(e),n._sqlite3_free=e=>(n._sqlite3_free=ye.sqlite3_free)(e),n._sqlite3_vfs_register=(e,t)=>(n._sqlite3_vfs_register=ye.sqlite3_vfs_register)(e,t),n._sqlite3_vfs_unregister=e=>(n._sqlite3_vfs_unregister=ye.sqlite3_vfs_unregister)(e),n._sqlite3_malloc64=e=>(n._sqlite3_malloc64=ye.sqlite3_malloc64)(e),n._sqlite3_realloc=(e,t)=>(n._sqlite3_realloc=ye.sqlite3_realloc)(e,t),n._sqlite3_realloc64=(e,t)=>(n._sqlite3_realloc64=ye.sqlite3_realloc64)(e,t),n._sqlite3_value_text=e=>(n._sqlite3_value_text=ye.sqlite3_value_text)(e),n._sqlite3_randomness=(e,t)=>(n._sqlite3_randomness=ye.sqlite3_randomness)(e,t),n._sqlite3_stricmp=(e,t)=>(n._sqlite3_stricmp=ye.sqlite3_stricmp)(e,t),n._sqlite3_strnicmp=(e,t,r)=>(n._sqlite3_strnicmp=ye.sqlite3_strnicmp)(e,t,r),n._sqlite3_uri_parameter=(e,t)=>(n._sqlite3_uri_parameter=ye.sqlite3_uri_parameter)(e,t),n._sqlite3_uri_boolean=(e,t,r)=>(n._sqlite3_uri_boolean=ye.sqlite3_uri_boolean)(e,t,r),n._sqlite3_serialize=(e,t,r,i)=>(n._sqlite3_serialize=ye.sqlite3_serialize)(e,t,r,i),n._sqlite3_prepare_v2=(e,t,r,i,o)=>(n._sqlite3_prepare_v2=ye.sqlite3_prepare_v2)(e,t,r,i,o),n._sqlite3_step=e=>(n._sqlite3_step=ye.sqlite3_step)(e),n._sqlite3_column_int64=(e,t)=>(n._sqlite3_column_int64=ye.sqlite3_column_int64)(e,t),n._sqlite3_reset=e=>(n._sqlite3_reset=ye.sqlite3_reset)(e),n._sqlite3_exec=(e,t,r,i,o)=>(n._sqlite3_exec=ye.sqlite3_exec)(e,t,r,i,o),n._sqlite3_column_int=(e,t)=>(n._sqlite3_column_int=ye.sqlite3_column_int)(e,t),n._sqlite3_finalize=e=>(n._sqlite3_finalize=ye.sqlite3_finalize)(e),n._sqlite3_file_control=(e,t,r,i)=>(n._sqlite3_file_control=ye.sqlite3_file_control)(e,t,r,i),n._sqlite3_column_name=(e,t)=>(n._sqlite3_column_name=ye.sqlite3_column_name)(e,t),n._sqlite3_column_text=(e,t)=>(n._sqlite3_column_text=ye.sqlite3_column_text)(e,t),n._sqlite3_column_type=(e,t)=>(n._sqlite3_column_type=ye.sqlite3_column_type)(e,t),n._sqlite3_errmsg=e=>(n._sqlite3_errmsg=ye.sqlite3_errmsg)(e),n._sqlite3_deserialize=(e,t,r,i,o,s)=>(n._sqlite3_deserialize=ye.sqlite3_deserialize)(e,t,r,i,o,s),n._sqlite3_clear_bindings=e=>(n._sqlite3_clear_bindings=ye.sqlite3_clear_bindings)(e),n._sqlite3_value_blob=e=>(n._sqlite3_value_blob=ye.sqlite3_value_blob)(e),n._sqlite3_value_bytes=e=>(n._sqlite3_value_bytes=ye.sqlite3_value_bytes)(e),n._sqlite3_value_double=e=>(n._sqlite3_value_double=ye.sqlite3_value_double)(e),n._sqlite3_value_int=e=>(n._sqlite3_value_int=ye.sqlite3_value_int)(e),n._sqlite3_value_int64=e=>(n._sqlite3_value_int64=ye.sqlite3_value_int64)(e),n._sqlite3_value_subtype=e=>(n._sqlite3_value_subtype=ye.sqlite3_value_subtype)(e),n._sqlite3_value_pointer=(e,t)=>(n._sqlite3_value_pointer=ye.sqlite3_value_pointer)(e,t),n._sqlite3_value_type=e=>(n._sqlite3_value_type=ye.sqlite3_value_type)(e),n._sqlite3_value_nochange=e=>(n._sqlite3_value_nochange=ye.sqlite3_value_nochange)(e),n._sqlite3_value_frombind=e=>(n._sqlite3_value_frombind=ye.sqlite3_value_frombind)(e),n._sqlite3_value_dup=e=>(n._sqlite3_value_dup=ye.sqlite3_value_dup)(e),n._sqlite3_value_free=e=>(n._sqlite3_value_free=ye.sqlite3_value_free)(e),n._sqlite3_result_blob=(e,t,r,i)=>(n._sqlite3_result_blob=ye.sqlite3_result_blob)(e,t,r,i),n._sqlite3_result_error_toobig=e=>(n._sqlite3_result_error_toobig=ye.sqlite3_result_error_toobig)(e),n._sqlite3_result_error_nomem=e=>(n._sqlite3_result_error_nomem=ye.sqlite3_result_error_nomem)(e),n._sqlite3_result_double=(e,t)=>(n._sqlite3_result_double=ye.sqlite3_result_double)(e,t),n._sqlite3_result_error=(e,t,r)=>(n._sqlite3_result_error=ye.sqlite3_result_error)(e,t,r),n._sqlite3_result_int=(e,t)=>(n._sqlite3_result_int=ye.sqlite3_result_int)(e,t),n._sqlite3_result_int64=(e,t)=>(n._sqlite3_result_int64=ye.sqlite3_result_int64)(e,t),n._sqlite3_result_null=e=>(n._sqlite3_result_null=ye.sqlite3_result_null)(e),n._sqlite3_result_pointer=(e,t,r,i)=>(n._sqlite3_result_pointer=ye.sqlite3_result_pointer)(e,t,r,i),n._sqlite3_result_subtype=(e,t)=>(n._sqlite3_result_subtype=ye.sqlite3_result_subtype)(e,t),n._sqlite3_result_text=(e,t,r,i)=>(n._sqlite3_result_text=ye.sqlite3_result_text)(e,t,r,i),n._sqlite3_result_zeroblob=(e,t)=>(n._sqlite3_result_zeroblob=ye.sqlite3_result_zeroblob)(e,t),n._sqlite3_result_zeroblob64=(e,t)=>(n._sqlite3_result_zeroblob64=ye.sqlite3_result_zeroblob64)(e,t),n._sqlite3_result_error_code=(e,t)=>(n._sqlite3_result_error_code=ye.sqlite3_result_error_code)(e,t),n._sqlite3_user_data=e=>(n._sqlite3_user_data=ye.sqlite3_user_data)(e),n._sqlite3_context_db_handle=e=>(n._sqlite3_context_db_handle=ye.sqlite3_context_db_handle)(e),n._sqlite3_vtab_nochange=e=>(n._sqlite3_vtab_nochange=ye.sqlite3_vtab_nochange)(e),n._sqlite3_vtab_in_first=(e,t)=>(n._sqlite3_vtab_in_first=ye.sqlite3_vtab_in_first)(e,t),n._sqlite3_vtab_in_next=(e,t)=>(n._sqlite3_vtab_in_next=ye.sqlite3_vtab_in_next)(e,t),n._sqlite3_aggregate_context=(e,t)=>(n._sqlite3_aggregate_context=ye.sqlite3_aggregate_context)(e,t),n._sqlite3_get_auxdata=(e,t)=>(n._sqlite3_get_auxdata=ye.sqlite3_get_auxdata)(e,t),n._sqlite3_set_auxdata=(e,t,r,i)=>(n._sqlite3_set_auxdata=ye.sqlite3_set_auxdata)(e,t,r,i),n._sqlite3_column_count=e=>(n._sqlite3_column_count=ye.sqlite3_column_count)(e),n._sqlite3_data_count=e=>(n._sqlite3_data_count=ye.sqlite3_data_count)(e),n._sqlite3_column_blob=(e,t)=>(n._sqlite3_column_blob=ye.sqlite3_column_blob)(e,t),n._sqlite3_column_bytes=(e,t)=>(n._sqlite3_column_bytes=ye.sqlite3_column_bytes)(e,t),n._sqlite3_column_double=(e,t)=>(n._sqlite3_column_double=ye.sqlite3_column_double)(e,t),n._sqlite3_column_value=(e,t)=>(n._sqlite3_column_value=ye.sqlite3_column_value)(e,t),n._sqlite3_bind_blob=(e,t,r,i,o)=>(n._sqlite3_bind_blob=ye.sqlite3_bind_blob)(e,t,r,i,o),n._sqlite3_bind_double=(e,t,r)=>(n._sqlite3_bind_double=ye.sqlite3_bind_double)(e,t,r),n._sqlite3_bind_int=(e,t,r)=>(n._sqlite3_bind_int=ye.sqlite3_bind_int)(e,t,r),n._sqlite3_bind_int64=(e,t,r)=>(n._sqlite3_bind_int64=ye.sqlite3_bind_int64)(e,t,r),n._sqlite3_bind_null=(e,t)=>(n._sqlite3_bind_null=ye.sqlite3_bind_null)(e,t),n._sqlite3_bind_pointer=(e,t,r,i,o)=>(n._sqlite3_bind_pointer=ye.sqlite3_bind_pointer)(e,t,r,i,o),n._sqlite3_bind_text=(e,t,r,i,o)=>(n._sqlite3_bind_text=ye.sqlite3_bind_text)(e,t,r,i,o),n._sqlite3_bind_parameter_count=e=>(n._sqlite3_bind_parameter_count=ye.sqlite3_bind_parameter_count)(e),n._sqlite3_bind_parameter_index=(e,t)=>(n._sqlite3_bind_parameter_index=ye.sqlite3_bind_parameter_index)(e,t),n._sqlite3_db_handle=e=>(n._sqlite3_db_handle=ye.sqlite3_db_handle)(e),n._sqlite3_stmt_readonly=e=>(n._sqlite3_stmt_readonly=ye.sqlite3_stmt_readonly)(e),n._sqlite3_stmt_isexplain=e=>(n._sqlite3_stmt_isexplain=ye.sqlite3_stmt_isexplain)(e),n._sqlite3_stmt_status=(e,t,r)=>(n._sqlite3_stmt_status=ye.sqlite3_stmt_status)(e,t,r),n._sqlite3_sql=e=>(n._sqlite3_sql=ye.sqlite3_sql)(e),n._sqlite3_expanded_sql=e=>(n._sqlite3_expanded_sql=ye.sqlite3_expanded_sql)(e),n._sqlite3_preupdate_old=(e,t,r)=>(n._sqlite3_preupdate_old=ye.sqlite3_preupdate_old)(e,t,r),n._sqlite3_preupdate_count=e=>(n._sqlite3_preupdate_count=ye.sqlite3_preupdate_count)(e),n._sqlite3_preupdate_depth=e=>(n._sqlite3_preupdate_depth=ye.sqlite3_preupdate_depth)(e),n._sqlite3_preupdate_blobwrite=e=>(n._sqlite3_preupdate_blobwrite=ye.sqlite3_preupdate_blobwrite)(e),n._sqlite3_preupdate_new=(e,t,r)=>(n._sqlite3_preupdate_new=ye.sqlite3_preupdate_new)(e,t,r),n._sqlite3_value_numeric_type=e=>(n._sqlite3_value_numeric_type=ye.sqlite3_value_numeric_type)(e),n._sqlite3_set_authorizer=(e,t,r)=>(n._sqlite3_set_authorizer=ye.sqlite3_set_authorizer)(e,t,r),n._sqlite3_strglob=(e,t)=>(n._sqlite3_strglob=ye.sqlite3_strglob)(e,t),n._sqlite3_strlike=(e,t,r)=>(n._sqlite3_strlike=ye.sqlite3_strlike)(e,t,r),n._sqlite3_auto_extension=e=>(n._sqlite3_auto_extension=ye.sqlite3_auto_extension)(e),n._sqlite3_cancel_auto_extension=e=>(n._sqlite3_cancel_auto_extension=ye.sqlite3_cancel_auto_extension)(e),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=ye.sqlite3_reset_auto_extension)(),n._sqlite3_prepare_v3=(e,t,r,i,o,s)=>(n._sqlite3_prepare_v3=ye.sqlite3_prepare_v3)(e,t,r,i,o,s),n._sqlite3_create_module=(e,t,r,i)=>(n._sqlite3_create_module=ye.sqlite3_create_module)(e,t,r,i),n._sqlite3_create_module_v2=(e,t,r,i,o)=>(n._sqlite3_create_module_v2=ye.sqlite3_create_module_v2)(e,t,r,i,o),n._sqlite3_drop_modules=(e,t)=>(n._sqlite3_drop_modules=ye.sqlite3_drop_modules)(e,t),n._sqlite3_declare_vtab=(e,t)=>(n._sqlite3_declare_vtab=ye.sqlite3_declare_vtab)(e,t),n._sqlite3_vtab_on_conflict=e=>(n._sqlite3_vtab_on_conflict=ye.sqlite3_vtab_on_conflict)(e),n._sqlite3_vtab_collation=(e,t)=>(n._sqlite3_vtab_collation=ye.sqlite3_vtab_collation)(e,t),n._sqlite3_vtab_in=(e,t,r)=>(n._sqlite3_vtab_in=ye.sqlite3_vtab_in)(e,t,r),n._sqlite3_vtab_rhs_value=(e,t,r)=>(n._sqlite3_vtab_rhs_value=ye.sqlite3_vtab_rhs_value)(e,t,r),n._sqlite3_vtab_distinct=e=>(n._sqlite3_vtab_distinct=ye.sqlite3_vtab_distinct)(e),n._sqlite3_keyword_name=(e,t,r)=>(n._sqlite3_keyword_name=ye.sqlite3_keyword_name)(e,t,r),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=ye.sqlite3_keyword_count)(),n._sqlite3_keyword_check=(e,t)=>(n._sqlite3_keyword_check=ye.sqlite3_keyword_check)(e,t),n._sqlite3_complete=e=>(n._sqlite3_complete=ye.sqlite3_complete)(e),n._sqlite3_libversion=()=>(n._sqlite3_libversion=ye.sqlite3_libversion)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=ye.sqlite3_libversion_number)(),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=ye.sqlite3_shutdown)(),n._sqlite3_last_insert_rowid=e=>(n._sqlite3_last_insert_rowid=ye.sqlite3_last_insert_rowid)(e),n._sqlite3_set_last_insert_rowid=(e,t)=>(n._sqlite3_set_last_insert_rowid=ye.sqlite3_set_last_insert_rowid)(e,t),n._sqlite3_changes64=e=>(n._sqlite3_changes64=ye.sqlite3_changes64)(e),n._sqlite3_changes=e=>(n._sqlite3_changes=ye.sqlite3_changes)(e),n._sqlite3_total_changes64=e=>(n._sqlite3_total_changes64=ye.sqlite3_total_changes64)(e),n._sqlite3_total_changes=e=>(n._sqlite3_total_changes=ye.sqlite3_total_changes)(e),n._sqlite3_txn_state=(e,t)=>(n._sqlite3_txn_state=ye.sqlite3_txn_state)(e,t),n._sqlite3_close_v2=e=>(n._sqlite3_close_v2=ye.sqlite3_close_v2)(e),n._sqlite3_busy_handler=(e,t,r)=>(n._sqlite3_busy_handler=ye.sqlite3_busy_handler)(e,t,r),n._sqlite3_progress_handler=(e,t,r,i)=>(n._sqlite3_progress_handler=ye.sqlite3_progress_handler)(e,t,r,i),n._sqlite3_busy_timeout=(e,t)=>(n._sqlite3_busy_timeout=ye.sqlite3_busy_timeout)(e,t),n._sqlite3_create_function=(e,t,r,i,o,s,a,l)=>(n._sqlite3_create_function=ye.sqlite3_create_function)(e,t,r,i,o,s,a,l),n._sqlite3_create_function_v2=(e,t,r,i,o,s,a,l,c)=>(n._sqlite3_create_function_v2=ye.sqlite3_create_function_v2)(e,t,r,i,o,s,a,l,c),n._sqlite3_create_window_function=(e,t,r,i,o,s,a,l,c,u)=>(n._sqlite3_create_window_function=ye.sqlite3_create_window_function)(e,t,r,i,o,s,a,l,c,u),n._sqlite3_overload_function=(e,t,r)=>(n._sqlite3_overload_function=ye.sqlite3_overload_function)(e,t,r),n._sqlite3_trace_v2=(e,t,r,i)=>(n._sqlite3_trace_v2=ye.sqlite3_trace_v2)(e,t,r,i),n._sqlite3_commit_hook=(e,t,r)=>(n._sqlite3_commit_hook=ye.sqlite3_commit_hook)(e,t,r),n._sqlite3_update_hook=(e,t,r)=>(n._sqlite3_update_hook=ye.sqlite3_update_hook)(e,t,r),n._sqlite3_rollback_hook=(e,t,r)=>(n._sqlite3_rollback_hook=ye.sqlite3_rollback_hook)(e,t,r),n._sqlite3_preupdate_hook=(e,t,r)=>(n._sqlite3_preupdate_hook=ye.sqlite3_preupdate_hook)(e,t,r),n._sqlite3_error_offset=e=>(n._sqlite3_error_offset=ye.sqlite3_error_offset)(e),n._sqlite3_errcode=e=>(n._sqlite3_errcode=ye.sqlite3_errcode)(e),n._sqlite3_extended_errcode=e=>(n._sqlite3_extended_errcode=ye.sqlite3_extended_errcode)(e),n._sqlite3_errstr=e=>(n._sqlite3_errstr=ye.sqlite3_errstr)(e),n._sqlite3_limit=(e,t,r)=>(n._sqlite3_limit=ye.sqlite3_limit)(e,t,r),n._sqlite3_open=(e,t)=>(n._sqlite3_open=ye.sqlite3_open)(e,t),n._sqlite3_open_v2=(e,t,r,i)=>(n._sqlite3_open_v2=ye.sqlite3_open_v2)(e,t,r,i),n._sqlite3_create_collation=(e,t,r,i,o)=>(n._sqlite3_create_collation=ye.sqlite3_create_collation)(e,t,r,i,o),n._sqlite3_create_collation_v2=(e,t,r,i,o,s)=>(n._sqlite3_create_collation_v2=ye.sqlite3_create_collation_v2)(e,t,r,i,o,s),n._sqlite3_collation_needed=(e,t,r)=>(n._sqlite3_collation_needed=ye.sqlite3_collation_needed)(e,t,r),n._sqlite3_get_autocommit=e=>(n._sqlite3_get_autocommit=ye.sqlite3_get_autocommit)(e),n._sqlite3_table_column_metadata=(e,t,r,i,o,s,a,l,c)=>(n._sqlite3_table_column_metadata=ye.sqlite3_table_column_metadata)(e,t,r,i,o,s,a,l,c),n._sqlite3_extended_result_codes=(e,t)=>(n._sqlite3_extended_result_codes=ye.sqlite3_extended_result_codes)(e,t),n._sqlite3_uri_key=(e,t)=>(n._sqlite3_uri_key=ye.sqlite3_uri_key)(e,t),n._sqlite3_uri_int64=(e,t,r)=>(n._sqlite3_uri_int64=ye.sqlite3_uri_int64)(e,t,r),n._sqlite3_db_name=(e,t)=>(n._sqlite3_db_name=ye.sqlite3_db_name)(e,t),n._sqlite3_db_filename=(e,t)=>(n._sqlite3_db_filename=ye.sqlite3_db_filename)(e,t),n._sqlite3_compileoption_used=e=>(n._sqlite3_compileoption_used=ye.sqlite3_compileoption_used)(e),n._sqlite3_compileoption_get=e=>(n._sqlite3_compileoption_get=ye.sqlite3_compileoption_get)(e),n._sqlite3session_diff=(e,t,r,i)=>(n._sqlite3session_diff=ye.sqlite3session_diff)(e,t,r,i),n._sqlite3session_attach=(e,t)=>(n._sqlite3session_attach=ye.sqlite3session_attach)(e,t),n._sqlite3session_create=(e,t,r)=>(n._sqlite3session_create=ye.sqlite3session_create)(e,t,r),n._sqlite3session_delete=e=>(n._sqlite3session_delete=ye.sqlite3session_delete)(e),n._sqlite3session_table_filter=(e,t,r)=>(n._sqlite3session_table_filter=ye.sqlite3session_table_filter)(e,t,r),n._sqlite3session_changeset=(e,t,r)=>(n._sqlite3session_changeset=ye.sqlite3session_changeset)(e,t,r),n._sqlite3session_changeset_strm=(e,t,r)=>(n._sqlite3session_changeset_strm=ye.sqlite3session_changeset_strm)(e,t,r),n._sqlite3session_patchset_strm=(e,t,r)=>(n._sqlite3session_patchset_strm=ye.sqlite3session_patchset_strm)(e,t,r),n._sqlite3session_patchset=(e,t,r)=>(n._sqlite3session_patchset=ye.sqlite3session_patchset)(e,t,r),n._sqlite3session_enable=(e,t)=>(n._sqlite3session_enable=ye.sqlite3session_enable)(e,t),n._sqlite3session_indirect=(e,t)=>(n._sqlite3session_indirect=ye.sqlite3session_indirect)(e,t),n._sqlite3session_isempty=e=>(n._sqlite3session_isempty=ye.sqlite3session_isempty)(e),n._sqlite3session_memory_used=e=>(n._sqlite3session_memory_used=ye.sqlite3session_memory_used)(e),n._sqlite3session_object_config=(e,t,r)=>(n._sqlite3session_object_config=ye.sqlite3session_object_config)(e,t,r),n._sqlite3session_changeset_size=e=>(n._sqlite3session_changeset_size=ye.sqlite3session_changeset_size)(e),n._sqlite3changeset_start=(e,t,r)=>(n._sqlite3changeset_start=ye.sqlite3changeset_start)(e,t,r),n._sqlite3changeset_start_v2=(e,t,r,i)=>(n._sqlite3changeset_start_v2=ye.sqlite3changeset_start_v2)(e,t,r,i),n._sqlite3changeset_start_strm=(e,t,r)=>(n._sqlite3changeset_start_strm=ye.sqlite3changeset_start_strm)(e,t,r),n._sqlite3changeset_start_v2_strm=(e,t,r,i)=>(n._sqlite3changeset_start_v2_strm=ye.sqlite3changeset_start_v2_strm)(e,t,r,i),n._sqlite3changeset_next=e=>(n._sqlite3changeset_next=ye.sqlite3changeset_next)(e),n._sqlite3changeset_op=(e,t,r,i,o)=>(n._sqlite3changeset_op=ye.sqlite3changeset_op)(e,t,r,i,o),n._sqlite3changeset_pk=(e,t,r)=>(n._sqlite3changeset_pk=ye.sqlite3changeset_pk)(e,t,r),n._sqlite3changeset_old=(e,t,r)=>(n._sqlite3changeset_old=ye.sqlite3changeset_old)(e,t,r),n._sqlite3changeset_new=(e,t,r)=>(n._sqlite3changeset_new=ye.sqlite3changeset_new)(e,t,r),n._sqlite3changeset_conflict=(e,t,r)=>(n._sqlite3changeset_conflict=ye.sqlite3changeset_conflict)(e,t,r),n._sqlite3changeset_fk_conflicts=(e,t)=>(n._sqlite3changeset_fk_conflicts=ye.sqlite3changeset_fk_conflicts)(e,t),n._sqlite3changeset_finalize=e=>(n._sqlite3changeset_finalize=ye.sqlite3changeset_finalize)(e),n._sqlite3changeset_invert=(e,t,r,i)=>(n._sqlite3changeset_invert=ye.sqlite3changeset_invert)(e,t,r,i),n._sqlite3changeset_invert_strm=(e,t,r,i)=>(n._sqlite3changeset_invert_strm=ye.sqlite3changeset_invert_strm)(e,t,r,i),n._sqlite3changeset_apply_v2=(e,t,r,i,o,s,a,l,c)=>(n._sqlite3changeset_apply_v2=ye.sqlite3changeset_apply_v2)(e,t,r,i,o,s,a,l,c),n._sqlite3changeset_apply=(e,t,r,i,o,s)=>(n._sqlite3changeset_apply=ye.sqlite3changeset_apply)(e,t,r,i,o,s),n._sqlite3changeset_apply_v2_strm=(e,t,r,i,o,s,a,l,c)=>(n._sqlite3changeset_apply_v2_strm=ye.sqlite3changeset_apply_v2_strm)(e,t,r,i,o,s,a,l,c),n._sqlite3changeset_apply_strm=(e,t,r,i,o,s)=>(n._sqlite3changeset_apply_strm=ye.sqlite3changeset_apply_strm)(e,t,r,i,o,s),n._sqlite3changegroup_new=e=>(n._sqlite3changegroup_new=ye.sqlite3changegroup_new)(e),n._sqlite3changegroup_add=(e,t,r)=>(n._sqlite3changegroup_add=ye.sqlite3changegroup_add)(e,t,r),n._sqlite3changegroup_output=(e,t,r)=>(n._sqlite3changegroup_output=ye.sqlite3changegroup_output)(e,t,r),n._sqlite3changegroup_add_strm=(e,t,r)=>(n._sqlite3changegroup_add_strm=ye.sqlite3changegroup_add_strm)(e,t,r),n._sqlite3changegroup_output_strm=(e,t,r)=>(n._sqlite3changegroup_output_strm=ye.sqlite3changegroup_output_strm)(e,t,r),n._sqlite3changegroup_delete=e=>(n._sqlite3changegroup_delete=ye.sqlite3changegroup_delete)(e),n._sqlite3changeset_concat=(e,t,r,i,o,s)=>(n._sqlite3changeset_concat=ye.sqlite3changeset_concat)(e,t,r,i,o,s),n._sqlite3changeset_concat_strm=(e,t,r,i,o,s)=>(n._sqlite3changeset_concat_strm=ye.sqlite3changeset_concat_strm)(e,t,r,i,o,s),n._sqlite3session_config=(e,t)=>(n._sqlite3session_config=ye.sqlite3session_config)(e,t),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=ye.sqlite3_sourceid)(),n._sqlite3_wasm_pstack_ptr=()=>(n._sqlite3_wasm_pstack_ptr=ye.sqlite3_wasm_pstack_ptr)(),n._sqlite3_wasm_pstack_restore=e=>(n._sqlite3_wasm_pstack_restore=ye.sqlite3_wasm_pstack_restore)(e),n._sqlite3_wasm_pstack_alloc=e=>(n._sqlite3_wasm_pstack_alloc=ye.sqlite3_wasm_pstack_alloc)(e),n._sqlite3_wasm_pstack_remaining=()=>(n._sqlite3_wasm_pstack_remaining=ye.sqlite3_wasm_pstack_remaining)(),n._sqlite3_wasm_pstack_quota=()=>(n._sqlite3_wasm_pstack_quota=ye.sqlite3_wasm_pstack_quota)(),n._sqlite3_wasm_db_error=(e,t,r)=>(n._sqlite3_wasm_db_error=ye.sqlite3_wasm_db_error)(e,t,r),n._sqlite3_wasm_test_struct=e=>(n._sqlite3_wasm_test_struct=ye.sqlite3_wasm_test_struct)(e),n._sqlite3_wasm_enum_json=()=>(n._sqlite3_wasm_enum_json=ye.sqlite3_wasm_enum_json)(),n._sqlite3_wasm_vfs_unlink=(e,t)=>(n._sqlite3_wasm_vfs_unlink=ye.sqlite3_wasm_vfs_unlink)(e,t),n._sqlite3_wasm_db_vfs=(e,t)=>(n._sqlite3_wasm_db_vfs=ye.sqlite3_wasm_db_vfs)(e,t),n._sqlite3_wasm_db_reset=e=>(n._sqlite3_wasm_db_reset=ye.sqlite3_wasm_db_reset)(e),n._sqlite3_wasm_db_export_chunked=(e,t)=>(n._sqlite3_wasm_db_export_chunked=ye.sqlite3_wasm_db_export_chunked)(e,t),n._sqlite3_wasm_db_serialize=(e,t,r,i,o)=>(n._sqlite3_wasm_db_serialize=ye.sqlite3_wasm_db_serialize)(e,t,r,i,o),n._sqlite3_wasm_vfs_create_file=(e,t,r,i)=>(n._sqlite3_wasm_vfs_create_file=ye.sqlite3_wasm_vfs_create_file)(e,t,r,i),n._sqlite3_wasm_posix_create_file=(e,t,r)=>(n._sqlite3_wasm_posix_create_file=ye.sqlite3_wasm_posix_create_file)(e,t,r),n._sqlite3_wasm_kvvfsMakeKeyOnPstack=(e,t)=>(n._sqlite3_wasm_kvvfsMakeKeyOnPstack=ye.sqlite3_wasm_kvvfsMakeKeyOnPstack)(e,t),n._sqlite3_wasm_kvvfs_methods=()=>(n._sqlite3_wasm_kvvfs_methods=ye.sqlite3_wasm_kvvfs_methods)(),n._sqlite3_wasm_vtab_config=(e,t,r)=>(n._sqlite3_wasm_vtab_config=ye.sqlite3_wasm_vtab_config)(e,t,r),n._sqlite3_wasm_db_config_ip=(e,t,r,i)=>(n._sqlite3_wasm_db_config_ip=ye.sqlite3_wasm_db_config_ip)(e,t,r,i),n._sqlite3_wasm_db_config_pii=(e,t,r,i,o)=>(n._sqlite3_wasm_db_config_pii=ye.sqlite3_wasm_db_config_pii)(e,t,r,i,o),n._sqlite3_wasm_db_config_s=(e,t,r)=>(n._sqlite3_wasm_db_config_s=ye.sqlite3_wasm_db_config_s)(e,t,r),n._sqlite3_wasm_config_i=(e,t)=>(n._sqlite3_wasm_config_i=ye.sqlite3_wasm_config_i)(e,t),n._sqlite3_wasm_config_ii=(e,t,r)=>(n._sqlite3_wasm_config_ii=ye.sqlite3_wasm_config_ii)(e,t,r),n._sqlite3_wasm_config_j=(e,t)=>(n._sqlite3_wasm_config_j=ye.sqlite3_wasm_config_j)(e,t),n._sqlite3_wasm_init_wasmfs=e=>(n._sqlite3_wasm_init_wasmfs=ye.sqlite3_wasm_init_wasmfs)(e),n._sqlite3_wasm_test_intptr=e=>(n._sqlite3_wasm_test_intptr=ye.sqlite3_wasm_test_intptr)(e),n._sqlite3_wasm_test_voidptr=e=>(n._sqlite3_wasm_test_voidptr=ye.sqlite3_wasm_test_voidptr)(e),n._sqlite3_wasm_test_int64_max=()=>(n._sqlite3_wasm_test_int64_max=ye.sqlite3_wasm_test_int64_max)(),n._sqlite3_wasm_test_int64_min=()=>(n._sqlite3_wasm_test_int64_min=ye.sqlite3_wasm_test_int64_min)(),n._sqlite3_wasm_test_int64_times2=e=>(n._sqlite3_wasm_test_int64_times2=ye.sqlite3_wasm_test_int64_times2)(e),n._sqlite3_wasm_test_int64_minmax=(e,t)=>(n._sqlite3_wasm_test_int64_minmax=ye.sqlite3_wasm_test_int64_minmax)(e,t),n._sqlite3_wasm_test_int64ptr=e=>(n._sqlite3_wasm_test_int64ptr=ye.sqlite3_wasm_test_int64ptr)(e),n._sqlite3_wasm_test_stack_overflow=e=>(n._sqlite3_wasm_test_stack_overflow=ye.sqlite3_wasm_test_stack_overflow)(e),n._sqlite3_wasm_test_str_hello=e=>(n._sqlite3_wasm_test_str_hello=ye.sqlite3_wasm_test_str_hello)(e),n._sqlite3_wasm_SQLTester_strglob=(e,t)=>(n._sqlite3_wasm_SQLTester_strglob=ye.sqlite3_wasm_SQLTester_strglob)(e,t),n._malloc=e=>(n._malloc=ye.malloc)(e),n._free=e=>(n._free=ye.free)(e),n._realloc=(e,t)=>(n._realloc=ye.realloc)(e,t);var be,we=(e,t)=>(we=ye.emscripten_builtin_memalign)(e,t);function ve(){function e(){be||(be=!0,n.calledRun=!0,A||(n.noFSInit||ie.init.initialized||ie.init(),ie.ignorePermissions=!1,z(O),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),L.unshift(e);var e;z(L)}()))}P>0||(!function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)e=n.preRun.shift(),T.unshift(e);var e;z(T)}(),P>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),e()}),1)):e()))}if(n.wasmMemory=m,F=function e(){be||ve(),be||(F=e)},n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return ve(),n.postRun||(n.postRun=[]),n.postRun.push((function(e){if(globalThis.sqlite3ApiBootstrap=function t(r=globalThis.sqlite3ApiConfig||t.defaultConfig){if(t.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),t.sqlite3;const n=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:void 0!==e?!!e.HEAPU64:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},r||{});Object.assign(n,{allocExportName:n.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:n.useStdAlloc?"free":"sqlite3_free",reallocExportName:n.useStdAlloc?"realloc":"sqlite3_realloc"},n),["exports","memory","wasmfsOpfsDir"].forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e]())}));const i=Object.create(null),o=Object.create(null),s=e=>i.sqlite3_js_rc_str&&i.sqlite3_js_rc_str(e)||"Unknown result code #"+e;class a extends Error{constructor(...e){let t;if(e.length)if("number"==typeof(r=e[0])&&r===(0|r))if(t=e[0],1===e.length)super(s(e[0]));else{const r=s(t);"object"==typeof e[1]?super(r,e[1]):(e[0]=r+":",super(e.join(" ")))}else 2===e.length&&"object"==typeof e[1]?super(...e):super(e.join(" "));var r;this.resultCode=t||i.SQLITE_ERROR,this.name="SQLite3Error"}}a.toss=(...e)=>{throw new a(...e)};const l=a.toss;n.wasmfsOpfsDir&&!/^\/[^/]+$/.test(n.wasmfsOpfsDir)&&l("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const c=e=>"bigint"!=typeof e&&!!(e===(0|e)&&e<=2147483647&&e>=-2147483648),u="undefined"==typeof SharedArrayBuffer?function(){}:SharedArrayBuffer,f=e=>e.buffer instanceof u,p=(e,t,r)=>f(e)?e.slice(t,r):e.subarray(t,r),d=e=>e&&(e instanceof Uint8Array||e instanceof Int8Array||e instanceof ArrayBuffer),h=e=>e&&(e instanceof Uint8Array||e instanceof Int8Array||e instanceof ArrayBuffer),_=e=>d(e)||l("Value is not of a supported TypedArray type."),m=new TextDecoder("utf-8"),g=function(e,t,r){return m.decode(p(e,t,r))},y=function(e){return h(e)?g(e instanceof ArrayBuffer?new Uint8Array(e):e):Array.isArray(e)?e.join(""):(o.isPtr(e)&&(e=o.cstrToJs(e)),e)};class b extends Error{constructor(...e){2===e.length&&"object"==typeof e[1]?super(...e):e.length?super(e.join(" ")):super("Allocation failed."),this.resultCode=i.SQLITE_NOMEM,this.name="WasmAllocError"}}b.toss=(...e)=>{throw new b(...e)},Object.assign(i,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(e,t,r,n,i,o,s,a,l)=>{},sqlite3_create_function:(e,t,r,n,i,o,s,a)=>{},sqlite3_create_window_function:(e,t,r,n,i,o,s,a,l,c)=>{},sqlite3_prepare_v3:(e,t,r,n,i,o)=>{},sqlite3_prepare_v2:(e,t,r,n,i)=>{},sqlite3_exec:(e,t,r,n,i)=>{},sqlite3_randomness:(e,t)=>{}});const w={affirmBindableTypedArray:_,flexibleString:y,bigIntFits32:e=>e>=-2147483648n&&e<=0x7fffffffn,bigIntFits64:function e(t){return e._max||(e._max=BigInt("0x7fffffffffffffff"),e._min=~e._max),t>=e._min&&t<=e._max},bigIntFitsDouble:function e(t){return e._min||(e._min=Number.MIN_SAFE_INTEGER,e._max=Number.MAX_SAFE_INTEGER),t>=e._min&&t<=e._max},isBindableTypedArray:d,isInt32:c,isSQLableTypedArray:h,isTypedArray:e=>!!(e&&e.constructor&&c(e.constructor.BYTES_PER_ELEMENT))&&e,typedArrayToString:g,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:f,toss:function(...e){throw new Error(e.join(" "))},toss3:l,typedArrayPart:p,affirmDbHeader:function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));const t="SQLite format 3";15>e.byteLength&&l("Input does not contain an SQLite3 database header.");for(let r=0;r<15;++r)t.charCodeAt(r)!==e[r]&&l("Input does not contain an SQLite3 database header.")},affirmIsDb:function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));const t=e.byteLength;(t<512||t%512!=0)&&l("Byte array size",t,"is invalid for an SQLite3 db."),w.affirmDbHeader(e)}};Object.assign(o,{ptrSizeof:n.wasmPtrSizeof||4,ptrIR:n.wasmPtrIR||"i32",bigIntEnabled:!!n.bigIntEnabled,exports:n.exports||l("Missing API config.exports (WASM module exports)."),memory:n.memory||n.exports.memory||l("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),o.allocFromTypedArray=function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e)),_(e);const t=o.alloc(e.byteLength||1);return o.heapForSize(e.constructor).set(e.byteLength?e:[0],t),t};{const e=n.allocExportName,t=n.deallocExportName,r=n.reallocExportName;for(const n of[e,t,r]){o.exports[n]instanceof Function||l("Missing required exports[",n,"] function.")}o.alloc=function e(t){return e.impl(t)||b.toss("Failed to allocate",t," bytes.")},o.alloc.impl=o.exports[e],o.realloc=function e(t,r){const n=e.impl(t,r);return r?n||b.toss("Failed to reallocate",r," bytes."):0},o.realloc.impl=o.exports[r],o.dealloc=o.exports[t]}let q;if(o.compileOptionUsed=function e(t){if(!arguments.length){if(e._result)return e._result;e._opt||(e._rx=/^([^=]+)=(.+)/,e._rxInt=/^-?\d+$/,e._opt=function(t,r){const n=e._rx.exec(t);r[0]=n?n[1]:t,r[1]=!n||(e._rxInt.test(n[2])?+n[2]:n[2])});const t={},r=[0,0];let n,o=0;for(;n=i.sqlite3_compileoption_get(o++);)e._opt(n,r),t[r[0]]=r[1];return e._result=t}if(Array.isArray(t)){const e={};return t.forEach((t=>{e[t]=i.sqlite3_compileoption_used(t)})),e}return"object"==typeof t?(Object.keys(t).forEach((e=>{t[e]=i.sqlite3_compileoption_used(e)})),t):"string"==typeof t&&!!i.sqlite3_compileoption_used(t)},o.pstack=Object.assign(Object.create(null),{restore:o.exports.sqlite3_wasm_pstack_restore,alloc:function(e){return"string"!=typeof e||(e=o.sizeofIR(e))||b.toss("Invalid value for pstack.alloc(",arguments[0],")"),o.exports.sqlite3_wasm_pstack_alloc(e)||b.toss("Could not allocate",e,"bytes from the pstack.")},allocChunks:function(e,t){"string"!=typeof t||(t=o.sizeofIR(t))||b.toss("Invalid size value for allocChunks(",arguments[1],")");const r=o.pstack.alloc(e*t),n=[];let i=0,s=0;for(;i<e;++i,s+=t)n.push(r+s);return n},allocPtr:(e=1,t=!0)=>1===e?o.pstack.alloc(t?8:o.ptrSizeof):o.pstack.allocChunks(e,t?8:o.ptrSizeof),call:function(e){const t=o.pstack.pointer;try{return e(S)}finally{o.pstack.restore(t)}}}),Object.defineProperties(o.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:o.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:o.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:o.exports.sqlite3_wasm_pstack_remaining}}),i.sqlite3_randomness=(...e)=>{if(1===e.length&&w.isTypedArray(e[0])&&1===e[0].BYTES_PER_ELEMENT){const t=e[0];if(0===t.byteLength)return o.exports.sqlite3_randomness(0,0),t;const r=o.pstack.pointer;try{let e=t.byteLength,r=0;const n=o.exports.sqlite3_randomness,i=o.heap8u(),s=e<512?e:512,a=o.pstack.alloc(s);do{const o=e>s?s:e;n(o,a),t.set(p(i,a,a+o),r),e-=o,r+=o}while(e>0)}catch(yo){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",yo)}finally{o.pstack.restore(r)}return t}o.exports.sqlite3_randomness(...e)},i.sqlite3_wasmfs_opfs_dir=function(){if(void 0!==q)return q;const e=n.wasmfsOpfsDir;if(!(e&&globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle))return q="";try{return q=e&&0===o.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],e)?e:""}catch(yo){return q=""}},i.sqlite3_wasmfs_filename_is_persistent=function(e){const t=i.sqlite3_wasmfs_opfs_dir();return!(!t||!e)&&e.startsWith(t+"/")},i.sqlite3_js_db_uses_vfs=function(e,t,r=0){try{const n=i.sqlite3_vfs_find(t);return!!n&&(e?n===i.sqlite3_js_db_vfs(e,r)&&n:n===i.sqlite3_vfs_find(0)&&n)}catch(yo){return!1}},i.sqlite3_js_vfs_list=function(){const e=[];let t=i.sqlite3_vfs_find(0);for(;t;){const r=new i.sqlite3_vfs(t);e.push(o.cstrToJs(r.$zName)),t=r.$pNext,r.dispose()}return e},i.sqlite3_js_db_export=function(e,t=0){(e=o.xWrap.testConvertArg("sqlite3*",e))||l("Invalid sqlite3* argument."),o.bigIntEnabled||l("BigInt64 support is not enabled.");const r=o.scopedAllocPush();let n;try{const r=o.scopedAlloc(8+o.ptrSizeof),i=r+8,s=t?o.isPtr(t)?t:o.scopedAllocCString(""+t):0;let a=o.exports.sqlite3_wasm_db_serialize(e,s,i,r,0);a&&l("Database serialization failed with code",S.capi.sqlite3_js_rc_str(a)),n=o.peekPtr(i);const c=o.peek(r,"i64");return a=c?o.heap8u().slice(n,n+Number(c)):new Uint8Array,a}finally{n&&o.exports.sqlite3_free(n),o.scopedAllocPop(r)}},i.sqlite3_js_db_vfs=(e,t=0)=>o.sqlite3_wasm_db_vfs(e,t),i.sqlite3_js_aggregate_context=(e,t)=>i.sqlite3_aggregate_context(e,t)||(t?b.toss("Cannot allocate",t,"bytes for sqlite3_aggregate_context()"):0),i.sqlite3_js_posix_create_file=function(e,t,r){let n;t&&o.isPtr(t)?n=t:t instanceof ArrayBuffer||t instanceof Uint8Array?(n=o.allocFromTypedArray(t),(arguments.length<3||!w.isInt32(r)||r<0)&&(r=t.byteLength)):a.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!w.isInt32(r)||r<0)&&a.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const t=o.sqlite3_wasm_posix_create_file(e,n,r);t&&a.toss("Creation of file failed with sqlite3 result code",i.sqlite3_js_rc_str(t))}finally{o.dealloc(n)}},i.sqlite3_js_vfs_create_file=function(e,t,r,s){let l;n.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options."),r?(o.isPtr(r)?l=r:r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array?(l=o.allocFromTypedArray(r),(arguments.length<4||!w.isInt32(s)||s<0)&&(s=r.byteLength)):a.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):l=0,(!w.isInt32(s)||s<0)&&(o.dealloc(l),a.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const r=o.sqlite3_wasm_vfs_create_file(e,t,l,s);r&&a.toss("Creation of file failed with sqlite3 result code",i.sqlite3_js_rc_str(r))}finally{o.dealloc(l)}},i.sqlite3_js_sql_to_string=e=>{if("string"==typeof e)return e;const t=y(v);return t===v?void 0:t},w.isUIThread()){const e=function(e){const t=Object.create(null);return t.prefix="kvvfs-"+e,t.stores=[],"session"!==e&&""!==e||t.stores.push(globalThis.sessionStorage),"local"!==e&&""!==e||t.stores.push(globalThis.localStorage),t};i.sqlite3_js_kvvfs_clear=function(t=""){let r=0;const n=e(t);return n.stores.forEach((e=>{const t=[];let i;for(i=0;i<e.length;++i){const r=e.key(i);r.startsWith(n.prefix)&&t.push(r)}t.forEach((t=>e.removeItem(t))),r+=t.length})),r},i.sqlite3_js_kvvfs_size=function(t=""){let r=0;const n=e(t);return n.stores.forEach((e=>{let t;for(t=0;t<e.length;++t){const i=e.key(t);i.startsWith(n.prefix)&&(r+=i.length,r+=e.getItem(i).length)}})),2*r}}i.sqlite3_db_config=function(e,t,...r){switch(this.s||(this.s=o.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=o.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=o.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"])),t){case i.SQLITE_DBCONFIG_ENABLE_FKEY:case i.SQLITE_DBCONFIG_ENABLE_TRIGGER:case i.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case i.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case i.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case i.SQLITE_DBCONFIG_ENABLE_QPSG:case i.SQLITE_DBCONFIG_TRIGGER_EQP:case i.SQLITE_DBCONFIG_RESET_DATABASE:case i.SQLITE_DBCONFIG_DEFENSIVE:case i.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case i.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case i.SQLITE_DBCONFIG_DQS_DML:case i.SQLITE_DBCONFIG_DQS_DDL:case i.SQLITE_DBCONFIG_ENABLE_VIEW:case i.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case i.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case i.SQLITE_DBCONFIG_STMT_SCANSTATUS:case i.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(e,t,r[0],r[1]||0);case i.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(e,t,r[0],r[1],r[2]);case i.SQLITE_DBCONFIG_MAINDBNAME:return this.s(e,t,r[0]);default:return i.SQLITE_MISUSE}}.bind(Object.create(null)),i.sqlite3_value_to_js=function(e,t=!0){let r;const n=i.sqlite3_value_type(e);switch(n){case i.SQLITE_INTEGER:o.bigIntEnabled?(r=i.sqlite3_value_int64(e),w.bigIntFitsDouble(r)&&(r=Number(r))):r=i.sqlite3_value_double(e);break;case i.SQLITE_FLOAT:r=i.sqlite3_value_double(e);break;case i.SQLITE_TEXT:r=i.sqlite3_value_text(e);break;case i.SQLITE_BLOB:{const t=i.sqlite3_value_bytes(e),n=i.sqlite3_value_blob(e);t&&!n&&S.WasmAllocError.toss("Cannot allocate memory for blob argument of",t,"byte(s)"),r=t?o.heap8u().slice(n,n+Number(t)):null;break}case i.SQLITE_NULL:r=null;break;default:t&&l(i.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",n),r=void 0}return r},i.sqlite3_values_to_js=function(e,t,r=!0){let n;const s=[];for(n=0;n<e;++n)s.push(i.sqlite3_value_to_js(o.peekPtr(t+o.ptrSizeof*n),r));return s},i.sqlite3_result_error_js=function(e,t){t instanceof b?i.sqlite3_result_error_nomem(e):i.sqlite3_result_error(e,""+t,-1)},i.sqlite3_result_js=function(e,t){if(t instanceof Error)i.sqlite3_result_error_js(e,t);else try{switch(typeof t){case"undefined":break;case"boolean":i.sqlite3_result_int(e,t?1:0);break;case"bigint":w.bigIntFits32(t)?i.sqlite3_result_int(e,Number(t)):w.bigIntFitsDouble(t)?i.sqlite3_result_double(e,Number(t)):o.bigIntEnabled?w.bigIntFits64(t)?i.sqlite3_result_int64(e,t):l("BigInt value",t.toString(),"is too BigInt for int64."):l("BigInt value",t.toString(),"is too BigInt.");break;case"number":{let r;r=w.isInt32(t)?i.sqlite3_result_int:o.bigIntEnabled&&Number.isInteger(t)&&w.bigIntFits64(BigInt(t))?i.sqlite3_result_int64:i.sqlite3_result_double,r(e,t);break}case"string":{const[r,n]=o.allocCString(t,!0);i.sqlite3_result_text(e,r,n,i.SQLITE_WASM_DEALLOC);break}case"object":if(null===t){i.sqlite3_result_null(e);break}if(w.isBindableTypedArray(t)){const r=o.allocFromTypedArray(t);i.sqlite3_result_blob(e,r,t.byteLength,i.SQLITE_WASM_DEALLOC);break}default:l("Don't not how to handle this UDF result value:",typeof t,t)}}catch(yo){i.sqlite3_result_error_js(e,yo)}},i.sqlite3_column_js=function(e,t,r=!0){const n=i.sqlite3_column_value(e,t);return 0===n?void 0:i.sqlite3_value_to_js(n,r)};const E=function(e,t,r){r=i[r],this.ptr?o.pokePtr(this.ptr,0):this.ptr=o.allocPtr();const n=r(e,t,this.ptr);if(n)return a.toss(n,arguments[2]+"() failed with code "+n);const s=o.peekPtr(this.ptr);return s?i.sqlite3_value_to_js(s,!0):void 0}.bind(Object.create(null));i.sqlite3_preupdate_new_js=(e,t)=>E(e,t,"sqlite3_preupdate_new"),i.sqlite3_preupdate_old_js=(e,t)=>E(e,t,"sqlite3_preupdate_old"),i.sqlite3changeset_new_js=(e,t)=>E(e,t,"sqlite3changeset_new"),i.sqlite3changeset_old_js=(e,t)=>E(e,t,"sqlite3changeset_old");const S={WasmAllocError:b,SQLite3Error:a,capi:i,util:w,wasm:o,config:n,version:Object.create(null),client:void 0,asyncPostInit:async function e(){if(e.isReady instanceof Promise)return e.isReady;let r=t.initializersAsync;delete t.initializersAsync;const i=async()=>(S.__isUnderTest||(delete S.util,delete S.StructBinder),S),o=e=>{throw n.error("an async sqlite3 initializer failed:",e),e};if(!r||!r.length)return e.isReady=i().catch(o);r=r.map((e=>e instanceof Function?async t=>e(S):e)),r.push(i);let s=Promise.resolve(S);for(;r.length;)s=s.then(r.shift());return e.isReady=s.catch(o)},scriptInfo:void 0};try{t.initializers.forEach((e=>{e(S)}))}catch(yo){throw console.error("sqlite3 bootstrap initializer threw:",yo),yo}return delete t.initializers,t.sqlite3=S,S},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(e){void 0===e.bigIntEnabled&&(e.bigIntEnabled=!!globalThis.BigInt64Array);const t=(...e)=>{throw new Error(e.join(" "))};e.exports||Object.defineProperty(e,"exports",{enumerable:!0,configurable:!0,get:()=>e.instance&&e.instance.exports});const r=e.pointerIR||"i32",n=e.ptrSizeof="i32"===r?4:"i64"===r?8:t("Unhandled ptrSizeof:",r),i=Object.create(null);i.heapSize=0,i.memory=null,i.freeFuncIndexes=[],i.scopedAlloc=[],i.utf8Decoder=new TextDecoder,i.utf8Encoder=new TextEncoder("utf-8"),e.sizeofIR=e=>{switch(e){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return n;default:return(""+e).endsWith("*")?n:void 0}};const o=function(){if(i.memory){if(i.heapSize===i.memory.buffer.byteLength)return i}else i.memory=e.memory instanceof WebAssembly.Memory?e.memory:e.exports.memory;const t=i.memory.buffer;return i.HEAP8=new Int8Array(t),i.HEAP8U=new Uint8Array(t),i.HEAP16=new Int16Array(t),i.HEAP16U=new Uint16Array(t),i.HEAP32=new Int32Array(t),i.HEAP32U=new Uint32Array(t),e.bigIntEnabled&&(i.HEAP64=new BigInt64Array(t),i.HEAP64U=new BigUint64Array(t)),i.HEAP32F=new Float32Array(t),i.HEAP64F=new Float64Array(t),i.heapSize=t.byteLength,i};e.heap8=()=>o().HEAP8,e.heap8u=()=>o().HEAP8U,e.heap16=()=>o().HEAP16,e.heap16u=()=>o().HEAP16U,e.heap32=()=>o().HEAP32,e.heap32u=()=>o().HEAP32U,e.heapForSize=function(r,n=!0){const s=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:o();switch(r){case Int8Array:return s.HEAP8;case Uint8Array:return s.HEAP8U;case Int16Array:return s.HEAP16;case Uint16Array:return s.HEAP16U;case Int32Array:return s.HEAP32;case Uint32Array:return s.HEAP32U;case 8:return n?s.HEAP8U:s.HEAP8;case 16:return n?s.HEAP16U:s.HEAP16;case 32:return n?s.HEAP32U:s.HEAP32;case 64:if(s.HEAP64)return n?s.HEAP64U:s.HEAP64;break;default:if(e.bigIntEnabled){if(r===globalThis.BigUint64Array)return s.HEAP64U;if(r===globalThis.BigInt64Array)return s.HEAP64;break}}t("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},e.functionTable=function(){return e.exports.__indirect_function_table},e.functionEntry=function(t){const r=e.functionTable();return t<r.length?r.get(t):void 0},e.jsFuncToWasm=function e(r,n){if(e._||(e._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(e,t,r){r<128?e[t](r):e[t](r%128|128,r>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(t){const r=e._.rxJSig.exec(t);return r?r[2]:t.substr(1)},letterType:r=>e._.sigTypes[r]||t("Invalid signature letter:",r),pushSigType:(t,r)=>t.push(e._.typeCodes[e._.letterType(r)])}),"string"==typeof r){const e=n;n=r,r=e}const i=e._.sigParams(n),o=[1,96];e._.uleb128Encode(o,"push",i.length);for(const t of i)e._.pushSigType(o,t);return"v"===n[0]?o.push(0):(o.push(1),e._.pushSigType(o,n[0])),e._.uleb128Encode(o,"unshift",o.length),o.unshift(0,97,115,109,1,0,0,0,1),o.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(o)),{e:{f:r}}).exports.f};const s=function(r,n,o){if(o&&!i.scopedAlloc.length&&t("No scopedAllocPush() scope is active."),"string"==typeof r){const e=n;n=r,r=e}"string"==typeof n&&r instanceof Function||t("Invalid arguments: expecting (function,signature) or (signature,function).");const s=e.functionTable(),a=s.length;let l;for(;i.freeFuncIndexes.length&&(l=i.freeFuncIndexes.pop(),s.get(l));)l=null;l||(l=a,s.grow(1));try{return s.set(l,r),o&&i.scopedAlloc[i.scopedAlloc.length-1].push(l),l}catch(yo){if(!(yo instanceof TypeError))throw l===a&&i.freeFuncIndexes.push(a),yo}try{const t=e.jsFuncToWasm(r,n);s.set(l,t),o&&i.scopedAlloc[i.scopedAlloc.length-1].push(l)}catch(yo){throw l===a&&i.freeFuncIndexes.push(a),yo}return l};e.installFunction=(e,t)=>s(e,t,!1),e.scopedInstallFunction=(e,t)=>s(e,t,!0),e.uninstallFunction=function(t){if(!t&&0!==t)return;const r=i.freeFuncIndexes,n=e.functionTable();r.push(t);const o=n.get(t);return n.set(t,null),o},e.peek=function(n,s="i8"){s.endsWith("*")&&(s=r);const a=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:o(),l=Array.isArray(n)?[]:void 0;let c;do{switch(l&&(n=arguments[0].shift()),s){case"i1":case"i8":c=a.HEAP8[n|0];break;case"i16":c=a.HEAP16[n>>1];break;case"i32":c=a.HEAP32[n>>2];break;case"float":case"f32":c=a.HEAP32F[n>>2];break;case"double":case"f64":c=Number(a.HEAP64F[n>>3]);break;case"i64":if(e.bigIntEnabled){c=BigInt(a.HEAP64[n>>3]);break}default:t("Invalid type for peek():",s)}l&&l.push(c)}while(l&&arguments[0].length);return l||c},e.poke=function(e,n,s="i8"){s.endsWith("*")&&(s=r);const a=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:o();for(const r of Array.isArray(e)?e:[e])switch(s){case"i1":case"i8":a.HEAP8[r|0]=n;continue;case"i16":a.HEAP16[r>>1]=n;continue;case"i32":a.HEAP32[r>>2]=n;continue;case"float":case"f32":a.HEAP32F[r>>2]=n;continue;case"double":case"f64":a.HEAP64F[r>>3]=n;continue;case"i64":if(a.HEAP64){a.HEAP64[r>>3]=BigInt(n);continue}default:t("Invalid type for poke(): "+s)}return this},e.peekPtr=(...t)=>e.peek(1===t.length?t[0]:t,r),e.pokePtr=(t,n=0)=>e.poke(t,n,r),e.peek8=(...t)=>e.peek(1===t.length?t[0]:t,"i8"),e.poke8=(t,r)=>e.poke(t,r,"i8"),e.peek16=(...t)=>e.peek(1===t.length?t[0]:t,"i16"),e.poke16=(t,r)=>e.poke(t,r,"i16"),e.peek32=(...t)=>e.peek(1===t.length?t[0]:t,"i32"),e.poke32=(t,r)=>e.poke(t,r,"i32"),e.peek64=(...t)=>e.peek(1===t.length?t[0]:t,"i64"),e.poke64=(t,r)=>e.poke(t,r,"i64"),e.peek32f=(...t)=>e.peek(1===t.length?t[0]:t,"f32"),e.poke32f=(t,r)=>e.poke(t,r,"f32"),e.peek64f=(...t)=>e.peek(1===t.length?t[0]:t,"f64"),e.poke64f=(t,r)=>e.poke(t,r,"f64"),e.getMemValue=e.peek,e.getPtrValue=e.peekPtr,e.setMemValue=e.poke,e.setPtrValue=e.pokePtr,e.isPtr32=e=>"number"==typeof e&&e===(0|e)&&e>=0,e.isPtr=e.isPtr32,e.cstrlen=function(t){if(!t||!e.isPtr(t))return null;const r=o().HEAP8U;let n=t;for(;0!==r[n];++n);return n-t};const a="undefined"==typeof SharedArrayBuffer?function(){}:SharedArrayBuffer;e.cstrToJs=function(t){const r=e.cstrlen(t);return r?(n=o().HEAP8U,s=t,l=t+r,i.utf8Decoder.decode(n.buffer instanceof a?n.slice(s,l):n.subarray(s,l))):null===r?r:"";var n,s,l},e.jstrlen=function(e){if("string"!=typeof e)return null;const t=e.length;let r=0;for(let n=0;n<t;++n){let t=e.charCodeAt(n);t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++n)),t<=127?++r:r+=t<=2047?2:t<=65535?3:4}return r},e.jstrcpy=function(e,r,n=0,i=-1,o=!0){if(r&&(r instanceof Int8Array||r instanceof Uint8Array)||t("jstrcpy() target must be an Int8Array or Uint8Array."),i<0&&(i=r.length-n),!(i>0&&n>=0))return 0;let s=0,a=e.length;const l=n,c=n+i-(o?1:0);for(;s<a&&n<c;++s){let t=e.charCodeAt(s);if(t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++s)),t<=127){if(n>=c)break;r[n++]=t}else if(t<=2047){if(n+1>=c)break;r[n++]=192|t>>6,r[n++]=128|63&t}else if(t<=65535){if(n+2>=c)break;r[n++]=224|t>>12,r[n++]=128|t>>6&63,r[n++]=128|63&t}else{if(n+3>=c)break;r[n++]=240|t>>18,r[n++]=128|t>>12&63,r[n++]=128|t>>6&63,r[n++]=128|63&t}}return o&&(r[n++]=0),n-l},e.cstrncpy=function(r,n,i){if(r&&n||t("cstrncpy() does not accept NULL strings."),i<0)i=e.cstrlen(strPtr)+1;else if(!(i>0))return 0;const o=e.heap8u();let s,a=0;for(;a<i&&(s=o[n+a]);++a)o[r+a]=s;return a<i&&(o[r+a++]=0),a},e.jstrToUintArray=(e,t=!1)=>i.utf8Encoder.encode(t?e+"\0":e);const l=(e,r)=>{e.alloc instanceof Function&&e.dealloc instanceof Function||t("Object is missing alloc() and/or dealloc() function(s)","required by",r+"().")},c=function(t,r,n,s){if(l(e,s),"string"!=typeof t)return null;{const e=i.utf8Encoder.encode(t),s=n(e.length+1),a=o().HEAP8U;return a.set(e,s),a[s+e.length]=0,r?[s,e.length]:s}};e.allocCString=(t,r=!1)=>c(t,r,e.alloc,"allocCString()"),e.scopedAllocPush=function(){l(e,"scopedAllocPush");const t=[];return i.scopedAlloc.push(t),t},e.scopedAllocPop=function(r){l(e,"scopedAllocPop");const n=arguments.length?i.scopedAlloc.indexOf(r):i.scopedAlloc.length-1;n<0&&t("Invalid state object for scopedAllocPop()."),0===arguments.length&&(r=i.scopedAlloc[n]),i.scopedAlloc.splice(n,1);for(let t;t=r.pop();)e.functionEntry(t)?e.uninstallFunction(t):e.dealloc(t)},e.scopedAlloc=function(r){i.scopedAlloc.length||t("No scopedAllocPush() scope is active.");const n=e.alloc(r);return i.scopedAlloc[i.scopedAlloc.length-1].push(n),n},Object.defineProperty(e.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>i.scopedAlloc.length,set:()=>t("The 'active' property is read-only.")}),e.scopedAllocCString=(t,r=!1)=>c(t,r,e.scopedAlloc,"scopedAllocCString()");const u=function(t,r){const n=e[t?"scopedAlloc":"alloc"]((r.length+1)*e.ptrSizeof);let i=0;return r.forEach((r=>{e.pokePtr(n+e.ptrSizeof*i++,e[t?"scopedAllocCString":"allocCString"](""+r))})),e.pokePtr(n+e.ptrSizeof*i,0),n};e.scopedAllocMainArgv=e=>u(!0,e),e.allocMainArgv=e=>u(!1,e),e.cArgvToJs=(t,r)=>{const n=[];for(let i=0;i<t;++i){const t=e.peekPtr(r+e.ptrSizeof*i);n.push(t?e.cstrToJs(t):null)}return n},e.scopedAllocCall=function(t){e.scopedAllocPush();try{return t()}finally{e.scopedAllocPop()}};const f=function(t,i,o){l(e,o);const s=i?"i64":r;let a=e[o](t*(i?8:n));if(e.poke(a,0,s),1===t)return a;const c=[a];for(let r=1;r<t;++r)a+=i?8:n,c[r]=a,e.poke(a,0,s);return c};e.allocPtr=(e=1,t=!0)=>f(e,t,"alloc"),e.scopedAllocPtr=(e=1,t=!0)=>f(e,t,"scopedAlloc"),e.xGet=function(r){return e.exports[r]||t("Cannot find exported symbol:",r)};const p=(e,r)=>t(e+"() requires",r,"argument(s).");e.xCall=function(r,...n){const i=e.xGet(r);return i instanceof Function||t("Exported symbol",r,"is not a function."),i.length!==n.length&&p(r,i.length),2===arguments.length&&Array.isArray(arguments[1])?i.apply(null,arguments[1]):i.apply(null,n)},i.xWrap=Object.create(null),i.xWrap.convert=Object.create(null),i.xWrap.convert.arg=new Map,i.xWrap.convert.result=new Map;const d=i.xWrap.convert.arg,h=i.xWrap.convert.result;e.bigIntEnabled&&d.set("i64",(e=>BigInt(e)));const _="i32"===r?e=>0|e:e=>BigInt(e)|BigInt(0);d.set("i32",_).set("i16",(e=>65535&e)).set("i8",(e=>255&e)).set("f32",(e=>Number(e).valueOf())).set("float",d.get("f32")).set("f64",d.get("f32")).set("double",d.get("f64")).set("int",d.get("i32")).set("null",(e=>e)).set(null,d.get("null")).set("**",_).set("*",_),h.set("*",_).set("pointer",_).set("number",(e=>Number(e))).set("void",(e=>{})).set("null",(e=>e)).set(null,h.get("null"));{const n=["i8","i16","i32","int","f32","float","f64","double"];e.bigIntEnabled&&n.push("i64");const i=d.get(r);for(const e of n)d.set(e+"*",i),h.set(e+"*",i),h.set(e,d.get(e)||t("Missing arg converter:",e))}const m=function(t){return"string"==typeof t?e.scopedAllocCString(t):t?_(t):null};d.set("string",m).set("utf8",m).set("pointer",m),h.set("string",(t=>e.cstrToJs(t))).set("utf8",h.get("string")).set("string:dealloc",(t=>{try{return t?e.cstrToJs(t):null}finally{e.dealloc(t)}})).set("utf8:dealloc",h.get("string:dealloc")).set("json",(t=>JSON.parse(e.cstrToJs(t)))).set("json:dealloc",(t=>{try{return t?JSON.parse(e.cstrToJs(t)):null}finally{e.dealloc(t)}}));const g=class{constructor(e){this.name=e.name||"unnamed adapter"}convertArg(e,r,n){t("AbstractArgAdapter must be subclassed.")}};d.FuncPtrAdapter=class r extends g{constructor(e){super(e),d.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",e),this.name=e.name||"unnamed",this.signature=e.signature,e.contextKey instanceof Function&&(this.contextKey=e.contextKey,e.bindScope||(e.bindScope="context")),this.bindScope=e.bindScope||t("FuncPtrAdapter options requires a bindScope (explicit or implied)."),r.bindScopes.indexOf(e.bindScope)<0&&t("Invalid options.bindScope ("+e.bindMod+") for FuncPtrAdapter. Expecting one of: ("+r.bindScopes.join(", ")+")"),this.isTransient="transient"===this.bindScope,this.isContext="context"===this.bindScope,this.isPermanent="permanent"===this.bindScope,this.singleton="singleton"===this.bindScope?[]:void 0,this.callProxy=e.callProxy instanceof Function?e.callProxy:void 0}contextKey(e,t){return this}contextMap(e){const t=this.__cmap||(this.__cmap=new Map);let r=t.get(e);return void 0===r&&t.set(e,r=[]),r}convertArg(t,n,o){let a=this.singleton;if(!a&&this.isContext&&(a=this.contextMap(this.contextKey(n,o))),a&&a[0]===t)return a[1];if(t instanceof Function){this.callProxy&&(t=this.callProxy(t));const e=s(t,this.signature,this.isTransient);if(r.debugFuncInstall&&r.debugOut("FuncPtrAdapter installed",this,this.contextKey(n,o),"@"+e,t),a){if(a[1]){r.debugFuncInstall&&r.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(n,o),"@"+a[1],t);try{i.scopedAlloc[i.scopedAlloc.length-1].push(a[1])}catch(yo){}}a[0]=t,a[1]=e}return e}if(e.isPtr(t)||null==t){if(a&&a[1]&&a[1]!==t){r.debugFuncInstall&&r.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(n,o),"@"+a[1],t);try{i.scopedAlloc[i.scopedAlloc.length-1].push(a[1])}catch(yo){}a[0]=a[1]=0|t}return t||0}throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},d.FuncPtrAdapter.warnOnUse=!1,d.FuncPtrAdapter.debugFuncInstall=!1,d.FuncPtrAdapter.debugOut=console.debug.bind(console),d.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const y=e=>d.get(e)||t("Argument adapter not found:",e),b=e=>h.get(e)||t("Result adapter not found:",e);i.xWrap.convertArg=(e,...t)=>y(e)(...t),i.xWrap.convertArgNoCheck=(e,...t)=>d.get(e)(...t),i.xWrap.convertResult=(e,t)=>null===e?t:e?b(e)(t):void 0,i.xWrap.convertResultNoCheck=(e,t)=>null===e?t:e?h.get(e)(t):void 0,e.xWrap=function(r,n,...o){3===arguments.length&&Array.isArray(arguments[2])&&(o=arguments[2]),e.isPtr(r)&&(r=e.functionEntry(r)||t("Function pointer not found in WASM function table."));const s=r instanceof Function,a=s?r:e.xGet(r);if(s&&(r=a.name||"unnamed function"),o.length!==a.length&&p(r,a.length),null===n&&0===a.length)return a;null!=n&&b(n);for(const e of o)e instanceof g?d.set(e,((...t)=>e.convertArg(...t))):y(e);const l=i.xWrap;return 0===a.length?(...e)=>e.length?p(r,a.length):l.convertResult(n,a.call(null)):function(...t){t.length!==a.length&&p(r,a.length);const i=e.scopedAllocPush();try{for(const e in t)t[e]=l.convertArgNoCheck(o[e],t[e],t,e);return l.convertResultNoCheck(n,a.apply(null,t))}finally{e.scopedAllocPop(i)}}};const w=function(e,r,n,i,o,s){if("string"==typeof n){if(1===r)return s.get(n);if(2===r)return i?(i instanceof Function||t(o,"requires a function argument."),s.set(n,i),e):(s.get(n),e)}t("Invalid arguments to",o)};return e.xWrap.resultAdapter=function e(t,r){return w(e,arguments.length,t,r,"resultAdapter()",h)},e.xWrap.argAdapter=function e(t,r){return w(e,arguments.length,t,r,"argAdapter()",d)},e.xWrap.FuncPtrAdapter=d.FuncPtrAdapter,e.xCallWrapped=function(t,r,n,...i){return Array.isArray(arguments[3])&&(i=arguments[3]),e.xWrap(t,r,n||[]).apply(null,i||[])},e.xWrap.testConvertArg=i.xWrap.convertArg,e.xWrap.testConvertResult=i.xWrap.convertResult,e},globalThis.WhWasmUtilInstaller.yawl=function(e){const t=()=>fetch(e.uri,{credentials:"same-origin"}),r=this,n=function(t){if(e.wasmUtilTarget){const n=(...e)=>{throw new Error(e.join(" "))},i=e.wasmUtilTarget;if(i.module=t.module,i.instance=t.instance,i.instance.exports.memory||(i.memory=e.imports&&e.imports.env&&e.imports.env.memory||n("Missing 'memory' object!")),!i.alloc&&t.instance.exports.malloc){const e=t.instance.exports;i.alloc=function(t){return e.malloc(t)||n("Allocation of",t,"bytes failed.")},i.dealloc=function(t){e.free(t)}}r(i)}return e.onload&&e.onload(t,e),t};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(t(),e.imports||{}).then(n)}:function(){return t().then((e=>e.arrayBuffer())).then((t=>WebAssembly.instantiate(t,e.imports||{}))).then(n)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function e(t){const r=(...e)=>{throw new Error(e.join(" "))};t.heap instanceof WebAssembly.Memory||t.heap instanceof Function||r("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach((function(e){t[e]instanceof Function||r("Config option '"+e+"' must be a function.")}));const n=e,i=t.heap instanceof Function?t.heap:()=>new Uint8Array(t.heap.buffer),o=t.alloc,s=t.dealloc,a=t.log||console.log.bind(console),l=t.memberPrefix||"",c=t.memberSuffix||"",u=void 0===t.bigIntEnabled?!!globalThis.BigInt64Array:!!t.bigIntEnabled,f=globalThis.BigInt,p=globalThis.BigInt64Array,d=t.ptrSizeof||4,h=t.ptrIR||"i32";n.debugFlags||(n.__makeDebugFlags=function(e=null){e&&e.__flags&&(e=e.__flags);const t=function e(t){return 0===arguments.length?e.__flags:(t<0?(delete e.__flags.getter,delete e.__flags.setter,delete e.__flags.alloc,delete e.__flags.dealloc):(e.__flags.getter=!!(1&t),e.__flags.setter=!!(2&t),e.__flags.alloc=!!(4&t),e.__flags.dealloc=!!(8&t)),e._flags)};return Object.defineProperty(t,"__flags",{iterable:!1,writable:!1,value:Object.create(e)}),e||t(0),t},n.debugFlags=n.__makeDebugFlags());const _=function(){const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}(),m=e=>(e=>"("===e[1])(e)?"p":e[0],g=function(e){switch(m(e)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return h;case"j":return"i64";case"f":return"float";case"d":return"double"}r("Unhandled signature IR:",e)},y=p?()=>!0:()=>r("BigInt64Array is not available."),b=(e,t)=>e+"::"+t,w=new WeakMap,v="(pointer-is-external)",q=function(e,t,r){if(r||(r=w.get(t)),r){if(w.delete(t),Array.isArray(t.ondispose)){let n;for(;n=t.ondispose.shift();)try{n instanceof Function?n.call(t):n instanceof N?n.dispose():"number"==typeof n&&s(n)}catch(yo){console.warn("ondispose() for",e.structName,"@",r,"threw. NOT propagating it.",yo)}}else if(t.ondispose instanceof Function)try{t.ondispose()}catch(yo){console.warn("ondispose() for",e.structName,"@",r,"threw. NOT propagating it.",yo)}delete t.ondispose,e.debugFlags.__flags.dealloc&&a("debug.dealloc:",t[v]?"EXTERNAL":"",e.structName,"instance:",e.structInfo.sizeof,"bytes @"+r),t[v]||s(r)}},E=e=>({configurable:!1,writable:!1,iterable:!1,value:e}),S=function(e,t,n){let s=!n;n?Object.defineProperty(t,v,E(n)):(n=o(e.structInfo.sizeof))||r("Allocation of",e.structName,"structure failed.");try{e.debugFlags.__flags.alloc&&a("debug.alloc:",s?"":"EXTERNAL",e.structName,"instance:",e.structInfo.sizeof,"bytes @"+n),s&&i().fill(0,n,n+e.structInfo.sizeof),w.set(t,n)}catch(yo){throw q(e,t,n),yo}},x=E((e=>l+e+c)),A=function(e,t,n=!0){let i=e.members[t];if(!i&&(l||c)){for(const r of Object.values(e.members))if(r.key===t){i=r;break}!i&&n&&r(b(e.name,t),"is not a mapped struct member.")}return i},k=function e(t,r,n=!1){e._||(e._=e=>e.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const i=A(t.structInfo,r,!0);return n?e._(i.signature):i.signature},I={configurable:!1,enumerable:!1,get:function(){return w.get(this)},set:()=>r("Cannot assign the 'pointer' property of a struct.")},T=E((function(){const e=[];for(const t of Object.keys(this.structInfo.members))e.push(this.memberKey(t));return e})),O=new TextDecoder("utf-8"),L=new TextEncoder,P="undefined"==typeof SharedArrayBuffer?function(){}:SharedArrayBuffer,F=function(e){"s"!==e.signature&&r("Invalid member type signature for C-string value:",JSON.stringify(e))},R=function(e,t){const r=A(e.structInfo,t,!0);F(r);const n=e[r.key];if(!n)return null;let o=n;const s=i();for(;0!==s[o];++o);return n===o?"":(a=s,l=n,c=o,O.decode(a.buffer instanceof P?a.slice(l,c):a.subarray(l,c)));var a,l,c},j=function(e,...t){e.ondispose?Array.isArray(e.ondispose)||(e.ondispose=[e.ondispose]):e.ondispose=[],e.ondispose.push(...t)},C=function(e){const t=L.encode(e),n=o(t.length+1);n||r("Allocation error while duplicating string:",e);const s=i();return s.set(t,n),s[n+t.length]=0,n},N=function(e,t){arguments[2]!==E&&r("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:E(e),structInfo:E(t)})};N.prototype=Object.create(null,{dispose:E((function(){q(this.constructor,this)})),lookupMember:E((function(e,t=!0){return A(this.structInfo,e,t)})),memberToJsString:E((function(e){return R(this,e)})),memberIsString:E((function(e,t=!0){return function(e,t,r=!1){const n=A(e.structInfo,t,r);return!(!n||1!==n.signature.length||"s"!==n.signature[0])&&n}(this,e,t)})),memberKey:x,memberKeys:T,memberSignature:E((function(e,t=!1){return k(this,e,t)})),memoryDump:E((function(){const e=this.pointer;return e?new Uint8Array(i().slice(e,e+this.structInfo.sizeof)):null})),pointer:I,setMemberCString:E((function(e,t){return function(e,t,r){const n=A(e.structInfo,t,!0);F(n);const i=C(r);return e[n.key]=i,j(e,i),e}(this,e,t)}))}),Object.assign(N.prototype,{addOnDispose:function(...e){return j(this,...e),this}}),Object.defineProperties(N,{allocCString:E(C),isA:E((e=>e instanceof N)),hasExternalPointer:E((e=>e instanceof N&&!!e[v])),memberKey:x});const D=e=>Number.isFinite(e)||e instanceof(f||Number),B=function e(t,n,o){if(!e._){e._={getters:{},setters:{},sw:{}};const t=["i","c","C","p","P","s","f","d","v()"];u&&t.push("j"),t.forEach((function(t){e._.getters[t]=function(e){switch(m(e)){case"p":case"P":case"s":switch(d){case 4:return"getInt32";case 8:return y()&&"getBigInt64"}break;case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return y()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}r("Unhandled DataView getter for signature:",e)}(t),e._.setters[t]=function(e){switch(m(e)){case"p":case"P":case"s":switch(d){case 4:return"setInt32";case 8:return y()&&"setBigInt64"}break;case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return y()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}r("Unhandled DataView setter for signature:",e)}(t),e._.sw[t]=function(e){switch(m(e)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return y()&&f;case"p":case"P":case"s":switch(d){case 4:return Number;case 8:return y()&&f}}r("Unhandled DataView set wrapper for signature:",e)}(t)}));const n=/^[ipPsjfdcC]$/,i=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;e.sigCheck=function(e,t,o,s){Object.prototype.hasOwnProperty.call(e,o)&&r(e.structName,"already has a property named",o+"."),n.test(s)||i.test(s)||r("Malformed signature for",b(e.structName,t)+":",s)}}const s=t.memberKey(n);e.sigCheck(t.prototype,n,s,o.signature),o.key=s,o.name=n;const l=m(o.signature),c=b(t.prototype.structName,s),p=t.prototype.debugFlags.__flags,h=Object.create(null);var w,v;h.configurable=!1,h.enumerable=!1,h.get=function(){p.getter&&a("debug.getter:",e._.getters[l],"for",g(l),c,"@",this.pointer,"+",o.offset,"sz",o.sizeof);let t=new DataView(i().buffer,this.pointer+o.offset,o.sizeof)[e._.getters[l]](0,_);return p.getter&&a("debug.getter:",c,"result =",t),t},o.readOnly?h.set=(w=t.prototype.structName,v=s,()=>r(b(w,v),"is read-only.")):h.set=function(t){if(p.setter&&a("debug.setter:",e._.setters[l],"for",g(l),c,"@",this.pointer,"+",o.offset,"sz",o.sizeof,t),this.pointer||r("Cannot set struct property on disposed instance."),null===t)t=0;else for(;!D(t);){if("P"===o.signature&&t instanceof N){t=t.pointer||0,p.setter&&a("debug.setter:",c,"resolved to",t);break}r("Invalid value for pointer-type",c+".")}new DataView(i().buffer,this.pointer+o.offset,o.sizeof)[e._.setters[l]](0,e._.sw[l](t),_)},Object.defineProperty(t.prototype,s,h)},M=function e(t,i){1===arguments.length?t=(i=t).name:i.name||(i.name=t),t||r("Struct name is required.");let o=!1;Object.keys(i.members).forEach((e=>{const n=i.members[e];n.sizeof?1===n.sizeof?"c"===n.signature||"C"===n.signature||r("Unexpected sizeof==1 member",b(i.name,e),"with signature",n.signature):(0!=n.sizeof%4&&(console.warn("Invalid struct member description =",n,"from",i),r(t,"member",e,"sizeof is not aligned. sizeof="+n.sizeof)),0!=n.offset%4&&(console.warn("Invalid struct member description =",n,"from",i),r(t,"member",e,"offset is not aligned. offset="+n.offset))):r(t,"member",e,"is missing sizeof."),(!o||o.offset<n.offset)&&(o=n)})),o?i.sizeof<o.offset+o.sizeof&&r("Invalid struct config:",t,"max member offset ("+o.offset+") ","extends past end of struct (sizeof="+i.sizeof+")."):r("No member property descriptions found.");const s=E(n.__makeDebugFlags(e.debugFlags)),a=function e(n){this instanceof e?arguments.length?((n!==(0|n)||n<=0)&&r("Invalid pointer value for",t,"constructor."),S(e,this,n)):S(e,this):r("The",t,"constructor may only be called via 'new'.")};return Object.defineProperties(a,{debugFlags:s,isA:E((e=>e instanceof a)),memberKey:x,memberKeys:T,methodInfoForKey:E((function(e){})),structInfo:E(i),structName:E(t)}),a.prototype=new N(t,i,E),Object.defineProperties(a.prototype,{debugFlags:s,constructor:E(a)}),Object.keys(i.members).forEach((e=>B(a,e,i.members[e]))),a};return M.StructType=N,M.config=t,M.allocCString=C,M.debugFlags||(M.debugFlags=n.__makeDebugFlags(n.debugFlags)),M},globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=(...e)=>{throw new Error(e.join(" "))};e.SQLite3Error.toss;const r=e.capi,n=e.wasm,i=e.util;if(globalThis.WhWasmUtilInstaller(n),delete globalThis.WhWasmUtilInstaller,n.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new n.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(e,t)=>e[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:e=>e[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new n.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:e=>{let t;return(i,o,s,a)=>{try{const r=n.cArgvToJs(o,s);return t||(t=n.cArgvToJs(o,a)),0|e(r,t)}catch(yo){return yo.resultCode||r.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new n.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(e,t)=>e[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:e=>e[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(e,t)=>e[0],callProxy:e=>(t,i,o,s,a,l)=>{try{return o=o&&n.cstrToJs(o),s=s&&n.cstrToJs(s),a=a&&n.cstrToJs(a),l=l&&n.cstrToJs(l),e(t,i,o,s,a,l)||0}catch(yo){return yo.resultCode||r.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new n.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(e,t)=>e[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new n.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(e,t)=>e[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],n.exports.sqlite3_activate_see instanceof Function&&n.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",void 0,"string"]),n.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:e=>e[0],callProxy:e=>(t,r,i,o,s,a,l)=>{e(t,r,i,n.cstrToJs(o),n.cstrToJs(s),a,l)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:e=>e[0],callProxy:e=>(t,r,i,o,s)=>{e(t,r,n.cstrToJs(i),n.cstrToJs(o),s)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],n.bigIntEnabled&&n.exports.sqlite3changegroup_add){const e={signature:"i(ps)",callProxy:e=>(t,i)=>{try{return 0|e(t,n.cstrToJs(i))}catch(yo){return yo.resultCode||r.SQLITE_ERROR}}};n.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new n.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new n.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new n.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new n.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new n.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new n.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new n.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new n.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...e}),new n.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new n.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new n.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new n.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new n.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new n.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new n.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new n.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new n.xWrap.FuncPtrAdapter({name:"xFilter",...e,contextKey:(e,t)=>e[0]}),"*"]])}n.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_posix_create_file","int","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],e.StructBinder=globalThis.Jaccwabyt({heap:n.heap8u,alloc:n.alloc,dealloc:n.dealloc,bigIntEnabled:n.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const o=n.xWrap.argAdapter("string");n.xWrap.argAdapter("string:flexible",(e=>o(i.flexibleString(e)))),n.xWrap.argAdapter("string:static",function(e){if(n.isPtr(e))return e;return this[e=""+e]||(this[e]=n.allocCString(e))}.bind(Object.create(null)));const s=n.xWrap.argAdapter("*"),a=function(){};n.xWrap.argAdapter("sqlite3_filename",s)("sqlite3_context*",s)("sqlite3_value*",s)("void*",s)("sqlite3_changegroup*",s)("sqlite3_changeset_iter*",s)("sqlite3_session*",s)("sqlite3_stmt*",(t=>s(t instanceof(e?.oo1?.Stmt||a)?t.pointer:t)))("sqlite3*",(t=>s(t instanceof(e?.oo1?.DB||a)?t.pointer:t)))("sqlite3_index_info*",(e=>s(e instanceof(r.sqlite3_index_info||a)?e.pointer:e)))("sqlite3_module*",(e=>s(e instanceof(r.sqlite3_module||a)?e.pointer:e)))("sqlite3_vfs*",(t=>"string"==typeof t?r.sqlite3_vfs_find(t)||e.SQLite3Error.toss(r.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",t):s(t instanceof(r.sqlite3_vfs||a)?t.pointer:t)));const l=n.xWrap.resultAdapter("*");n.xWrap.resultAdapter("sqlite3*",l)("sqlite3_context*",l)("sqlite3_stmt*",l)("sqlite3_value*",l)("sqlite3_vfs*",l)("void*",l),0===n.exports.sqlite3_step.length&&(n.xWrap.doArgcCheck=!1,e.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const e of n.bindingSignatures)r[e[0]]=n.xWrap.apply(null,e);for(const e of n.bindingSignatures.wasm)n[e[0]]=n.xWrap.apply(null,e);const c=function(e){return()=>t(e+"() is unavailable due to lack","of BigInt support in this build.")};for(const e of n.bindingSignatures.int64)r[e[0]]=n.bigIntEnabled?n.xWrap.apply(null,e):c(e[0]);if(delete n.bindingSignatures,n.exports.sqlite3_wasm_db_error){const t=n.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");i.sqlite3_wasm_db_error=function(n,i,o){return i instanceof e.WasmAllocError?(i=r.SQLITE_NOMEM,o=0):i instanceof Error&&(o=o||""+i,i=i.resultCode||r.SQLITE_ERROR),n?t(n,i,o):i}}else i.sqlite3_wasm_db_error=function(e,t,r){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),t}}{const o=n.xCall("sqlite3_wasm_enum_json");o||t("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),n.ctype=JSON.parse(n.cstrToJs(o));const s=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];n.bigIntEnabled&&s.push("serialize","session","vtab");for(const e of s)for(const t of Object.entries(n.ctype[e]))r[t[0]]=t[1];n.functionEntry(r.SQLITE_WASM_DEALLOC)||t("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+r.SQLITE_WASM_DEALLOC+").");const a=Object.create(null);for(const e of["resultCodes"])for(const t of Object.entries(n.ctype[e]))a[t[1]]=t[0];r.sqlite3_js_rc_str=e=>a[e];const l=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!i.isUIThread(),sqlite3_index_info:!n.bigIntEnabled,sqlite3_index_constraint:!n.bigIntEnabled,sqlite3_index_orderby:!n.bigIntEnabled,sqlite3_index_constraint_usage:!n.bigIntEnabled});for(const t of n.ctype.structs)l[t.name]||(r[t.name]=e.StructBinder(t));if(r.sqlite3_index_info){for(const e of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])r.sqlite3_index_info[e]=r[e],delete r[e];r.sqlite3_vtab_config=n.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const o=(e,t,n)=>i.sqlite3_wasm_db_error(e,r.SQLITE_MISUSE,t+"() requires "+n+" argument"+(1===n?"":"s")+"."),s=e=>i.sqlite3_wasm_db_error(e,r.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),a=e=>n.xWrap.argAdapter("sqlite3*")(e),l=e=>n.isPtr(e)?n.cstrToJs(e):e,c=function(e,t){e=a(e);let r=this.dbMap.get(e);return t?(!r&&t>0&&this.dbMap.set(e,r=Object.create(null)),r):(this.dbMap.delete(e),r)}.bind(Object.assign(Object.create(null),{dbMap:new Map}));c.addCollation=function(e,t){const r=c(e,1);r.collation||(r.collation=new Set),r.collation.add(l(t).toLowerCase())},c._addUDF=function(e,t,r,n){t=l(t).toLowerCase();let i=n.get(t);i||n.set(t,i=new Set),i.add(r<0?-1:r)},c.addFunction=function(e,t,r){const n=c(e,1);n.udf||(n.udf=new Map),this._addUDF(e,t,r,n.udf)},c.addWindowFunc=function(e,t,r){const n=c(e,1);n.wudf||(n.wudf=new Map),this._addUDF(e,t,r,n.wudf)},c.cleanup=function(e){const t=[e=a(e)];for(const a of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const e=n.exports[a];t.length=e.length;try{r[a](...t)}catch(yo){console.warn("close-time call of",a+"(",t,") threw:",yo)}}const i=c(e,0);if(!i)return;if(i.collation){for(const t of i.collation)try{r.sqlite3_create_collation_v2(e,t,r.SQLITE_UTF8,0,0,0)}catch(yo){}delete i.collation}let o;for(o=0;o<2;++o){const t=o?i.wudf:i.udf;if(!t)continue;const n=o?r.sqlite3_create_window_function:r.sqlite3_create_function_v2;for(const i of t){const t=i[0],a=i[1],l=[e,t,0,r.SQLITE_UTF8,0,0,0,0,0];o&&l.push(0);for(const e of a)try{l[2]=e,n.apply(null,l)}catch(s){}a.clear()}t.clear()}delete i.udf,delete i.wudf};{const e=n.xWrap("sqlite3_close_v2","int","sqlite3*");r.sqlite3_close_v2=function(t){if(1!==arguments.length)return o(t,"sqlite3_close_v2",1);if(t)try{c.cleanup(t)}catch(yo){}return e(t)}}if(r.sqlite3session_table_filter){const e=n.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);r.sqlite3session_delete=function(t){if(1!==arguments.length)return o(pDb,"sqlite3session_delete",1);t&&r.sqlite3session_table_filter(t,0,0),e(t)}}{const e=(e,t)=>"argv["+t+"]:"+e[0]+":"+n.cstrToJs(e[1]).toLowerCase(),t=n.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new n.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:e}),new n.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:e})]);r.sqlite3_create_collation_v2=function(e,n,a,l,u,f){if(6!==arguments.length)return o(e,"sqlite3_create_collation_v2",6);if(15&a){if(r.SQLITE_UTF8!==(15&a))return s(e)}else a|=r.SQLITE_UTF8;try{const r=t(e,n,a,l,u,f);return 0===r&&u instanceof Function&&c.addCollation(e,n),r}catch(yo){return i.sqlite3_wasm_db_error(e,yo)}},r.sqlite3_create_collation=(e,t,n,i,s)=>5===arguments.length?r.sqlite3_create_collation_v2(e,t,n,i,s,0):o(e,"sqlite3_create_collation",5)}{const e=function(e,t){return e[0]+":"+(e[2]<0?-1:e[2])+":"+t+":"+n.cstrToJs(e[1]).toLowerCase()},t=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:e,callProxy:e=>(t,n,i)=>{try{e(t,...r.sqlite3_values_to_js(n,i))}catch(yo){r.sqlite3_result_error_js(t,yo)}}},xFinalAndValue:{signature:"v(p)",contextKey:e,callProxy:e=>t=>{try{r.sqlite3_result_js(t,e(t))}catch(yo){r.sqlite3_result_error_js(t,yo)}}},xFunc:{signature:"v(pip)",contextKey:e,callProxy:e=>(t,n,i)=>{try{r.sqlite3_result_js(t,e(t,...r.sqlite3_values_to_js(n,i)))}catch(yo){r.sqlite3_result_error_js(t,yo)}}},xDestroy:{signature:"v(p)",contextKey:e,callProxy:e=>t=>{try{e(t)}catch(yo){console.error("UDF xDestroy method threw:",yo)}}}}),a=n.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new n.xWrap.FuncPtrAdapter({name:"xFunc",...t.xFunc}),new n.xWrap.FuncPtrAdapter({name:"xStep",...t.xInverseAndStep}),new n.xWrap.FuncPtrAdapter({name:"xFinal",...t.xFinalAndValue}),new n.xWrap.FuncPtrAdapter({name:"xDestroy",...t.xDestroy})]),l=n.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new n.xWrap.FuncPtrAdapter({name:"xStep",...t.xInverseAndStep}),new n.xWrap.FuncPtrAdapter({name:"xFinal",...t.xFinalAndValue}),new n.xWrap.FuncPtrAdapter({name:"xValue",...t.xFinalAndValue}),new n.xWrap.FuncPtrAdapter({name:"xInverse",...t.xInverseAndStep}),new n.xWrap.FuncPtrAdapter({name:"xDestroy",...t.xDestroy})]);r.sqlite3_create_function_v2=function e(t,n,l,u,f,p,d,h,_){if(e.length!==arguments.length)return o(t,"sqlite3_create_function_v2",e.length);if(15&u){if(r.SQLITE_UTF8!==(15&u))return s(t)}else u|=r.SQLITE_UTF8;try{const e=a(t,n,l,u,f,p,d,h,_);return 0===e&&(p instanceof Function||d instanceof Function||h instanceof Function||_ instanceof Function)&&c.addFunction(t,n,l),e}catch(yo){return console.error("sqlite3_create_function_v2() setup threw:",yo),i.sqlite3_wasm_db_error(t,yo,"Creation of UDF threw: "+yo)}},r.sqlite3_create_function=function e(t,n,i,s,a,l,c,u){return e.length===arguments.length?r.sqlite3_create_function_v2(t,n,i,s,a,l,c,u,0):o(t,"sqlite3_create_function",e.length)},r.sqlite3_create_window_function=function e(t,n,a,u,f,p,d,h,_,m){if(e.length!==arguments.length)return o(t,"sqlite3_create_window_function",e.length);if(15&u){if(r.SQLITE_UTF8!==(15&u))return s(t)}else u|=r.SQLITE_UTF8;try{const e=l(t,n,a,u,f,p,d,h,_,m);return 0===e&&(p instanceof Function||d instanceof Function||h instanceof Function||_ instanceof Function||m instanceof Function)&&c.addWindowFunc(t,n,a),e}catch(yo){return console.error("sqlite3_create_window_function() setup threw:",yo),i.sqlite3_wasm_db_error(t,yo,"Creation of UDF threw: "+yo)}},r.sqlite3_create_function_v2.udfSetResult=r.sqlite3_create_function.udfSetResult=r.sqlite3_create_window_function.udfSetResult=r.sqlite3_result_js,r.sqlite3_create_function_v2.udfConvertArgs=r.sqlite3_create_function.udfConvertArgs=r.sqlite3_create_window_function.udfConvertArgs=r.sqlite3_values_to_js,r.sqlite3_create_function_v2.udfSetError=r.sqlite3_create_function.udfSetError=r.sqlite3_create_window_function.udfSetError=r.sqlite3_result_error_js}{const e=(e,t)=>("string"==typeof e?t=-1:i.isSQLableTypedArray(e)?(t=e.byteLength,e=i.typedArrayToString(e instanceof ArrayBuffer?new Uint8Array(e):e)):Array.isArray(e)&&(e=e.join(""),t=-1),[e,t]),t={basic:n.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:n.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};r.sqlite3_prepare_v3=function n(s,a,l,c,u,f){if(n.length!==arguments.length)return o(s,"sqlite3_prepare_v3",n.length);const[p,d]=e(a,l);switch(typeof p){case"string":return t.basic(s,p,d,c,u,null);case"number":return t.full(s,p,d,c,u,f);default:return i.sqlite3_wasm_db_error(s,r.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},r.sqlite3_prepare_v2=function e(t,n,i,s,a){return e.length===arguments.length?r.sqlite3_prepare_v3(t,n,i,0,s,a):o(t,"sqlite3_prepare_v2",e.length)}}{const e=n.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),t=n.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);r.sqlite3_bind_text=function t(s,a,l,c,u){if(t.length!==arguments.length)return o(r.sqlite3_db_handle(s),"sqlite3_bind_text",t.length);if(n.isPtr(l)||null===l)return e(s,a,l,c,u);let f,p;l instanceof ArrayBuffer?l=new Uint8Array(l):Array.isArray(pMem)&&(l=pMem.join(""));try{if(i.isSQLableTypedArray(l))f=n.allocFromTypedArray(l),p=l.byteLength;else{if("string"!=typeof l)return i.sqlite3_wasm_db_error(r.sqlite3_db_handle(s),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");[f,p]=n.allocCString(l)}return e(s,a,f,p,r.SQLITE_WASM_DEALLOC)}catch(yo){return n.dealloc(f),i.sqlite3_wasm_db_error(r.sqlite3_db_handle(s),yo)}},r.sqlite3_bind_blob=function e(s,a,l,c,u){if(e.length!==arguments.length)return o(r.sqlite3_db_handle(s),"sqlite3_bind_blob",e.length);if(n.isPtr(l)||null===l)return t(s,a,l,c,u);let f,p;l instanceof ArrayBuffer?l=new Uint8Array(l):Array.isArray(l)&&(l=l.join(""));try{if(i.isBindableTypedArray(l))f=n.allocFromTypedArray(l),p=c>=0?c:l.byteLength;else{if("string"!=typeof l)return i.sqlite3_wasm_db_error(r.sqlite3_db_handle(s),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");[f,p]=n.allocCString(l)}return t(s,a,f,p,r.SQLITE_WASM_DEALLOC)}catch(yo){return n.dealloc(f),i.sqlite3_wasm_db_error(r.sqlite3_db_handle(s),yo)}}}r.sqlite3_config=function(e,...t){if(arguments.length<2)return r.SQLITE_MISUSE;switch(e){case r.SQLITE_CONFIG_COVERING_INDEX_SCAN:case r.SQLITE_CONFIG_MEMSTATUS:case r.SQLITE_CONFIG_SMALL_MALLOC:case r.SQLITE_CONFIG_SORTERREF_SIZE:case r.SQLITE_CONFIG_STMTJRNL_SPILL:case r.SQLITE_CONFIG_URI:return n.exports.sqlite3_wasm_config_i(e,t[0]);case r.SQLITE_CONFIG_LOOKASIDE:return n.exports.sqlite3_wasm_config_ii(e,t[0],t[1]);case r.SQLITE_CONFIG_MEMDB_MAXSIZE:return n.exports.sqlite3_wasm_config_j(e,t[0]);case r.SQLITE_CONFIG_GETMALLOC:case r.SQLITE_CONFIG_GETMUTEX:case r.SQLITE_CONFIG_GETPCACHE2:case r.SQLITE_CONFIG_GETPCACHE:case r.SQLITE_CONFIG_HEAP:case r.SQLITE_CONFIG_LOG:case r.SQLITE_CONFIG_MALLOC:case r.SQLITE_CONFIG_MMAP_SIZE:case r.SQLITE_CONFIG_MULTITHREAD:case r.SQLITE_CONFIG_MUTEX:case r.SQLITE_CONFIG_PAGECACHE:case r.SQLITE_CONFIG_PCACHE2:case r.SQLITE_CONFIG_PCACHE:case r.SQLITE_CONFIG_PCACHE_HDRSZ:case r.SQLITE_CONFIG_PMASZ:case r.SQLITE_CONFIG_SERIALIZED:case r.SQLITE_CONFIG_SINGLETHREAD:case r.SQLITE_CONFIG_SQLLOG:case r.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return r.SQLITE_NOTFOUND}};{const e=new Set;r.sqlite3_auto_extension=function(t){if(t instanceof Function)t=n.installFunction("i(ppp)",t);else if(1!==arguments.length||!n.isPtr(t))return r.SQLITE_MISUSE;const i=n.exports.sqlite3_auto_extension(t);return t!==arguments[0]&&(0===i?e.add(t):n.uninstallFunction(t)),i},r.sqlite3_cancel_auto_extension=function(e){return e&&1===arguments.length&&n.isPtr(e)?n.exports.sqlite3_cancel_auto_extension(e):0},r.sqlite3_reset_auto_extension=function(){n.exports.sqlite3_reset_auto_extension();for(const t of e)n.uninstallFunction(t);e.clear()}}const u=r.sqlite3_vfs_find("kvvfs");if(u)if(i.isUIThread()){const e=new r.sqlite3_kvvfs_methods(n.exports.sqlite3_wasm_kvvfs_methods());delete r.sqlite3_kvvfs_methods;const t=n.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,i=n.pstack,o=e=>115===n.peek(e)?sessionStorage:localStorage,s={xRead:(e,r,s,a)=>{const l=i.pointer,c=n.scopedAllocPush();try{const i=t(e,r);if(!i)return-3;const l=n.cstrToJs(i),c=o(e).getItem(l);if(!c)return-1;const u=c.length;if(a<=0)return u;if(1===a)return n.poke(s,0),u;const f=n.scopedAllocCString(c);return a>u+1&&(a=u+1),n.heap8u().copyWithin(s,f,f+a-1),n.poke(s+a-1,0),a-1}catch(yo){return console.error("kvstorageRead()",yo),-2}finally{i.restore(l),n.scopedAllocPop(c)}},xWrite:(e,s,a)=>{const l=i.pointer;try{const r=t(e,s);if(!r)return 1;const i=n.cstrToJs(r);return o(e).setItem(i,n.cstrToJs(a)),0}catch(yo){return console.error("kvstorageWrite()",yo),r.SQLITE_IOERR}finally{i.restore(l)}},xDelete:(e,s)=>{const a=i.pointer;try{const r=t(e,s);return r?(o(e).removeItem(n.cstrToJs(r)),0):1}catch(yo){return console.error("kvstorageDelete()",yo),r.SQLITE_IOERR}finally{i.restore(a)}}};for(const r of Object.keys(s))e[e.memberKey(r)]=n.installFunction(e.memberSignature(r),s[r])}else r.sqlite3_vfs_unregister(u);n.xWrap.FuncPtrAdapter.warnOnUse=!0})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){e.version={libVersion:"3.45.3",libVersionNumber:3045003,sourceId:"2024-04-15 13:34:05 8653b758870e6ef0c98d46b3ace27849054af85da891eb121e9aaa537f1ealt1",downloadVersion:3450300}})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=(...t)=>{throw new e.SQLite3Error(...t)},r=e.capi,n=e.wasm,i=e.util,o=new WeakMap,s=new WeakMap,a=(e,t,r)=>{const n=Object.getOwnPropertyDescriptor(e,t);return n?n.value:r},l=function(e,n){return n&&(e instanceof p&&(e=e.pointer),t(n,"sqlite3 result code",n+":",e?r.sqlite3_errmsg(e):r.sqlite3_errstr(n))),arguments[0]},c=n.installFunction("i(ippp)",function(e,t,i,o){r.SQLITE_TRACE_STMT===e&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+t+":",n.cstrToJs(o))}.bind({counter:0})),u=Object.create(null),f=function i(...a){if(!i._name2vfs){i._name2vfs=Object.create(null);const e="function"==typeof importScripts&&(e=>t("The VFS for",e,"is only available in the main window thread."));i._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:e||(()=>"local")},i._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:e||(()=>"session")}}const f=i.normalizeArgs(...a);let p=f.filename,d=f.vfs,h=f.flags;("string"!=typeof p&&"number"!=typeof p||"string"!=typeof h||d&&"string"!=typeof d&&"number"!=typeof d)&&(e.config.error("Invalid DB ctor args",f,arguments),t("Invalid arguments for DB constructor."));let _="number"==typeof p?n.cstrToJs(p):p;const m=i._name2vfs[_];m&&(d=m.vfs,p=_=m.filename(_));let g,y=0;h.indexOf("c")>=0&&(y|=r.SQLITE_OPEN_CREATE|r.SQLITE_OPEN_READWRITE),h.indexOf("w")>=0&&(y|=r.SQLITE_OPEN_READWRITE),0===y&&(y|=r.SQLITE_OPEN_READONLY),y|=r.SQLITE_OPEN_EXRESCODE;const b=n.pstack.pointer;try{const e=n.pstack.allocPtr();let t=r.sqlite3_open_v2(p,e,y,d||0);g=n.peekPtr(e),l(g,t),r.sqlite3_extended_result_codes(g,1),h.indexOf("t")>=0&&r.sqlite3_trace_v2(g,r.SQLITE_TRACE_STMT,c,g)}catch(yo){throw g&&r.sqlite3_close_v2(g),yo}finally{n.pstack.restore(b)}this.filename=_,o.set(this,g),s.set(this,Object.create(null));try{const n=r.sqlite3_js_db_vfs(g);n||t("Internal error: cannot get VFS for new db handle.");const i=u[n];i instanceof Function?i(this,e):i&&l(g,r.sqlite3_exec(g,i,0,0,0))}catch(yo){throw this.close(),yo}};f.setVfsPostOpenSql=function(e,t){u[e]=t},f.normalizeArgs=function(e=":memory:",t="c",r=null){const n={};return 1===arguments.length&&arguments[0]&&"object"==typeof arguments[0]?(Object.assign(n,arguments[0]),void 0===n.flags&&(n.flags="c"),void 0===n.vfs&&(n.vfs=null),void 0===n.filename&&(n.filename=":memory:")):(n.filename=e,n.flags=t,n.vfs=r),n};const p=function(...e){f.apply(this,e)};p.dbCtorHelper=f;const d={null:1,number:2,string:3,boolean:4,blob:5};d[void 0],d.null,n.bigIntEnabled&&(d.bigint=d.number);const h=function(){d!==arguments[2]&&t(r.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],o.set(this,arguments[1]),this.parameterCount=r.sqlite3_bind_parameter_count(this.pointer)},_=function(e){return e.pointer||t("DB has been closed."),e},m=function(e,r){return(r!==(0|r)||r<0||r>=e.columnCount)&&t("Column index",r,"is out of range."),e},g=(e,t,r,...n)=>{const i=e.prepare(t);try{const e=i.bind(r).step()?i.get(...n):void 0;return i.reset(),e}finally{i.finalize()}},y=(e,t,r,n)=>e.exec({sql:t,bind:r,rowMode:n,returnValue:"resultRows"});p.checkRc=(e,t)=>l(e,t),p.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return _(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch(yo){}const e=this.pointer;if(Object.keys(s.get(this)).forEach(((e,t)=>{if(t&&t.pointer)try{t.finalize()}catch(yo){}})),o.delete(this),s.delete(this),r.sqlite3_close_v2(e),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch(yo){}delete this.filename}},changes:function(e=!1,t=!1){const n=_(this).pointer;return e?t?r.sqlite3_total_changes64(n):r.sqlite3_total_changes(n):t?r.sqlite3_changes64(n):r.sqlite3_changes(n)},dbFilename:function(e="main"){return r.sqlite3_db_filename(_(this).pointer,e)},dbName:function(e=0){return r.sqlite3_db_name(_(this).pointer,e)},dbVfsName:function(e=0){let t;const i=r.sqlite3_js_db_vfs(_(this).pointer,e);if(i){const e=new r.sqlite3_vfs(i);try{t=n.cstrToJs(e.$zName)}finally{e.dispose()}}return t},prepare:function(e){_(this);const i=n.pstack.pointer;let o,a;try{o=n.pstack.alloc(8),p.checkRc(this,r.sqlite3_prepare_v2(this.pointer,e,-1,o,null)),a=n.peekPtr(o)}finally{n.pstack.restore(i)}a||t("Cannot prepare empty SQL.");const l=new h(this,a,d);return s.get(this)[a]=l,l},exec:function(){_(this);const e=function(e,n){const o=Object.create(null);switch(o.opt=Object.create(null),n.length){case 1:"string"==typeof n[0]||i.isSQLableTypedArray(n[0])||Array.isArray(n[0])?o.sql=n[0]:n[0]&&"object"==typeof n[0]&&(o.opt=n[0],o.sql=o.opt.sql);break;case 2:o.sql=n[0],o.opt=n[1];break;default:t("Invalid argument count for exec().")}o.sql=i.flexibleString(o.sql),"string"!=typeof o.sql&&t("Missing SQL argument or unsupported SQL value type.");const s=o.opt;switch(s.returnValue){case"resultRows":s.resultRows||(s.resultRows=[]),o.returnVal=()=>s.resultRows;break;case"saveSql":s.saveSql||(s.saveSql=[]),o.returnVal=()=>s.saveSql;break;case void 0:case"this":o.returnVal=()=>e;break;default:t("Invalid returnValue value:",s.returnValue)}if(s.callback||s.returnValue||void 0===s.rowMode||(s.resultRows||(s.resultRows=[]),o.returnVal=()=>s.resultRows),s.callback||s.resultRows)switch(void 0===s.rowMode?"array":s.rowMode){case"object":o.cbArg=e=>e.get(Object.create(null));break;case"array":o.cbArg=e=>e.get([]);break;case"stmt":Array.isArray(s.resultRows)&&t("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),o.cbArg=e=>e;break;default:if(i.isInt32(s.rowMode)){o.cbArg=e=>e.get(s.rowMode);break}if("string"==typeof s.rowMode&&s.rowMode.length>1&&"$"===s.rowMode[0]){const e=s.rowMode.substr(1);o.cbArg=n=>{const i=n.get(Object.create(null))[e];return void 0===i?t(r.SQLITE_NOTFOUND,"exec(): unknown result column:",e):i};break}t("Invalid rowMode:",s.rowMode)}return o}(this,arguments);if(!e.sql)return t("exec() requires an SQL string.");const o=e.opt,s=o.callback,a=Array.isArray(o.resultRows)?o.resultRows:void 0;let l,c=o.bind,u=!!(e.cbArg||o.columnNames||a);const f=n.scopedAllocPush(),m=Array.isArray(o.saveSql)?o.saveSql:void 0;try{const t=i.isSQLableTypedArray(e.sql);let f=t?e.sql.byteLength:n.jstrlen(e.sql);const _=n.scopedAlloc(2*n.ptrSizeof+(f+1)),g=_+n.ptrSizeof;let y=g+n.ptrSizeof;const b=y+f;for(t?n.heap8().set(e.sql,y):n.jstrcpy(e.sql,n.heap8(),y,f,!1),n.poke(y+f,0);y&&n.peek(y,"i8");){n.pokePtr([_,g],0),p.checkRc(this,r.sqlite3_prepare_v3(this.pointer,y,f,0,_,g));const t=n.peekPtr(_);if(y=n.peekPtr(g),f=b-y,t){if(m&&m.push(r.sqlite3_sql(t).trim()),l=new h(this,t,d),c&&l.parameterCount&&(l.bind(c),c=null),u&&l.columnCount){let t=Array.isArray(o.columnNames)?0:1;if(u=!1,e.cbArg||a){for(;l.step();l._lockedByExec=!1){0==t++&&l.getColumnNames(o.columnNames),l._lockedByExec=!0;const r=e.cbArg(l);if(a&&a.push(r),s&&!1===s.call(o,r,l))break}l._lockedByExec=!1}0===t&&l.getColumnNames(o.columnNames)}else l.step();l.reset().finalize(),l=null}}}finally{n.scopedAllocPop(f),l&&(delete l._lockedByExec,l.finalize())}return e.returnVal()},createFunction:function(e,n,o){const s=e=>e instanceof Function;switch(arguments.length){case 1:e=(o=e).name,n=o.xFunc||0;break;case 2:s(n)||(n=(o=n).xFunc||0)}o||(o={}),"string"!=typeof e&&t("Invalid arguments: missing function name.");let l=o.xStep||0,c=o.xFinal||0;const u=o.xValue||0,f=o.xInverse||0;let d;s(n)?(d=!1,(s(l)||s(c))&&t("Ambiguous arguments: scalar or aggregate?"),l=c=null):s(l)?(s(c)||t("Missing xFinal() callback for aggregate or window UDF."),n=null):s(c)?t("Missing xStep() callback for aggregate or window UDF."):t("Missing function-type properties."),!1===d?(s(u)||s(f))&&t("xValue and xInverse are not permitted for non-window UDFs."):s(u)?(s(f)||t("xInverse must be provided if xValue is."),d=!0):s(f)&&t("xValue must be provided if xInverse is.");const h=o.pApp;null==h||"number"==typeof h&&i.isInt32(h)||t("Invalid value for pApp property. Must be a legal WASM pointer value.");const _=o.xDestroy||0;_&&!s(_)&&t("xDestroy property must be a function.");let m=0;a(o,"deterministic")&&(m|=r.SQLITE_DETERMINISTIC),a(o,"directOnly")&&(m|=r.SQLITE_DIRECTONLY),a(o,"innocuous")&&(m|=r.SQLITE_INNOCUOUS),e=e.toLowerCase();const g=n||l,y=a(o,"arity"),b="number"==typeof y?y:g.length?g.length-1:0;let w;return w=d?r.sqlite3_create_window_function(this.pointer,e,b,r.SQLITE_UTF8|m,h||0,l,c,u,f,_):r.sqlite3_create_function_v2(this.pointer,e,b,r.SQLITE_UTF8|m,h||0,n,l,c,_),p.checkRc(this,w),this},selectValue:function(e,t,r){return g(this,e,t,0,r)},selectValues:function(e,t,r){const n=this.prepare(e),i=[];try{for(n.bind(t);n.step();)i.push(n.get(0,r));n.reset()}finally{n.finalize()}return i},selectArray:function(e,t){return g(this,e,t,[])},selectObject:function(e,t){return g(this,e,t,{})},selectArrays:function(e,t){return y(this,e,t,"array")},selectObjects:function(e,t){return y(this,e,t,"object")},openStatementCount:function(){return this.pointer?Object.keys(s.get(this)).length:0},transaction:function(e){let n="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&t(r.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),n+=" "+arguments[0],e=arguments[1]),_(this).exec(n);try{const t=e(this);return this.exec("COMMIT"),t}catch(yo){throw this.exec("ROLLBACK"),yo}},savepoint:function(e){_(this).exec("SAVEPOINT oo1");try{const t=e(this);return this.exec("RELEASE oo1"),t}catch(yo){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),yo}},checkRc:function(e){return l(this,e)}};const b=function(e){return e.pointer||t("Stmt has been closed."),e},w=function(e){return function(e){let t=d[null==e?"null":typeof e];switch(t){case d.boolean:case d.null:case d.number:case d.string:return t;case d.bigint:if(n.bigIntEnabled)return t;default:return i.isBindableTypedArray(e)?d.blob:void 0}}(e)||t("Unsupported bind() argument type:",typeof e)},v=function(e,r){return e._lockedByExec&&t("Operation is illegal when statement is locked:",r),e},q=function o(s,a,l,c){v(b(s),"bind()"),o._||(o._tooBigInt=e=>t("BigInt value is too big to store without precision loss:",e),o._={string:function(e,t,i,o){const[s,a]=n.allocCString(i,!0);return(o?r.sqlite3_bind_blob:r.sqlite3_bind_text)(e.pointer,t,s,a,r.SQLITE_WASM_DEALLOC)}}),w(c),a=function(e,n){const o="number"==typeof n?n:r.sqlite3_bind_parameter_index(e.pointer,n);return 0!==o&&i.isInt32(o)?(o<1||o>e.parameterCount)&&t("Bind index",n,"is out of range."):t("Invalid bind() parameter name: "+n),o}(s,a);let u=0;switch(null==c?d.null:l){case d.null:u=r.sqlite3_bind_null(s.pointer,a);break;case d.string:u=o._.string(s,a,c,!1);break;case d.number:{let e;i.isInt32(c)?e=r.sqlite3_bind_int:"bigint"==typeof c?i.bigIntFits64(c)?n.bigIntEnabled?e=r.sqlite3_bind_int64:i.bigIntFitsDouble(c)?(c=Number(c),e=r.sqlite3_bind_double):o._tooBigInt(c):o._tooBigInt(c):(c=Number(c),e=n.bigIntEnabled&&Number.isInteger(c)?r.sqlite3_bind_int64:r.sqlite3_bind_double),u=e(s.pointer,a,c);break}case d.boolean:u=r.sqlite3_bind_int(s.pointer,a,c?1:0);break;case d.blob:{if("string"==typeof c){u=o._.string(s,a,c,!0);break}c instanceof ArrayBuffer?c=new Uint8Array(c):i.isBindableTypedArray(c)||t("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const e=n.alloc(c.byteLength||1);n.heap8().set(c.byteLength?c:[0],e),u=r.sqlite3_bind_blob(s.pointer,a,e,c.byteLength,r.SQLITE_WASM_DEALLOC);break}default:e.config.warn("Unsupported bind() argument type:",c),t("Unsupported bind() argument type: "+typeof c)}return u&&p.checkRc(s.db.pointer,u),s._mayGet=!1,s};h.prototype={finalize:function(){if(this.pointer){v(this,"finalize()");const e=r.sqlite3_finalize(this.pointer);return delete s.get(this.db)[this.pointer],o.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,e}},clearBindings:function(){return v(b(this),"clearBindings()"),r.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(e){v(this,"reset()"),e&&this.clearBindings();const t=r.sqlite3_reset(b(this).pointer);return this._mayGet=!1,l(this.db,t),this},bind:function(){let e,r;switch(b(this),arguments.length){case 1:e=1,r=arguments[0];break;case 2:e=arguments[0],r=arguments[1];break;default:t("Invalid bind() arguments.")}return void 0===r?this:(this.parameterCount||t("This statement has no bindable parameters."),this._mayGet=!1,null===r?q(this,e,d.null,r):Array.isArray(r)?(1!==arguments.length&&t("When binding an array, an index argument is not permitted."),r.forEach(((e,t)=>q(this,t+1,w(e),e))),this):(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),"object"!=typeof r||i.isBindableTypedArray(r)?q(this,e,w(r),r):(1!==arguments.length&&t("When binding an object, an index argument is not permitted."),Object.keys(r).forEach((e=>q(this,e,w(r[e]),r[e]))),this)))},bindAsBlob:function(e,r){b(this),1===arguments.length&&(r=e,e=1);const n=w(r);return d.string!==n&&d.blob!==n&&d.null!==n&&t("Invalid value type for bindAsBlob()"),q(this,e,d.blob,r)},step:function(){v(this,"step()");const t=r.sqlite3_step(b(this).pointer);switch(t){case r.SQLITE_DONE:return this._mayGet=!1;case r.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,e.config.warn("sqlite3_step() rc=",t,r.sqlite3_js_rc_str(t),"SQL =",r.sqlite3_sql(this.pointer)),p.checkRc(this.db.pointer,t)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const e=this.step();return this.reset(),e}finally{try{this.finalize()}catch(yo){}}},get:function(e,o){if(b(this)._mayGet||t("Stmt.step() has not (recently) returned true."),Array.isArray(e)){let t=0;const r=this.columnCount;for(;t<r;)e[t]=this.get(t++);return e}if(e&&"object"==typeof e){let t=0;const n=this.columnCount;for(;t<n;)e[r.sqlite3_column_name(this.pointer,t)]=this.get(t++);return e}switch(m(this,e),void 0===o?r.sqlite3_column_type(this.pointer,e):o){case r.SQLITE_NULL:return null;case r.SQLITE_INTEGER:if(n.bigIntEnabled){const t=r.sqlite3_column_int64(this.pointer,e);return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t).valueOf():t}{const n=r.sqlite3_column_double(this.pointer,e);return(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)&&t("Integer is out of range for JS integer range: "+n),i.isInt32(n)?0|n:n}case r.SQLITE_FLOAT:return r.sqlite3_column_double(this.pointer,e);case r.SQLITE_TEXT:return r.sqlite3_column_text(this.pointer,e);case r.SQLITE_BLOB:{const t=r.sqlite3_column_bytes(this.pointer,e),i=r.sqlite3_column_blob(this.pointer,e),o=new Uint8Array(t);return t&&o.set(n.heap8u().slice(i,i+t),0),t&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(o.buffer),o}default:t("Don't know how to translate","type of result column #"+e+".")}t("Not reached.")},getInt:function(e){return this.get(e,r.SQLITE_INTEGER)},getFloat:function(e){return this.get(e,r.SQLITE_FLOAT)},getString:function(e){return this.get(e,r.SQLITE_TEXT)},getBlob:function(e){return this.get(e,r.SQLITE_BLOB)},getJSON:function(e){const t=this.get(e,r.SQLITE_STRING);return null===t?t:JSON.parse(t)},getColumnName:function(e){return r.sqlite3_column_name(m(b(this),e).pointer,e)},getColumnNames:function(e=[]){m(b(this),0);const t=this.columnCount;for(let n=0;n<t;++n)e.push(r.sqlite3_column_name(this.pointer,n));return e},getParamIndex:function(e){return b(this).parameterCount?r.sqlite3_bind_parameter_index(this.pointer,e):void 0}};{const e={enumerable:!0,get:function(){return o.get(this)},set:()=>t("The pointer property is read-only.")};Object.defineProperty(h.prototype,"pointer",e),Object.defineProperty(p.prototype,"pointer",e)}if(Object.defineProperty(h.prototype,"columnCount",{enumerable:!1,get:function(){return r.sqlite3_column_count(this.pointer)},set:()=>t("The columnCount property is read-only.")}),e.oo1={DB:p,Stmt:h},i.isUIThread()){e.oo1.JsStorageDb=function(e="session"){"session"!==e&&"local"!==e&&t("JsStorageDb db name must be one of 'session' or 'local'."),f.call(this,{filename:e,flags:"c",vfs:"kvvfs"})};const n=e.oo1.JsStorageDb;n.prototype=Object.create(p.prototype),n.clearStorage=r.sqlite3_js_kvvfs_clear,n.prototype.clearStorage=function(){return n.clearStorage(_(this).filename)},n.storageSize=r.sqlite3_js_kvvfs_size,n.prototype.storageSize=function(){return n.storageSize(_(this).filename)}}})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){e.initWorker1API=function(){const e=(...e)=>{throw new Error(e.join(" "))};globalThis.WorkerGlobalScope instanceof Function||e("initWorker1API() must be run from a Worker thread.");const t=this.sqlite3||e("Missing this.sqlite3 object."),r=t.oo1.DB,n=function(e){let t=i.idMap.get(e);return t||(t="db#"+ ++i.idSeq+"@"+e.pointer,i.idMap.set(e,t),t)},i={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(e){const t=new r(e);return this.dbs[n(t)]=t,this.dbList.indexOf(t)<0&&this.dbList.push(t),t},close:function(e,r){if(e){delete this.dbs[n(e)];const i=e.filename,o=t.wasm.sqlite3_wasm_db_vfs(e.pointer,0);e.close();const s=this.dbList.indexOf(e);s>=0&&this.dbList.splice(s,1),r&&i&&o&&t.wasm.sqlite3_wasm_vfs_unlink(o,i)}},post:function(e,t){t&&t.length?(globalThis.postMessage(e,Array.from(t)),t.length=0):globalThis.postMessage(e)},dbs:Object.create(null),getDb:function(t,r=!0){return this.dbs[t]||(r?e("Unknown (or closed) DB ID:",t):void 0)}},o=function(t,r=!0){const n=i.getDb(t.dbId,!1)||i.dbList[0];return r?function(t=i.dbList[0]){return t&&t.pointer?t:e("DB is not opened.")}(n):n},s={open:function(r){const o=Object.create(null),s=r.args||Object.create(null);s.simulateError&&e("Throwing because of simulateError flag.");const a=Object.create(null);let l,c;var u;if(o.vfs=s.vfs,""===(u=s.filename)||":"===u[0]?o.filename=s.filename||"":(o.filename=s.filename,l=s.byteArray,l&&(c=function(e){const r=/^file:.+(vfs=(\w+))/.exec(e);return t.capi.sqlite3_vfs_find(r?r[2]:0)}(s.filename))),c){let e;try{e=t.wasm.allocFromTypedArray(l);const r=t.wasm.sqlite3_wasm_vfs_create_file(c,o.filename,e,l.byteLength);r&&t.SQLite3Error.toss(r)}catch(yo){throw new t.SQLite3Error(yo.name+" creating "+s.filename+": "+yo.message,{cause:yo})}finally{e&&t.wasm.dealloc(e)}}const f=i.open(o);return a.filename=f.filename,a.persistent=!!t.capi.sqlite3_js_db_uses_vfs(f.pointer,"opfs"),a.dbId=n(f),a.vfs=f.dbVfsName(),a},close:function(e){const t=o(e,!1),r={filename:t&&t.filename};if(t){const r=!(!e.args||"object"!=typeof e.args)&&!!e.args.unlink;i.close(t,r)}return r},exec:function(t){const r="string"==typeof t.args?{sql:t.args}:t.args||Object.create(null);"stmt"===r.rowMode?e("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):r.sql||e("'exec' requires input SQL.");const n=o(t);(r.callback||Array.isArray(r.resultRows))&&(n._blobXfer=i.xfer);const s=r.callback;let a=0;const l=!!r.columnNames;"string"==typeof s&&(l||(r.columnNames=[]),r.callback=function(e,t){i.post({type:s,columnNames:r.columnNames,rowNumber:++a,row:e},i.xfer)});try{const e=r.countChanges?n.changes(!0,64===r.countChanges):void 0;n.exec(r),void 0!==e&&(r.changeCount=n.changes(!0,64===r.countChanges)-e),r.callback instanceof Function&&(r.callback=s,i.post({type:s,columnNames:r.columnNames,rowNumber:null,row:void 0}))}finally{delete n._blobXfer,r.callback&&(r.callback=s)}return r},"config-get":function(){const e=Object.create(null),r=t.config;return["bigIntEnabled"].forEach((function(t){Object.getOwnPropertyDescriptor(r,t)&&(e[t]=r[t])})),e.version=t.version,e.vfsList=t.capi.sqlite3_js_vfs_list(),e.opfsEnabled=!!t.opfs,e},export:function(e){const r=o(e),n={byteArray:t.capi.sqlite3_js_db_export(r.pointer),filename:r.filename,mimetype:"application/x-sqlite3"};return i.xfer.push(n.byteArray.buffer),n},toss:function(t){e("Testing worker exception")},"opfs-tree":async function(r){t.opfs||e("OPFS support is unavailable.");return await t.opfs.treeList()}};globalThis.onmessage=async function(t){let r,o=(t=t.data).dbId,a=t.type;const l=performance.now();try{s.hasOwnProperty(a)&&s[a]instanceof Function?r=await s[a](t):e("Unknown db worker message type:",t.type)}catch(c){a="error",r={operation:t.type,message:c.message,errorClass:c.name,input:t},c.stack&&(r.stack="string"==typeof c.stack?c.stack.split(/\n\s*/):c.stack)}o||(o=r.dbId||i.dbList[0]&&n(i.dbList[0])),i.post({type:a,dbId:o,messageId:t.messageId,workerReceivedTime:l,workerRespondTime:performance.now(),departureTime:t.departureTime,result:r},i.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:e})})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=e.wasm,r=e.capi,n=e.util.toss3,i=Object.create(null),o=Object.create(null),s=e.StructBinder;e.vfs=i,e.vtab=o;const a=r.sqlite3_index_info;a.prototype.nthConstraint=function(e,t=!1){if(e<0||e>=this.$nConstraint)return!1;const r=this.$aConstraint+a.sqlite3_index_constraint.structInfo.sizeof*e;return t?r:new a.sqlite3_index_constraint(r)},a.prototype.nthConstraintUsage=function(e,t=!1){if(e<0||e>=this.$nConstraint)return!1;const r=this.$aConstraintUsage+a.sqlite3_index_constraint_usage.structInfo.sizeof*e;return t?r:new a.sqlite3_index_constraint_usage(r)},a.prototype.nthOrderBy=function(e,t=!1){if(e<0||e>=this.$nOrderBy)return!1;const r=this.$aOrderBy+a.sqlite3_index_orderby.structInfo.sizeof*e;return t?r:new a.sqlite3_index_orderby(r)};const l=function e(r,i,o,a=e.installMethodArgcCheck){if(r instanceof s.StructType?o instanceof Function||t.isPtr(o)||n("Usage errror: expecting a Function or WASM pointer to one."):n("Usage error: target object is-not-a StructType."),1===arguments.length)return(t,n)=>e(r,t,n,a);e.argcProxy||(e.argcProxy=function(e,t,r,i){return function(...o){return r.length!==arguments.length&&n("Argument mismatch for",e.structInfo.name+"::"+t+": Native signature is:",i),r.apply(this,o)}},e.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach(((e,r)=>{if("number"==typeof e)try{t.uninstallFunction(e)}catch(yo){}})),delete this.ondispose.__removeFuncList)});const l=r.memberSignature(i);l.length<2&&n("Member",i,"does not have a function pointer signature:",l);const c=r.memberKey(i),u=a&&!t.isPtr(o)?e.argcProxy(r,c,o,l):o;if(t.isPtr(u))u&&!t.functionEntry(u)&&n("Pointer",u,"is not a WASM function table entry."),r[c]=u;else{const n=t.installFunction(u,r.memberSignature(i,!0));r[c]=n,r.ondispose&&r.ondispose.__removeFuncList||(r.addOnDispose("ondispose.__removeFuncList handler",e.removeFuncList),r.ondispose.__removeFuncList=[]),r.ondispose.__removeFuncList.push(c,n)}return(t,n)=>e(r,t,n,a)};l.installMethodArgcCheck=!1;const c=function(e,t,r=l.installMethodArgcCheck){const n=new Map;for(const i of Object.keys(t)){const o=t[i],s=n.get(o);if(s){const t=e.memberKey(i);e[t]=e[e.memberKey(s)]}else l(e,i,o,r),n.set(o,i)}return e};s.StructType.prototype.installMethod=function(e,t,r=l.installMethodArgcCheck){return arguments.length<3&&e&&"object"==typeof e?c(this,...arguments):l(this,...arguments)},s.StructType.prototype.installMethods=function(e,t=l.installMethodArgcCheck){return c(this,e,t)},r.sqlite3_vfs.prototype.registerVfs=function(t=!1){this instanceof e.capi.sqlite3_vfs||n("Expecting a sqlite3_vfs-type argument.");const i=r.sqlite3_vfs_register(this,t?1:0);return i&&n("sqlite3_vfs_register(",this,") failed with rc",i),this.pointer!==r.sqlite3_vfs_find(this.$zName)&&n("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},i.installVfs=function(e){let r=0;const i=["io","vfs"];for(const n of i){const i=e[n];i&&(++r,c(i.struct,i.methods,!!i.applyArgcCheck),"vfs"===n&&(i.struct.$zName||"string"!=typeof i.name||i.struct.addOnDispose(i.struct.$zName=t.allocCString(i.name)),i.struct.registerVfs(!!i.asDefault)))}return r||n("Misuse: installVfs() options object requires at least","one of:",i),this};const u=function(r,n){const i=function(r,n){return function(i,o=!1){if(0===arguments.length&&(i=new n),i instanceof n)return this.set(i.pointer,i),i;t.isPtr(i)||e.SQLite3Error.toss("Invalid argument to",r+"()");let s=this.get(i);return o&&this.delete(i),s}.bind(new Map)}(r,n);return Object.assign(Object.create(null),{StructType:n,create:e=>{const r=i();return t.pokePtr(e,r.pointer),r},get:e=>i(e),unget:e=>i(e,!0),dispose:e=>{const t=i(e,!0);t&&t.dispose()}})};o.xVtab=u("xVtab",r.sqlite3_vtab),o.xCursor=u("xCursor",r.sqlite3_vtab_cursor),o.xIndexInfo=e=>new r.sqlite3_index_info(e),o.xError=function t(n,i,o){if(t.errorReporter instanceof Function)try{t.errorReporter("sqlite3_module::"+n+"(): "+i.message)}catch(yo){}let s;return i instanceof e.WasmAllocError?s=r.SQLITE_NOMEM:arguments.length>2?s=o:i instanceof e.SQLite3Error&&(s=i.resultCode),s||r.SQLITE_ERROR},o.xError.errorReporter=console.error.bind(console),o.xRowid=(e,r)=>t.poke(e,r,"i64"),o.setupModule=function(i){let s=!1;const a=this instanceof r.sqlite3_module?this:i.struct||(s=new r.sqlite3_module);try{const r=i.methods||n("Missing 'methods' object.");for(const e of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const t=e[0],n=e[1];!0===r[t]?r[t]=r[n]:!0===r[n]&&(r[n]=r[t])}if(i.catchExceptions){const n=function(r,n){return["xConnect","xCreate"].indexOf(r)>=0?function(i,s,a,l,c,u){try{return n(...arguments)||0}catch(yo){return yo instanceof e.WasmAllocError||(t.dealloc(t.peekPtr(u)),t.pokePtr(u,t.allocCString(yo.message))),o.xError(r,yo)}}:function(...e){try{return n(...e)||0}catch(yo){return o.xError(r,yo)}}},i=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],s=Object.create(null);for(const e of i){const t=r[e];t instanceof Function&&("xConnect"===e&&r.xCreate===t?s[e]=r.xCreate:"xCreate"===e&&r.xConnect===t?s[e]=r.xConnect:s[e]=n(e,t))}c(a,s,!1)}else c(a,r,!!i.applyArgcCheck);if(0===a.$iVersion){let e;e="number"==typeof i.iVersion?i.iVersion:a.$xShadowName?3:a.$xSavePoint||a.$xRelease||a.$xRollbackTo?2:1,a.$iVersion=e}}catch(yo){throw s&&s.dispose(),yo}return a},r.sqlite3_module.prototype.setupModule=function(e){return o.setupModule.call(this,e)}})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=function t(r){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if("undefined"==typeof WorkerGlobalScope)return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!(globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory))return Promise.reject(new Error("Missing required OPFS APIs."));r&&"object"==typeof r||(r=Object.create(null));const n=new URL(globalThis.location.href).searchParams;if(n.has("opfs-disable"))return Promise.resolve(e);void 0===r.verbose&&(r.verbose=n.has("opfs-verbose")?+n.get("opfs-verbose")||2:1),void 0===r.sanityChecks&&(r.sanityChecks=n.has("opfs-sanity-check")),void 0===r.proxyUri&&(r.proxyUri=t.defaultProxyUri),"function"==typeof r.proxyUri&&(r.proxyUri=r.proxyUri());const i=new Promise((function(t,n){const i=[e.config.error,e.config.warn,e.config.log],o=(e,...t)=>{r.verbose>e&&i[e]("OPFS syncer:",...t)},s=(...e)=>o(2,...e),a=(...e)=>o(1,...e),l=(...e)=>o(0,...e),c=e.util.toss,u=e.capi,f=e.util,p=e.wasm,d=u.sqlite3_vfs,h=u.sqlite3_file,_=u.sqlite3_io_methods,m=Object.create(null);m.metrics={dump:function(){let t,r=0,n=0,i=0;for(t in x.opIds){const e=A[t];r+=e.count,n+=e.time,i+=e.wait,e.avgTime=e.count&&e.time?e.time/e.count:0,e.avgWait=e.count&&e.wait?e.wait/e.count:0}e.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",A,"\nTotal of",r,"op(s) for",n,"ms (incl. "+i+" ms of waiting on the async side)"),e.config.log("Serialization metrics:",A.s11n),q.postMessage({type:"opfs-async-metrics"})},reset:function(){let e;for(e in x.opIds)(t=A[e]=Object.create(null)).count=t.time=t.wait=0;var t;let r=A.s11n=Object.create(null);r=r.serialize=Object.create(null),r.count=r.time=0,r=A.s11n.deserialize=Object.create(null),r.count=r.time=0}};const g=new _,y=(new d).addOnDispose((()=>g.dispose()));let b;const w=e=>(b=!0,y.dispose(),n(e)),v=()=>(b=!1,t(e)),q=new Worker(new URL("/assets/sqlite3-opfs-async-proxy.js",self.location.href),{type:"module"});setTimeout((()=>{void 0===b&&w(new Error("Timeout while waiting for OPFS async proxy worker."))}),4e3),q._originalOnError=q.onerror,q.onerror=function(e){l("Error initializing OPFS asyncer:",e),w(new Error("Loading OPFS async Worker failed for unknown reasons."))};const E=u.sqlite3_vfs_find(null),S=E?new d(E):null;g.$iVersion=1,y.$iVersion=2,y.$szOsFile=u.sqlite3_file.structInfo.sizeof,y.$mxPathname=1024,y.$zName=p.allocCString("opfs"),y.$xDlOpen=y.$xDlError=y.$xDlSym=y.$xDlClose=null,y.addOnDispose("$zName",y.$zName,"cleanup default VFS wrapper",(()=>S?S.dispose():null));const x=Object.create(null);x.verbose=r.verbose,x.littleEndian=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]})(),x.asyncIdleWaitTime=150,x.asyncS11nExceptions=1,x.fileBufferSize=65536,x.sabS11nOffset=x.fileBufferSize,x.sabS11nSize=2*y.$mxPathname,x.sabIO=new SharedArrayBuffer(x.fileBufferSize+x.sabS11nSize),x.opIds=Object.create(null);const A=Object.create(null);{let e=0;x.opIds.whichOp=e++,x.opIds.rc=e++,x.opIds.xAccess=e++,x.opIds.xClose=e++,x.opIds.xDelete=e++,x.opIds.xDeleteNoWait=e++,x.opIds.xFileSize=e++,x.opIds.xLock=e++,x.opIds.xOpen=e++,x.opIds.xRead=e++,x.opIds.xSleep=e++,x.opIds.xSync=e++,x.opIds.xTruncate=e++,x.opIds.xUnlock=e++,x.opIds.xWrite=e++,x.opIds.mkdir=e++,x.opIds["opfs-async-metrics"]=e++,x.opIds["opfs-async-shutdown"]=e++,x.opIds.retry=e++,x.sabOP=new SharedArrayBuffer(4*e),m.metrics.reset()}x.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach((e=>{void 0===(x.sq3Codes[e]=u[e])&&c("Maintenance required: not found:",e)})),x.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const k=(e,...t)=>{const r=x.opIds[e]||c("Invalid op ID:",e);x.s11n.serialize(...t),Atomics.store(x.sabOPView,x.opIds.rc,-1),Atomics.store(x.sabOPView,x.opIds.whichOp,r),Atomics.notify(x.sabOPView,x.opIds.whichOp);const n=performance.now();Atomics.wait(x.sabOPView,x.opIds.rc,-1);const i=Atomics.load(x.sabOPView,x.opIds.rc);if(A[e].wait+=performance.now()-n,i&&x.asyncS11nExceptions){const t=x.s11n.deserialize();t&&l(e+"() async error:",...t)}return i};m.debug={asyncShutdown:()=>{a("Shutting down OPFS async listener. The OPFS VFS will no longer work."),k("opfs-async-shutdown")},asyncRestart:()=>{a("Attempting to restart OPFS VFS async listener. Might work, might not."),q.postMessage({type:"opfs-async-restart"})}};const I=function e(t=16){e._chars||(e._n=(e._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789").length);const r=[];let n=0;for(;n<t;++n){const t=Math.random()*(64*e._n)%e._n|0;r[n]=e._chars[t]}return r.join("")},T=Object.create(null),O=Object.create(null);O.op=void 0,O.start=void 0;const L=e=>{O.start=performance.now(),O.op=e,++A[e].count},P=()=>A[O.op].time+=performance.now()-O.start,F={xCheckReservedLock:function(e,t){const r=T[e];return p.poke(t,r.lockType?1:0,"i32"),0},xClose:function(e){L("xClose");let t=0;const r=T[e];return r&&(delete T[e],t=k("xClose",e),r.sq3File&&r.sq3File.dispose()),P(),t},xDeviceCharacteristics:function(e){return u.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(e,t,r){return u.SQLITE_NOTFOUND},xFileSize:function(e,t){L("xFileSize");let r=k("xFileSize",e);if(0==r)try{const e=x.s11n.deserialize()[0];p.poke(t,e,"i64")}catch(yo){l("Unexpected error reading xFileSize() result:",yo),r=x.sq3Codes.SQLITE_IOERR}return P(),r},xLock:function(e,t){L("xLock");const r=T[e];let n=0;return r.lockType?r.lockType=t:(n=k("xLock",e,t),0===n&&(r.lockType=t)),P(),n},xRead:function(e,t,r,n){L("xRead");const i=T[e];let o;try{o=k("xRead",e,r,Number(n)),0!==o&&u.SQLITE_IOERR_SHORT_READ!==o||p.heap8u().set(i.sabView.subarray(0,r),t)}catch(yo){l("xRead(",arguments,") failed:",yo,i),o=u.SQLITE_IOERR_READ}return P(),o},xSync:function(e,t){L("xSync"),++A.xSync.count;const r=k("xSync",e,t);return P(),r},xTruncate:function(e,t){L("xTruncate");const r=k("xTruncate",e,Number(t));return P(),r},xUnlock:function(e,t){L("xUnlock");const r=T[e];let n=0;return u.SQLITE_LOCK_NONE===t&&r.lockType&&(n=k("xUnlock",e,t)),0===n&&(r.lockType=t),P(),n},xWrite:function(e,t,r,n){L("xWrite");const i=T[e];let o;try{i.sabView.set(p.heap8u().subarray(t,t+r)),o=k("xWrite",e,r,Number(n))}catch(yo){l("xWrite(",arguments,") failed:",yo,i),o=u.SQLITE_IOERR_WRITE}return P(),o}},R={xAccess:function(e,t,r,n){L("xAccess");const i=k("xAccess",p.cstrToJs(t));return p.poke(n,i?0:1,"i32"),P(),0},xCurrentTime:function(e,t){return p.poke(t,2440587.5+(new Date).getTime()/864e5,"double"),0},xCurrentTimeInt64:function(e,t){return p.poke(t,21086676e7+(new Date).getTime(),"i64"),0},xDelete:function(e,t,r){L("xDelete");const n=k("xDelete",p.cstrToJs(t),r,!1);return P(),n},xFullPathname:function(e,t,r,n){return p.cstrncpy(n,t,r)<r?0:u.SQLITE_CANTOPEN},xGetLastError:function(e,t,r){return a("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(e,t,r,n,i){L("xOpen");let o=0;0===t?t=I():"number"==typeof t&&(u.sqlite3_uri_boolean(t,"opfs-unlock-asap",0)&&(o|=x.opfsFlags.OPFS_UNLOCK_ASAP),t=p.cstrToJs(t));const s=Object.create(null);s.fid=r,s.filename=t,s.sab=new SharedArrayBuffer(x.fileBufferSize),s.flags=n;const a=k("xOpen",r,t,n,o);return a||(s.readOnly&&p.poke(i,u.SQLITE_OPEN_READONLY,"i32"),T[r]=s,s.sabView=x.sabFileBufView,s.sq3File=new h(r),s.sq3File.$pMethods=g.pointer,s.lockType=u.SQLITE_LOCK_NONE),P(),a}};S&&(y.$xRandomness=S.$xRandomness,y.$xSleep=S.$xSleep),y.$xRandomness||(R.xRandomness=function(e,t,r){const n=p.heap8u();let i=0;for(;i<t;++i)n[r+i]=255e3*Math.random()&255;return i}),y.$xSleep||(R.xSleep=function(e,t){return Atomics.wait(x.sabOPView,x.opIds.xSleep,0,t),0}),m.getResolvedPath=function(e,t){const r=new URL(e,"file://irrelevant").pathname;return t?r.split("/").filter((e=>!!e)):r},m.getDirForFilename=async function(e,t=!1){const r=m.getResolvedPath(e,!0),n=r.pop();let i=m.rootDirectory;for(const o of r)o&&(i=await i.getDirectoryHandle(o,{create:!!t}));return[i,n]},m.mkdir=async function(e){try{return await m.getDirForFilename(e+"/filepart",!0),!0}catch(yo){return!1}},m.entryExists=async function(e){try{const[t,r]=await m.getDirForFilename(e);return await t.getFileHandle(r),!0}catch(yo){return!1}},m.randomFilename=I,m.registerVfs=(e=!1)=>p.exports.sqlite3_vfs_register(y.pointer,e?1:0),m.treeList=async function(){const e=Object.create(null);return await async function e(t,r){r.name=t.name,r.dirs=[],r.files=[];for await(const n of t.values())if("directory"===n.kind){const t=Object.create(null);r.dirs.push(t),await e(n,t)}else r.files.push(n.name)}(m.rootDirectory,e),e},m.rmfr=async function(){const e=m.rootDirectory,t={recurse:!0};for await(const r of e.values())e.removeEntry(r.name,t)},m.unlink=async function(e,t=!1,r=!1){try{const[r,n]=await m.getDirForFilename(e,!1);return await r.removeEntry(n,{recursive:t}),!0}catch(yo){if(r)throw new Error("unlink(",arguments[0],") failed: "+yo.message,{cause:yo});return!1}},m.traverse=async function(e){const t={recursive:!0,directory:m.rootDirectory};"function"==typeof e&&(e={callback:e});!async function t(r,n){for await(const i of r.values()){if(!1===e.callback(i,r,n))return!1;if(e.recursive&&"directory"===i.kind&&!1===await t(i,n+1))break}}((e=Object.assign(t,e||{})).directory,0)};if(m.importDb=async function(e,t){if(t instanceof Function)return async function(e,t){const[r,n]=await m.getDirForFilename(e,!0),i=await r.getFileHandle(n,{create:!0});let o,s=await i.createSyncAccessHandle(),a=0,l=!1;try{for(s.truncate(0);void 0!==(o=await t());)o instanceof ArrayBuffer&&(o=new Uint8Array(o)),0===a&&o.byteLength>=15&&(f.affirmDbHeader(o),l=!0),s.write(o,{at:a}),a+=o.byteLength;if((a<512||0!=a%512)&&c("Input size",a,"is not correct for an SQLite database."),!l){const e=new Uint8Array(20);s.read(e,{at:0}),f.affirmDbHeader(e)}return s.write(new Uint8Array([1,1]),{at:18}),a}catch(yo){throw await s.close(),s=void 0,await r.removeEntry(n).catch((()=>{})),yo}finally{s&&await s.close()}}(e,t);t instanceof ArrayBuffer&&(t=new Uint8Array(t)),f.affirmIsDb(t);const r=t.byteLength,[n,i]=await m.getDirForFilename(e,!0);let o,s=0;try{const e=await n.getFileHandle(i,{create:!0});return o=await e.createSyncAccessHandle(),o.truncate(0),s=o.write(t,{at:0}),s!=r&&c("Expected to write "+r+" bytes but wrote "+s+"."),o.write(new Uint8Array([1,1]),{at:18}),s}catch(yo){throw o&&(await o.close(),o=void 0),await n.removeEntry(i).catch((()=>{})),yo}finally{o&&await o.close()}},e.oo1){const t=function(...t){const r=e.oo1.DB.dbCtorHelper.normalizeArgs(...t);r.vfs=y.$zName,e.oo1.DB.dbCtorHelper.call(this,r)};t.prototype=Object.create(e.oo1.DB.prototype),e.oo1.OpfsDb=t,t.importDb=m.importDb,e.oo1.DB.dbCtorHelper.setVfsPostOpenSql(y.pointer,(function(e,t){t.capi.sqlite3_busy_timeout(e,1e4),t.capi.sqlite3_exec(e,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)}))}q.onmessage=function({data:t}){switch(t.type){case"opfs-unavailable":w(new Error(t.payload.join(" ")));break;case"opfs-async-loaded":q.postMessage({type:"opfs-async-init",args:x});break;case"opfs-async-inited":if(!0===b)break;try{e.vfs.installVfs({io:{struct:g,methods:F},vfs:{struct:y,methods:R}}),x.sabOPView=new Int32Array(x.sabOP),x.sabFileBufView=new Uint8Array(x.sabIO,0,x.fileBufferSize),x.sabS11nView=new Uint8Array(x.sabIO,x.sabS11nOffset,x.sabS11nSize),(()=>{if(x.s11n)return x.s11n;const e=new TextDecoder,t=new TextEncoder("utf-8"),r=new Uint8Array(x.sabIO,x.sabS11nOffset,x.sabS11nSize),n=new DataView(x.sabIO,x.sabS11nOffset,x.sabS11nSize);x.s11n=Object.create(null);const i=Object.create(null);i.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},i.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},i.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},i.string={id:4};const o=e=>{switch(e){case i.number.id:return i.number;case i.bigint.id:return i.bigint;case i.boolean.id:return i.boolean;case i.string.id:return i.string;default:c("Invalid type ID:",e)}};x.s11n.deserialize=function(t=!1){++A.s11n.deserialize.count;const i=performance.now(),s=r[0],a=s?[]:null;if(s){const t=[];let i,l,c,u=1;for(i=0;i<s;++i,++u)t.push(o(r[u]));for(i=0;i<s;++i){const o=t[i];o.getter?(c=n[o.getter](u,x.littleEndian),u+=o.size):(l=n.getInt32(u,x.littleEndian),u+=4,c=e.decode(r.slice(u,u+l)),u+=l),a.push(c)}}return t&&(r[0]=0),A.s11n.deserialize.time+=performance.now()-i,a},x.s11n.serialize=function(...e){const o=performance.now();if(++A.s11n.serialize.count,e.length){const o=[];let a=0,l=1;for(r[0]=255&e.length;a<e.length;++a,++l)o.push((s=e[a],i[typeof s]||c("Maintenance required: this value type cannot be serialized.",s))),r[l]=o[a].id;for(a=0;a<e.length;++a){const i=o[a];if(i.setter)n[i.setter](l,e[a],x.littleEndian),l+=i.size;else{const i=t.encode(e[a]);n.setInt32(l,i.byteLength,x.littleEndian),l+=4,r.set(i,l),l+=i.byteLength}}}else r[0]=0;var s;A.s11n.serialize.time+=performance.now()-o},x.s11n})(),r.sanityChecks&&(a("Running sanity checks because of opfs-sanity-check URL arg..."),function(){const e=p.scopedAllocPush(),t=new h;try{const e=t.pointer,r=u.SQLITE_OPEN_CREATE|u.SQLITE_OPEN_READWRITE|u.SQLITE_OPEN_MAIN_DB,n=p.scopedAlloc(8),i="/sanity/check/file"+I(8),o=p.scopedAllocCString(i);let f;if(x.s11n.serialize("This is  string."),f=x.s11n.deserialize(),s("deserialize() says:",f),"This is  string."!==f[0]&&c("String d13n error."),R.xAccess(y.pointer,o,0,n),f=p.peek(n,"i32"),s("xAccess(",i,") exists ?=",f),f=R.xOpen(y.pointer,o,e,r,n),s("open rc =",f,"state.sabOPView[xOpen] =",x.sabOPView[x.opIds.xOpen]),0!==f)return void l("open failed with code",f);R.xAccess(y.pointer,o,0,n),f=p.peek(n,"i32"),f||c("xAccess() failed to detect file."),f=F.xSync(t.pointer,0),f&&c("sync failed w/ rc",f),f=F.xTruncate(t.pointer,1024),f&&c("truncate failed w/ rc",f),p.poke(n,0,"i64"),f=F.xFileSize(t.pointer,n),f&&c("xFileSize failed w/ rc",f),s("xFileSize says:",p.peek(n,"i64")),f=F.xWrite(t.pointer,o,10,1),f&&c("xWrite() failed!");const d=p.scopedAlloc(16);f=F.xRead(t.pointer,d,6,2),p.poke(d+6,0);let h=p.cstrToJs(d);s("xRead() got:",h),"sanity"!==h&&c("Unexpected xRead() value."),R.xSleep&&(s("xSleep()ing before close()ing..."),R.xSleep(y.pointer,2e3),s("waking up from xSleep()")),f=F.xClose(e),s("xClose rc =",f,"sabOPView =",x.sabOPView),s("Deleting file:",i),R.xDelete(y.pointer,o,4660),R.xAccess(y.pointer,o,0,n),f=p.peek(n,"i32"),f&&c("Expecting 0 from xAccess(",i,") after xDelete()."),a("End of OPFS sanity checks.")}finally{t.dispose(),p.scopedAllocPop(e)}}()),globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory?navigator.storage.getDirectory().then((t=>{q.onerror=q._originalOnError,delete q._originalOnError,e.opfs=m,m.rootDirectory=t,s("End of OPFS sqlite3_vfs setup.",y),v()})).catch(w):v()}catch(yo){l(yo),w(yo)}break;default:{const e="Unexpected message from the OPFS async worker: "+JSON.stringify(t);l(e),w(new Error(e));break}}}}));return i};t.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push((async e=>{try{let r=t.defaultProxyUri;return e.scriptInfo.sqlite3Dir&&(t.defaultProxyUri=e.scriptInfo.sqlite3Dir+r),t().catch((t=>{e.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",t.message)}))}catch(yo){return e.config.error("installOpfsVfs() exception:",yo),Promise.reject(yo)}}))})),globalThis.sqlite3ApiBootstrap.initializers.push((function(e){const t=e.util.toss,r=e.util.toss3,n=Object.create(null),i=e.capi,o=e.util,s=e.wasm,a=512,l=4096,c=i.SQLITE_OPEN_MAIN_DB|i.SQLITE_OPEN_MAIN_JOURNAL|i.SQLITE_OPEN_SUPER_JOURNAL|i.SQLITE_OPEN_WAL,u=".opaque",f=()=>Math.random().toString(36).slice(2),p=new TextDecoder,d=new TextEncoder,h=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),_=[e.config.error,e.config.warn,e.config.log];e.config.log;const m=e.config.warn;e.config.error;const g=new Map,y=e=>g.get(e),b=(e,t)=>{t?g.set(e,t):g.delete(e)},w=new Map,v=e=>w.get(e),q=(e,t)=>{t?w.set(e,t):w.delete(e)},E={xCheckReservedLock:function(e,t){const r=v(e);return r.log("xCheckReservedLock"),r.storeErr(),s.poke32(t,1),0},xClose:function(e){const t=v(e);t.storeErr();const r=t.getOFileForS3File(e);if(r)try{t.log(`xClose ${r.path}`),t.mapS3FileToOFile(e,!1),r.sah.flush(),r.flags&i.SQLITE_OPEN_DELETEONCLOSE&&t.deletePath(r.path)}catch(yo){return t.storeErr(yo,i.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(e){return i.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(e,t,r){return i.SQLITE_NOTFOUND},xFileSize:function(e,t){const r=v(e);r.log("xFileSize");const n=r.getOFileForS3File(e).sah.getSize()-l;return s.poke64(t,BigInt(n)),0},xLock:function(e,t){const r=v(e);r.log(`xLock ${t}`),r.storeErr();return r.getOFileForS3File(e).lockType=t,0},xRead:function(e,t,r,n){const o=v(e);o.storeErr();const a=o.getOFileForS3File(e);o.log(`xRead ${a.path} ${r} @ ${n}`);try{const e=a.sah.read(s.heap8u().subarray(t,t+r),{at:l+Number(n)});return e<r?(s.heap8u().fill(0,t+e,t+r),i.SQLITE_IOERR_SHORT_READ):0}catch(yo){return o.storeErr(yo,i.SQLITE_IOERR)}},xSectorSize:function(e){return 4096},xSync:function(e,t){const r=v(e);r.log(`xSync ${t}`),r.storeErr();const n=r.getOFileForS3File(e);try{return n.sah.flush(),0}catch(yo){return r.storeErr(yo,i.SQLITE_IOERR)}},xTruncate:function(e,t){const r=v(e);r.log(`xTruncate ${t}`),r.storeErr();const n=r.getOFileForS3File(e);try{return n.sah.truncate(l+Number(t)),0}catch(yo){return r.storeErr(yo,i.SQLITE_IOERR)}},xUnlock:function(e,t){const r=v(e);r.log("xUnlock");return r.getOFileForS3File(e).lockType=t,0},xWrite:function(e,r,n,o){const a=v(e);a.storeErr();const c=a.getOFileForS3File(e);a.log(`xWrite ${c.path} ${n} ${o}`);try{return n===c.sah.write(s.heap8u().subarray(r,r+n),{at:l+Number(o)})?0:t("Unknown write() failure.")}catch(yo){return a.storeErr(yo,i.SQLITE_IOERR)}}},S=new i.sqlite3_io_methods;S.$iVersion=1,e.vfs.installVfs({io:{struct:S,methods:E}});const x={xAccess:function(e,t,r,n){const i=y(e);i.storeErr();try{const e=i.getPath(t);s.poke32(n,i.hasFilename(e)?1:0)}catch(yo){s.poke32(n,0)}return 0},xCurrentTime:function(e,t){return s.poke(t,2440587.5+(new Date).getTime()/864e5,"double"),0},xCurrentTimeInt64:function(e,t){return s.poke(t,21086676e7+(new Date).getTime(),"i64"),0},xDelete:function(e,t,r){const n=y(e);n.log(`xDelete ${s.cstrToJs(t)}`),n.storeErr();try{return n.deletePath(n.getPath(t)),0}catch(yo){return n.storeErr(yo),i.SQLITE_IOERR_DELETE}},xFullPathname:function(e,t,r,n){return s.cstrncpy(n,t,r)<r?0:i.SQLITE_CANTOPEN},xGetLastError:function(e,t,r){const n=y(e),o=n.popErr();if(n.log(`xGetLastError ${t} e =`,o),o){const e=s.scopedAllocPush();try{const[e,n]=s.scopedAllocCString(o.message,!0);s.cstrncpy(r,e,t),n>t&&s.poke8(r+t-1,0)}catch(a){return i.SQLITE_NOMEM}finally{s.scopedAllocPop(e)}}return o?o.sqlite3Rc||i.SQLITE_IOERR:0},xOpen:function(e,r,n,o,a){const l=y(e);try{l.log(`xOpen ${s.cstrToJs(r)} ${o}`);const e=r&&s.peek8(r)?l.getPath(r):f();let c=l.getSAHForPath(e);!c&&o&i.SQLITE_OPEN_CREATE&&(l.getFileCount()<l.getCapacity()?(c=l.nextAvailableSAH(),l.setAssociatedPath(c,e,o)):t("SAH pool is full. Cannot create file",e)),c||t("file not found:",e);const u={path:e,flags:o,sah:c};l.mapS3FileToOFile(n,u),u.lockType=i.SQLITE_LOCK_NONE;const p=new i.sqlite3_file(n);return p.$pMethods=S.pointer,p.dispose(),s.poke32(a,o),0}catch(yo){return l.storeErr(yo),i.SQLITE_CANTOPEN}}};class A{vfsDir;#e;#t;#r;#n=new Map;#i=new Map;#o=new Set;#s=new Map;#a=new Uint8Array(516);#l;#c;#u;constructor(t=Object.create(null)){this.#u=t.verbosity??h.verbosity,this.vfsName=t.name||h.name,this.#c=function(t){e.capi.sqlite3_vfs_find(t)&&r("VFS name is already registered:",t);const n=new i.sqlite3_vfs,o=i.sqlite3_vfs_find(null),l=o?new i.sqlite3_vfs(o):null;return n.$iVersion=2,n.$szOsFile=i.sqlite3_file.structInfo.sizeof,n.$mxPathname=a,n.addOnDispose(n.$zName=s.allocCString(t),(()=>b(n.pointer,0))),l&&(n.$xRandomness=l.$xRandomness,n.$xSleep=l.$xSleep,l.dispose()),n.$xRandomness||x.xRandomness||(x.xRandomness=function(e,t,r){const n=s.heap8u();let i=0;for(;i<t;++i)n[r+i]=255e3*Math.random()&255;return i}),n.$xSleep||x.xSleep||(x.xSleep=(e,t)=>0),e.vfs.installVfs({vfs:{struct:n,methods:x}}),n}(this.vfsName),b(this.#c.pointer,this),this.vfsDir=t.directory||"."+this.vfsName,this.#l=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(t.clearOnInit??h.clearOnInit)).then((()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(t.initialCapacity||h.initialCapacity)}))}#f(e,...t){this.#u>e&&_[e](this.vfsName+":",...t)}log(...e){this.#f(2,...e)}warn(...e){this.#f(1,...e)}error(...e){this.#f(0,...e)}getVfs(){return this.#c}getCapacity(){return this.#n.size}getFileCount(){return this.#i.size}getFileNames(){const e=[],t=this.#i.keys();for(const r of t)e.push(r);return e}async addCapacity(e){for(let t=0;t<e;++t){const e=f(),t=await this.#t.getFileHandle(e,{create:!0}),r=await t.createSyncAccessHandle();this.#n.set(r,e),this.setAssociatedPath(r,"",0)}return this.getCapacity()}async reduceCapacity(e){let t=0;for(const r of Array.from(this.#o)){if(t===e||this.getFileCount()===this.getCapacity())break;const n=this.#n.get(r);r.close(),await this.#t.removeEntry(n),this.#n.delete(r),this.#o.delete(r),++t}return t}releaseAccessHandles(){for(const e of this.#n.keys())e.close();this.#n.clear(),this.#i.clear(),this.#o.clear()}async acquireAccessHandles(e){const t=[];for await(const[r,n]of this.#t)"file"===n.kind&&t.push([r,n]);return Promise.all(t.map((async([t,r])=>{try{const n=await r.createSyncAccessHandle();if(this.#n.set(n,t),e)n.truncate(l),this.setAssociatedPath(n,"",0);else{const e=this.getAssociatedPath(n);e?this.#i.set(e,n):this.#o.add(n)}}catch(yo){throw this.storeErr(yo),this.releaseAccessHandles(),yo}})))}getAssociatedPath(e){e.read(this.#a,{at:0});const t=this.#l.getUint32(512);if(this.#a[0]&&(t&i.SQLITE_OPEN_DELETEONCLOSE||!(t&c)))return m(`Removing file with unexpected flags ${t.toString(16)}`,this.#a),this.setAssociatedPath(e,"",0),"";const r=new Uint32Array(2);e.read(r,{at:516});const n=this.computeDigest(this.#a);if(r.every(((e,t)=>e===n[t]))){const t=this.#a.findIndex((e=>0===e));return 0===t&&e.truncate(l),t?p.decode(this.#a.subarray(0,t)):""}return m("Disassociating file with bad digest."),this.setAssociatedPath(e,"",0),""}setAssociatedPath(e,r,n){const i=d.encodeInto(r,this.#a);a<=i.written+1&&t("Path too long:",r),this.#a.fill(0,i.written,a),this.#l.setUint32(512,n);const o=this.computeDigest(this.#a);e.write(this.#a,{at:0}),e.write(o,{at:516}),e.flush(),r?(this.#i.set(r,e),this.#o.delete(e)):(e.truncate(l),this.#o.add(e))}computeDigest(e){let t=3735928559,r=1103547991;for(const n of e)t=31*t+307*n,r=31*r+307*n;return new Uint32Array([t>>>0,r>>>0])}async reset(e){await this.isReady;let t,r=await navigator.storage.getDirectory();for(const n of this.vfsDir.split("/"))n&&(t=r,r=await r.getDirectoryHandle(n,{create:!0}));return this.#e=r,this.#r=t,this.#t=await this.#e.getDirectoryHandle(u,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(e)}getPath(e){return s.isPtr(e)&&(e=s.cstrToJs(e)),(e instanceof URL?e:new URL(e,"file://localhost/")).pathname}deletePath(e){const t=this.#i.get(e);return t&&(this.#i.delete(e),this.setAssociatedPath(t,"",0)),!!t}storeErr(e,t){return e&&(e.sqlite3Rc=t||i.SQLITE_IOERR,this.error(e)),this.$error=e,t}popErr(){const e=this.$error;return this.$error=void 0,e}nextAvailableSAH(){const[e]=this.#o.keys();return e}getOFileForS3File(e){return this.#s.get(e)}mapS3FileToOFile(e,t){t?(this.#s.set(e,t),q(e,this)):(this.#s.delete(e),q(e,!1))}hasFilename(e){return this.#i.has(e)}getSAHForPath(e){return this.#i.get(e)}async removeVfs(){if(!this.#c.pointer||!this.#t)return!1;i.sqlite3_vfs_unregister(this.#c.pointer),this.#c.dispose();try{this.releaseAccessHandles(),await this.#e.removeEntry(u,{recursive:!0}),this.#t=void 0,await this.#r.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#r=void 0}catch(yo){e.config.error(this.vfsName,"removeVfs() failed:",yo)}return!0}exportFile(e){const r=this.#i.get(e)||t("File not found:",e),n=r.getSize()-l,i=new Uint8Array(n>0?n:0);if(n>0){const e=r.read(i,{at:l});e!=n&&t("Expected to read "+n+" bytes but read "+e+".")}return i}async importDbChunked(e,r){const n=this.#i.get(e)||this.nextAvailableSAH()||t("No available handles to import to.");n.truncate(0);let s,a=0,c=!1;try{for(;void 0!==(s=await r());)s instanceof ArrayBuffer&&(s=new Uint8Array(s)),0===a&&s.byteLength>=15&&(o.affirmDbHeader(s),c=!0),n.write(s,{at:l+a}),a+=s.byteLength;if((a<512||0!=a%512)&&t("Input size",a,"is not correct for an SQLite database."),!c){const e=new Uint8Array(20);n.read(e,{at:0}),o.affirmDbHeader(e)}n.write(new Uint8Array([1,1]),{at:4114})}catch(yo){throw this.setAssociatedPath(n,"",0),yo}return this.setAssociatedPath(n,e,i.SQLITE_OPEN_MAIN_DB),a}importDb(e,r){if(r instanceof ArrayBuffer)r=new Uint8Array(r);else if(r instanceof Function)return this.importDbChunked(e,r);const n=this.#i.get(e)||this.nextAvailableSAH()||t("No available handles to import to."),o=r.byteLength;(o<512||o%512!=0)&&t("Byte array size is invalid for an SQLite db.");const s="SQLite format 3";for(let i=0;i<15;++i)s.charCodeAt(i)!==r[i]&&t("Input does not contain an SQLite database header.");const a=n.write(r,{at:l});return a!=o?(this.setAssociatedPath(n,"",0),t("Expected to write "+o+" bytes but wrote "+a+".")):(n.write(new Uint8Array([1,1]),{at:4114}),this.setAssociatedPath(n,e,i.SQLITE_OPEN_MAIN_DB)),a}}class k{#p;constructor(e){this.#p=e,this.vfsName=e.vfsName}async addCapacity(e){return this.#p.addCapacity(e)}async reduceCapacity(e){return this.#p.reduceCapacity(e)}getCapacity(){return this.#p.getCapacity(this.#p)}getFileCount(){return this.#p.getFileCount()}getFileNames(){return this.#p.getFileNames()}async reserveMinimumCapacity(e){const t=this.#p.getCapacity();return t<e?this.#p.addCapacity(e-t):t}exportFile(e){return this.#p.exportFile(e)}importDb(e,t){return this.#p.importDb(e,t)}async wipeFiles(){return this.#p.reset(!0)}unlink(e){return this.#p.deletePath(e)}async removeVfs(){return this.#p.removeVfs()}}e.installOpfsSAHPoolVfs=async function(r=Object.create(null)){const i=r.name||h.name;return n[i]?n[i]:globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory?n[i]=(async()=>{const e=await navigator.storage.getDirectory(),r=".opfs-sahpool-sync-check-"+f(),n=await e.getFileHandle(r,{create:!0}),i=(await n.createSyncAccessHandle()).close();return await i,await e.removeEntry(r),i?.then&&t("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0})().then((async function(){if(r.$testThrowInInit)throw r.$testThrowInInit;const t=new A(r);return t.isReady.then((async()=>{const r=new k(t);if(e.oo1){const n=e.oo1,i=t.getVfs(),o=function(...e){const t=n.DB.dbCtorHelper.normalizeArgs(...e);t.vfs=i.$zName,n.DB.dbCtorHelper.call(this,t)};o.prototype=Object.create(n.DB.prototype),r.OpfsSAHPoolDb=o,n.DB.dbCtorHelper.setVfsPostOpenSql(i.pointer,(function(e,t){t.capi.sqlite3_exec(e,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)}))}return t.log("VFS initialized."),r})).catch((async e=>{throw await t.removeVfs().catch((()=>{})),e}))})).catch((e=>n[i]=Promise.reject(e))):n[i]=Promise.reject(new Error("Missing required OPFS APIs."))}})),void 0!==e){const t=Object.assign(Object.create(null),{exports:void 0===ye?e.asm:ye,memory:e.wasmMemory},globalThis.sqlite3ApiConfig||{});let r;globalThis.sqlite3ApiConfig=t;try{r=globalThis.sqlite3ApiBootstrap()}catch(yo){throw console.error("sqlite3ApiBootstrap() error:",yo),yo}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}e.sqlite3=r}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")})),i})();const Ni=function(){const e=Ci;if(!e)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const t=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:"undefined"!=typeof WorkerGlobalScope,location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(t.debugModule=t.urlParams.has("sqlite3.debugModule")?(...e)=>console.warn("sqlite3.debugModule:",...e):()=>{},t.urlParams.has("sqlite3.dir"))t.sqlite3Dir=t.urlParams.get("sqlite3.dir")+"/";else if(t.moduleScript){const e=t.moduleScript.src.split("/");e.pop(),t.sqlite3Dir=e.join("/")+"/"}if(globalThis.sqlite3InitModule=function r(...n){return e(...n).then((e=>{const n=e.sqlite3;n.scriptInfo=t,r.__isUnderTest&&(n.__isUnderTest=!0);const i=n.asyncPostInit;return delete n.asyncPostInit,i()})).catch((e=>{throw console.error("Exception loading sqlite3 module:",e),e}))},globalThis.sqlite3InitModule.ready=e.ready,globalThis.sqlite3InitModuleState.moduleScript){const e=globalThis.sqlite3InitModuleState;let t=e.moduleScript.src.split("/");t.pop(),e.scriptDir=t.join("/")+"/"}return t.debugModule("sqlite3InitModuleState =",t),globalThis.sqlite3InitModule}();var Di=Ci=Ni;const Bi="";function Mi(e){return/JSON/i.test(e)?"JSON":/DATE/i.test(e)?"DATE":/BOOLEAN/i.test(e)?"BOOLEAN":/INT/i.test(e)?"INTEGER":/(CHAR|CLOB|TEXT)/i.test(e)?"TEXT":/BLOB/i.test(e)?"BLOB":/(REAL|FLOA|DOUB)/i.test(e)?"REAL":/(NUMERIC|DECIMAL)/i.test(e)?"NUMERIC":"?"}Object.defineProperty(globalThis,"__SHOELACE_VERSION__",{value:"custom"});const Ui=new Map,zi=new Map,Wi=2**20,Hi=2**30;let Qi=200*Wi;const $i=(e,t,r)=>({xOpen:(n,i,o,s,a)=>{let l=e.cstrToJs(i);l||=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(36);let c=Ui.get(l);if(!c){if(!(s&t.SQLITE_OPEN_CREATE))return t.SQLITE_CANTOPEN;{const e=new ArrayBuffer(0,{maxByteLength:Math.min(Qi,4*Hi)||4*Hi});c={name:l,flags:s,size:0,data:new Uint8Array(e),lockType:t.SQLITE_LOCK_NONE},Ui.set(l,c)}}const u=new t.sqlite3_file(o);return u.$pMethods=r.pointer,u.dispose(),zi.set(o,c),e.poke32(a,s),t.SQLITE_OK},xDelete:(r,n,i)=>{let o=e.cstrToJs(n);return Ui.delete(o),t.SQLITE_OK},xAccess:(r,n,i,o)=>{let s=e.cstrToJs(n);const a=Ui.has(s);return e.poke32(o,a?1:0),t.SQLITE_OK},xFullPathname:(r,n,i,o)=>e.cstrncpy(o,n,i)<i?t.SQLITE_OK:t.SQLITE_CANTOPEN,xRandomness:(t,r,n)=>{const i=e.heap8u();let o=0;for(;o<r;++o)i[n+o]=255e3*Math.random()&255;return o},xSleep:(e,r)=>t.SQLITE_OK,xCurrentTime:(r,n)=>(e.poke(n,2440587.5+(new Date).getTime()/864e5,"double"),t.SQLITE_OK),xGetLastError:()=>(console.warn("OPFS xGetLastError() has nothing sensible to return."),t.SQLITE_OK)}),Vi=(e,t)=>({xClose:e=>{const r=zi.get(e);return zi.delete(e),r.flags&t.SQLITE_OPEN_DELETEONCLOSE&&Ui.delete(r.name),t.SQLITE_OK},xRead:(r,n,i,o)=>{const s=zi.get(r),a=Number(o),l=s.data.subarray(a,a+i);return e.heap8u().set(l,n),l.byteLength<i?(e.heap8u().fill(0,n+l.byteLength,n+i),t.SQLITE_IOERR_SHORT_READ):t.SQLITE_OK},xWrite:(r,n,i,o)=>{const s=zi.get(r),a=Number(o);if(a+i>s.data.byteLength)if(s.data.buffer.resizable)s.data.buffer.resize(a+i);else{const e=Math.max(a+i,2*s.data.byteLength),t=new Uint8Array(e);t.set(s.data),s.data=t}const l=e.heap8u().subarray(n,n+i);return s.data.set(l,a),s.size=Math.max(s.size,a+i),t.SQLITE_OK},xTruncate:(e,r)=>{const n=zi.get(e),i=Number(r);return n.size=Math.min(n.size,i),n.data.buffer.resizable&&n.data.buffer.resize(i),t.SQLITE_OK},xSync:(e,r)=>t.SQLITE_OK,xFileSize:(r,n)=>{const i=zi.get(r);return e.poke64(n,BigInt(i.size)),t.SQLITE_OK},xLock:(e,r)=>(zi.get(e).lockType=r,t.SQLITE_OK),xUnlock:(e,r)=>(zi.get(e).lockType=r,t.SQLITE_OK),xCheckReservedLock:(r,n)=>{const i=zi.get(r);return e.poke(n,i.lockType?1:0,"i32"),t.SQLITE_OK},xFileControl:(e,r,n)=>t.SQLITE_NOTFOUND,xSectorSize:e=>4096,xDeviceCharacteristics:e=>t.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN});function Gi(e,...t){return e.reduce(((r,n,i)=>{let o=t[i]??"";const s=(e[i+1]??"").trim(),a=n.trim();return a.endsWith("[")&&s.startsWith("]")&&(o=String(o).replaceAll("[","[[").replaceAll("]","]]")),a.endsWith("'")&&s.startsWith("'")&&(o=String(o).replaceAll("'","''")),a.endsWith('"')&&s.startsWith('"')&&(o=String(o).replaceAll('"','""')),r+n+(o??"")}),"")}async function Ki(e){return await async function(e){return(new ji).fromBuffer(e)}(e)}let Ji;function Yi(e){return Ji??=Di({locateFile:t=>e[t]??(()=>{throw Error(`Could not locate ${t}`)})()})}const Xi=Symbol("sql"),Zi=()=>new Promise((e=>setTimeout(e,0)));async function eo(e,t,r){const n=await e.getFileHandle(t,{create:!0});if("createWritable"in n){const e=await n.createWritable();await e.write(r),await e.close()}else{const e=await n.createSyncAccessHandle(),t=e.write(r);e.truncate(t),e.flush(),e.close()}}class to{constructor(e,t){this.sqliteWasm=t,this.filename=encodeURIComponent(e)}#d;#h;#_=new Map;async initStream(e,t,r){this.#d=(async()=>{const t=await Yi({"sqlite3.wasm":this.sqliteWasm}),n=[];return await e.pipeTo(new WritableStream({write(e){n.push(e)}})),this.#m(t,function(e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}(n),r)})()}async initBuffer(e,t,{maxFileSize:r=209715200}={}){this.#d=(async()=>{const n=await Yi({"sqlite3.wasm":this.sqliteWasm});if(n.oo1.OpfsDb)try{const r=await navigator.storage.getDirectory();if(await Promise.all([t&&t.byteLength>0&&eo(r,`${this.filename}-wal`,t),eo(r,this.filename,e)]),0===(await(await r.getFileHandle(this.filename)).getFile()).size)throw Error("webkit bug");return this.#g(n,!!t&&t.byteLength>0)}catch(i){if(!(i instanceof Error&&"webkit bug"===i.message))throw i}return this.#m(n,e,t,{maxFileSize:r})})()}static{this.mergeWalPragmas=["PRAGMA locking_mode = EXCLUSIVE;","PRAGMA journal_mode = WAL;","PRAGMA wal_checkpoint(FULL);","PRAGMA journal_mode = OFF;"]}#g(e,t=!1){if(t){const t=new e.capi.sqlite3_vfs(e.capi.sqlite3_vfs_find("opfs")),r=e.oo1.DB.dbCtorHelper;r.setVfsPostOpenSql(t.pointer,((e,t)=>{t.capi.sqlite3_busy_timeout(e,1e4),t.capi.sqlite3_exec(e,[...to.mergeWalPragmas],0,0,0)})),new e.oo1.OpfsDb(this.filename,"c").close(),r.setVfsPostOpenSql(t.pointer,((e,t)=>{t.capi.sqlite3_busy_timeout(e,1e4),t.capi.sqlite3_exec(e,["PRAGMA journal_mode = DELETE;","PRAGMA cache_size = -16384;"],0,0,0)}))}const r=new URL(`file://localhost/${this.filename}?immutable=1`),n=new e.oo1.OpfsDb(r.href,void 0);return this.#y(n),n}#m(e,t,r,{maxFileSize:n=209715200}={}){if(!e.capi.sqlite3_vfs_find("mem2")){const t=e.capi.sqlite3_vfs_find(null),r=t?new e.capi.sqlite3_vfs(t):null,n=new e.capi.sqlite3_io_methods;n.$iVersion=1;const i=(new e.capi.sqlite3_vfs).addOnDispose((()=>{n.dispose()}));i.$iVersion=2,i.$szOsFile=e.capi.sqlite3_file.structInfo.sizeof,i.$mxPathname=1024,i.$zName=e.wasm.allocCString("mem2",!1),i.$xDlOpen=i.$xDlError=i.$xDlSym=i.$xDlClose=null,r&&(i.$xRandomness=r.$xRandomness,i.$xSleep=r.$xSleep,r.dispose());const o=((e,t)=>({io:Vi(e.wasm,e.capi),vfs:$i(e.wasm,e.capi,t)}))(e,n);e.vfs.installVfs({io:{struct:n,methods:o.io},vfs:{struct:i,methods:o.vfs}}),e.oo1.DB.dbCtorHelper.setVfsPostOpenSql(i.pointer,((e,t)=>{t.capi.sqlite3_busy_timeout(e,1e4),t.capi.sqlite3_exec(e,[...to.mergeWalPragmas,"PRAGMA synchronous = OFF","PRAGMA auto_vacuum = NONE;","PRAGMA cache_size = -16384;"],0,0,0)}))}!function(e,t,r,{maxFileSize:n=200*Wi}={}){const i=new ArrayBuffer(t.byteLength,{maxByteLength:Math.min(n,4*Hi)||4*Hi}),o=new Uint8Array(i);Qi=n,o.set(t),Ui.set(e,{name:e,flags:0,size:t.byteLength,data:o,lockType:0}),r&&Ui.set(`${e}-wal`,{name:`${e}-wal`,flags:0,size:r.byteLength,data:r,lockType:0})}(this.filename,t,r,{maxFileSize:n});const i=new e.oo1.DB({vfs:"mem2",filename:this.filename});return this.#y(i),i}#y(e){e.exec("PRAGMA foreign_keys = ON;"),e.exec("SELECT * FROM main.sqlite_schema LIMIT 0")}get[Xi](){return this.#d}get tableGroups(){return this.#h||=async function(e,t){const r=await e[Xi],n=await io(r,"SELECT * FROM main.sqlite_schema ORDER BY type, tbl_name",t);return async function(e,t,r){const n=t.objectValues.filter((e=>"table"===e.type)),i=t.objectValues.filter((e=>"view"===e.type)),o=t.objectValues.filter((e=>"index"===e.type)).filter((e=>!e.name.startsWith("sqlite_autoindex_"))),s=await e[Xi],[a,l,c]=await Promise.all([Promise.all(n.map((e=>so(s,e,r)))),Promise.all(i.map((e=>so(s,e,r)))),Promise.all(o.map((e=>so(s,e,r))))]),u=[{filename:decodeURIComponent(e.filename),type:"table",tables:a,subRows:a},{filename:decodeURIComponent(e.filename),type:"view",tables:l,subRows:l},{filename:decodeURIComponent(e.filename),type:"index",tables:c,subRows:c}];return u}(e,n,t)}(this)}async#b(e,t){const r=(await this.tableGroups)[["table","view","index","trigger"].indexOf(e)].tables.find((e=>e.uiName===t));if(!r)throw Error(`Could not find schema for table: "${t}"`);return r}async close1(){const e=await this.#d;e?.close();try{const e=await navigator.storage.getDirectory();await e.removeEntry(this.filename)}catch{}}async getCount(e,t,{sorting:r=[],columnFilters:n={},globalFilter:i=""}={},o){const s=await this.#d,a=await this.#b(e,t),l=Gi`SELECT COUNT(*) FROM [${t}] ${fo(r,n,i,a.columnsMeta,a.hasRowId)}`;let c=this.#_.get(l);if(!c){const e=performance.now();c=Number(await oo(s,l,o));performance.now()-e>50&&this.#_.set(l,c)}return c}async getPage1(e,t,{offset:r=0,sorting:n=[],columnFilters:i={},globalFilter:o=""}={},s){const a=await this.#d,l=await this.#b(e,t),c=fo(n,i,o,l.columnsMeta,l.hasRowId),u=Gi`LIMIT ${300} OFFSET ${r}`,f=Gi`${uo(l)} ${c} ${u}`,{objectValues:p}=await io(a,f,s);return{offset:r,objectValues:p}}async getIdsFromToIndex(e,t,r,n,{sorting:i=[],columnFilters:o={},globalFilter:s=""}={},a){const l=await this.#d,c=Math.min(r,n),u=`LIMIT ${Math.abs(n-r)+1} OFFSET ${c}`,f=await this.#b(e,t),p=fo(i,o,s,f.columnsMeta,f.hasRowId),d=`${uo(f)} ${p} ${u}`,{objectValues:h}=await io(l,d,a);return new Set(h.map((e=>e.ROWID)))}async getByRowId(e,t,r,{textCutoff:n=1024,blobCutoff:i=1024}={},o){const s=await this.getByRowIds1(e,t,[r],{textCutoff:n,blobCutoff:i},o);return s?.objectValues?.[0]}async getByRowIds1(e,t,r=[],{textCutoff:n=1024,blobCutoff:i=1024}={},o){const s=await this.#d,a=Array.from(r);if(!a.length)return{columns:[],objectValues:[]};const l=await this.#b(e,t),c=`${uo(l,{textCutoff:n,blobCutoff:i})} ${function(e,t){if(!t.length)return"";if(/WITHOUT\s+ROWID/i.test(e.sql)){const r=t.map((e=>String(e).split(Bi))),n=ao(e),i=e=>n.map(((t,r)=>Gi`${t}='${e[r]}'`)).join(" AND ");return Gi`WHERE ${r.map((e=>`(${i(e)})`)).join(" OR ")}`}return 1===t.length?Gi`WHERE ROWID = ${t[0]}`:Gi`WHERE ROWID IN (${t.join(", ")})`}(l,a)} LIMIT ${a.length}`,u=await io(s,c,o);return u.objectValues=a.map(((e,t)=>u.objectValues.find((t=>t.ROWID==e)))),u}async getBlob1(e,t,r,n,i){const o=await this.#d,s=await this.#b(e,t),a=await oo(o,Gi`SELECT [${n}] FROM [${s.tblName}] WHERE ROWID=${r}`,i);return E({data:a,type:await Ki(a),size:a.byteLength},[a.buffer])}async export(){const e=await this.#d,t=(await Yi({"sqlite3.wasm":this.sqliteWasm})).capi.sqlite3_js_db_export(e.pointer,"main");return E(t,[t.buffer])}}const ro=performance?.now?.bind(performance)??Date.now.bind(Date),no=50;async function io(e,t,r){const n=[],i=e.prepare(t),o=i.getColumnNames();try{await Zi(),r?.throwIfAborted();let e=ro()+no,t=i.step();for(;t;){ro()>e&&(await Zi(),r?.throwIfAborted(),e=ro()+no);const o=i.get({});for(const e in o){const t=o[e];if(t instanceof Uint8Array){const r=await Ki(t);o[`${e}__mime__`]=r,o[e]=E(t,[t.buffer])}}n.push(o),t=i.step()}return{columns:o,objectValues:n}}finally{i.finalize()}}async function oo(e,t,r){await Zi(),r?.throwIfAborted();const n=e.selectArray(t)?.[0];return n}async function so(e,{type:t,sql:r,...n},i){const o=n.tbl_name,s=Gi`
      SELECT tableInfo.*,
        foreignKeyList.[table] AS fkTable,
        foreignKeyList.[to] AS fkName,
        CASE WHEN foreignKeyList.[from] IS NOT NULL THEN 1 ELSE 0 END AS fk 
      FROM pragma_table_xinfo('${o}') AS tableInfo
      LEFT JOIN (SELECT * FROM pragma_foreign_key_list('${o}')) AS foreignKeyList 
      ON foreignKeyList.[from]=tableInfo.name
      GROUP BY tableInfo.name
      ORDER BY tableInfo.cid
    `;let a,l;try{a=await io(e,s,i)}catch(p){l=p,a={objectValues:[],columns:[]}}const c=Math.max(...a.objectValues.map((({pk:e})=>e)).filter((e=>!!e))),u=a.objectValues.map((({cid:e,notnull:t,name:r,type:n,pk:i,fk:o,fkTable:s,fkName:a})=>({cid:e,notnull:t,name:r,type:n,typeAffinity:Mi(n),pk:i,numPk:c,fk:o,fkTable:s,fkName:a})));u.unshift({cid:-1,notnull:0,name:"ROWID",type:"ROWID",typeAffinity:"ROWID",pk:0,numPk:0,fk:0,fkTable:0,fkName:0});const f="table"===t&&!/WITHOUT\s+ROWID/i.test(r)||"index"===t;return{...n,error:l,sql:r,hasRowId:f,uiName:n.name,tblName:o,type:t,sub:t,columnsMeta:u,columnsMetaByName:Object.fromEntries(u.map((e=>[e.name,e])))}}const ao=e=>e.columnsMeta.filter((e=>e.pk)).sort(((e,t)=>e.pk-t.pk)).map((e=>Gi`[${e.name}]`)),lo=({textCutoff:e=1024,blobCutoff:t=1024}={})=>r=>Gi`
    CASE 
      WHEN typeof([${r.name}]) = 'blob' THEN SUBSTR([${r.name}], 1, ${e})
      WHEN typeof([${r.name}]) = 'text' THEN SUBSTR([${r.name}], 1, ${t})
      ELSE [${r.name}]
    END AS [${r.name}],
    CASE 
      WHEN typeof([${r.name}]) IN ('blob','text') THEN LENGTH([${r.name}])
      ELSE NULL
    END AS [${r.name+"__size__"}]
  `;function co(e){const t=ao(e);return e.hasRowId?Gi`ROWID AS ROWID`:t.length?`${t.join(Gi` || '${Bi}' || `)} AS ROWID`:void 0}function uo(e,{textCutoff:t=1024,blobCutoff:r=1024,idsOnly:n=!1}={}){const i=n?[]:e.columnsMeta.filter((e=>"ROWID"!==e.name)).map(lo({textCutoff:t,blobCutoff:r}));switch(e.type){case"index":case"table":return Gi`SELECT ${[co(e),...i].filter((e=>!!e)).join(", ")} FROM [${e.tblName}]`;default:return Gi`
        SELECT * FROM (
          ${["SELECT ROW_NUMBER() OVER () AS ROWID",...i].join(", ")}
          FROM [${e.tblName}]
        )
      `}}function fo(e,t,r,n,i=!1){const o=[],s=Object.entries(t).filter((([,{search:e,exact:t,invert:r,nonNullish:n}])=>!!e||t||r||n));if(s.length>0||r){const e=[];if(s.length>0){const t=s.map((([e,{search:t,exact:r,invert:n,nonNullish:i}])=>{const o=t?.replaceAll("%","\\%"),s=n?"NOT ":"",a=n&&!t,l=a?"":"NOT ",c="NULL"===o?Gi`IS ${s}NULL`:"''"===o?Gi`IS ${s}''`:o&&Gi`${s}LIKE '${r?o:`%${o}%`}' ESCAPE '\\'`;return[c&&Gi`[${e}] ${c}`,i?Gi`([${e}] IS ${l}NULL ${a?"OR":"AND"} [${e}] IS ${l}'')`:null].filter((e=>!!e)).join(" AND ")})).filter((e=>!!e));t.length>0&&e.push(t.join(" AND "))}r&&n&&e.push(Gi`(${n.map((e=>Gi`[${e.name}] LIKE '%${r.replaceAll("%","\\%")}%' ESCAPE '\\'`)).join(" OR ")})`),e.length>0&&o.push(Gi`WHERE ${e.join(" AND ")}`)}return e?.length>0?o.push(Gi`ORDER BY ${e.map((e=>Gi`[${e.id}] ${e.desc?"DESC":"ASC"}`)).join(", ")}`):i&&o.push(Gi`ORDER BY ROWID`),o.join(" ")}f(to);var po=_o,ho=fe.EventEmitter;function _o(){ho.call(this)}dn(_o,ho),_o.Readable=Gn(),_o.Writable=Ln(),_o.Duplex=Pn(),_o.Transform=Kn,_o.PassThrough=ai,_o.finished=$n,_o.pipeline=mi,_o.Stream=_o,_o.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===ho.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",l),e.on("error",l),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};var mo=O(po),go=Object.freeze({__proto__:null,default:mo})}();
